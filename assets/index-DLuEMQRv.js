var jA=Object.defineProperty;var SA=(e,t,r)=>t in e?jA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rs=(e,t,r)=>SA(e,typeof t!="symbol"?t+"":t,r);function CA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function oo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var c_={exports:{}},Pf={},u_={exports:{}},ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),NA=Symbol.for("react.portal"),PA=Symbol.for("react.fragment"),EA=Symbol.for("react.strict_mode"),OA=Symbol.for("react.profiler"),AA=Symbol.for("react.provider"),DA=Symbol.for("react.context"),MA=Symbol.for("react.forward_ref"),IA=Symbol.for("react.suspense"),TA=Symbol.for("react.memo"),RA=Symbol.for("react.lazy"),O0=Symbol.iterator;function zA(e){return e===null||typeof e!="object"?null:(e=O0&&e[O0]||e["@@iterator"],typeof e=="function"?e:null)}var d_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f_=Object.assign,p_={};function ls(e,t,r){this.props=e,this.context=t,this.refs=p_,this.updater=r||d_}ls.prototype.isReactComponent={};ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function m_(){}m_.prototype=ls.prototype;function ag(e,t,r){this.props=e,this.context=t,this.refs=p_,this.updater=r||d_}var ig=ag.prototype=new m_;ig.constructor=ag;f_(ig,ls.prototype);ig.isPureReactComponent=!0;var A0=Array.isArray,h_=Object.prototype.hasOwnProperty,sg={current:null},v_={key:!0,ref:!0,__self:!0,__source:!0};function g_(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)h_.call(t,n)&&!v_.hasOwnProperty(n)&&(o[n]=t[n]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)o[n]===void 0&&(o[n]=s[n]);return{$$typeof:uc,type:e,key:a,ref:i,props:o,_owner:sg.current}}function LA(e,t){return{$$typeof:uc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lg(e){return typeof e=="object"&&e!==null&&e.$$typeof===uc}function $A(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var D0=/\/+/g;function tm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?$A(""+e.key):t.toString(36)}function zu(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case uc:case NA:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+tm(i,0):n,A0(o)?(r="",e!=null&&(r=e.replace(D0,"$&/")+"/"),zu(o,t,r,"",function(u){return u})):o!=null&&(lg(o)&&(o=LA(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(D0,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",A0(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+tm(a,s);i+=zu(a,t,r,c,o)}else if(c=zA(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+tm(a,s++),i+=zu(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Jc(e,t,r){if(e==null)return e;var n=[],o=0;return zu(e,n,"","",function(a){return t.call(r,a,o++)}),n}function FA(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},Lu={transition:null},BA={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:sg};function y_(){throw Error("act(...) is not supported in production builds of React.")}ze.Children={map:Jc,forEach:function(e,t,r){Jc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jc(e,function(){t++}),t},toArray:function(e){return Jc(e,function(t){return t})||[]},only:function(e){if(!lg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ze.Component=ls;ze.Fragment=PA;ze.Profiler=OA;ze.PureComponent=ag;ze.StrictMode=EA;ze.Suspense=IA;ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BA;ze.act=y_;ze.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=f_({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=sg.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)h_.call(t,c)&&!v_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:uc,type:e.type,key:o,ref:a,props:n,_owner:i}};ze.createContext=function(e){return e={$$typeof:DA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:AA,_context:e},e.Consumer=e};ze.createElement=g_;ze.createFactory=function(e){var t=g_.bind(null,e);return t.type=e,t};ze.createRef=function(){return{current:null}};ze.forwardRef=function(e){return{$$typeof:MA,render:e}};ze.isValidElement=lg;ze.lazy=function(e){return{$$typeof:RA,_payload:{_status:-1,_result:e},_init:FA}};ze.memo=function(e,t){return{$$typeof:TA,type:e,compare:t===void 0?null:t}};ze.startTransition=function(e){var t=Lu.transition;Lu.transition={};try{e()}finally{Lu.transition=t}};ze.unstable_act=y_;ze.useCallback=function(e,t){return Nr.current.useCallback(e,t)};ze.useContext=function(e){return Nr.current.useContext(e)};ze.useDebugValue=function(){};ze.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};ze.useEffect=function(e,t){return Nr.current.useEffect(e,t)};ze.useId=function(){return Nr.current.useId()};ze.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};ze.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};ze.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};ze.useMemo=function(e,t){return Nr.current.useMemo(e,t)};ze.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};ze.useRef=function(e){return Nr.current.useRef(e)};ze.useState=function(e){return Nr.current.useState(e)};ze.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};ze.useTransition=function(){return Nr.current.useTransition()};ze.version="18.3.1";u_.exports=ze;var h=u_.exports;const ne=oo(h),UA=CA({__proto__:null,default:ne},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qA=h,WA=Symbol.for("react.element"),KA=Symbol.for("react.fragment"),HA=Object.prototype.hasOwnProperty,VA=qA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YA={key:!0,ref:!0,__self:!0,__source:!0};function x_(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)HA.call(t,n)&&!YA.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:WA,type:e,key:a,ref:i,props:o,_owner:VA.current}}Pf.Fragment=KA;Pf.jsx=x_;Pf.jsxs=x_;c_.exports=Pf;var l=c_.exports,b_={exports:{}},on={},w_={exports:{}},k_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var z=M.length;M.push(V);e:for(;0<z;){var Z=z-1>>>1,U=M[Z];if(0<o(U,V))M[Z]=V,M[z]=U,z=Z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],z=M.pop();if(z!==V){M[0]=z;e:for(var Z=0,U=M.length,K=U>>>1;Z<K;){var Q=2*(Z+1)-1,he=M[Q],O=Q+1,re=M[O];if(0>o(he,z))O<U&&0>o(re,he)?(M[Z]=re,M[O]=z,Z=O):(M[Z]=he,M[Q]=z,Z=Q);else if(O<U&&0>o(re,z))M[Z]=re,M[O]=z,Z=O;else break e}}return V}function o(M,V){var z=M.sortIndex-V.sortIndex;return z!==0?z:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=M)n(u),V.sortIndex=V.expirationTime,t(c,V);else break;V=r(u)}}function k(M){if(g=!1,w(M),!v)if(r(c)!==null)v=!0,oe(S);else{var V=r(u);V!==null&&ie(k,V.startTime-M)}}function S(M,V){v=!1,g&&(g=!1,x(C),C=-1),m=!0;var z=p;try{for(w(V),f=r(c);f!==null&&(!(f.expirationTime>V)||M&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var U=Z(f.expirationTime<=V);V=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),w(V)}else n(c);f=r(c)}if(f!==null)var K=!0;else{var Q=r(u);Q!==null&&ie(k,Q.startTime-V),K=!1}return K}finally{f=null,p=z,m=!1}}var _=!1,N=null,C=-1,I=5,B=-1;function P(){return!(e.unstable_now()-B<I)}function R(){if(N!==null){var M=e.unstable_now();B=M;var V=!0;try{V=N(!0,M)}finally{V?Y():(_=!1,N=null)}}else _=!1}var Y;if(typeof b=="function")Y=function(){b(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ae=H.port2;H.port1.onmessage=R,Y=function(){ae.postMessage(null)}}else Y=function(){y(R,0)};function oe(M){N=M,_||(_=!0,Y())}function ie(M,V){C=y(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,oe(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var z=p;p=V;try{return M()}finally{p=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=p;p=M;try{return V()}finally{p=z}},e.unstable_scheduleCallback=function(M,V,z){var Z=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?Z+z:Z):z=Z,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=z+U,M={id:d++,callback:V,priorityLevel:M,startTime:z,expirationTime:U,sortIndex:-1},z>Z?(M.sortIndex=z,t(u,M),r(c)===null&&M===r(u)&&(g?(x(C),C=-1):g=!0,ie(k,z-Z))):(M.sortIndex=U,t(c,M),v||m||(v=!0,oe(S))),M},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(M){var V=p;return function(){var z=p;p=V;try{return M.apply(this,arguments)}finally{p=z}}}})(k_);w_.exports=k_;var GA=w_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XA=h,rn=GA;function ce(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var __=new Set,Pl={};function ai(e,t){Hi(e,t),Hi(e+"Capture",t)}function Hi(e,t){for(Pl[e]=t,e=0;e<t.length;e++)__.add(t[e])}var jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M0={},I0={};function ZA(e){return uh.call(I0,e)?!0:uh.call(M0,e)?!1:QA.test(e)?I0[e]=!0:(M0[e]=!0,!1)}function JA(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function eD(e,t,r,n){if(t===null||typeof t>"u"||JA(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var sr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sr[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sr[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sr[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sr[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sr[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sr[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sr[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sr[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sr[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var cg=/[\-:]([a-z])/g;function ug(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cg,ug);sr[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cg,ug);sr[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cg,ug);sr[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});sr.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sr[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function dg(e,t,r,n){var o=sr.hasOwnProperty(t)?sr[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(eD(t,r,o,n)&&(r=null),n||o===null?ZA(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Io=XA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),_i=Symbol.for("react.portal"),ji=Symbol.for("react.fragment"),fg=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),S_=Symbol.for("react.context"),pg=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),ph=Symbol.for("react.suspense_list"),mg=Symbol.for("react.memo"),Yo=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),T0=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=T0&&e[T0]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,rm;function Js(e){if(rm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);rm=t&&t[1]||""}return`
`+rm+e}var nm=!1;function om(e,t){if(!e||nm)return"";nm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==a[s]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=s);break}}}finally{nm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Js(e):""}function tD(e){switch(e.tag){case 5:return Js(e.type);case 16:return Js("Lazy");case 13:return Js("Suspense");case 19:return Js("SuspenseList");case 0:case 2:case 15:return e=om(e.type,!1),e;case 11:return e=om(e.type.render,!1),e;case 1:return e=om(e.type,!0),e;default:return""}}function mh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ji:return"Fragment";case _i:return"Portal";case dh:return"Profiler";case fg:return"StrictMode";case fh:return"Suspense";case ph:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S_:return(e.displayName||"Context")+".Consumer";case j_:return(e._context.displayName||"Context")+".Provider";case pg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mg:return t=e.displayName||null,t!==null?t:mh(e.type)||"Memo";case Yo:t=e._payload,e=e._init;try{return mh(e(t))}catch{}}return null}function rD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mh(t);case 8:return t===fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nD(e){var t=N_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){e._valueTracker||(e._valueTracker=nD(e))}function P_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function rd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hh(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function R0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ma(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function E_(e,t){t=t.checked,t!=null&&dg(e,"checked",t,!1)}function vh(e,t){E_(e,t);var r=ma(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gh(e,t.type,r):t.hasOwnProperty("defaultValue")&&gh(e,t.type,ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function z0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function gh(e,t,r){(t!=="number"||rd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var el=Array.isArray;function zi(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ma(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function yh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ce(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ce(92));if(el(r)){if(1<r.length)throw Error(ce(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ma(r)}}function O_(e,t){var r=ma(t.value),n=ma(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function $0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function A_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?A_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ru,D_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function El(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oD=["Webkit","ms","Moz","O"];Object.keys(cl).forEach(function(e){oD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cl[t]=cl[e]})});function M_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cl.hasOwnProperty(e)&&cl[e]?(""+t).trim():t+"px"}function I_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=M_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var aD=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bh(e,t){if(t){if(aD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ce(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ce(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ce(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ce(62))}}function wh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=null;function hg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _h=null,Li=null,$i=null;function F0(e){if(e=pc(e)){if(typeof _h!="function")throw Error(ce(280));var t=e.stateNode;t&&(t=Mf(t),_h(e.stateNode,e.type,t))}}function T_(e){Li?$i?$i.push(e):$i=[e]:Li=e}function R_(){if(Li){var e=Li,t=$i;if($i=Li=null,F0(e),t)for(e=0;e<t.length;e++)F0(t[e])}}function z_(e,t){return e(t)}function L_(){}var am=!1;function $_(e,t,r){if(am)return e(t,r);am=!0;try{return z_(e,t,r)}finally{am=!1,(Li!==null||$i!==null)&&(L_(),R_())}}function Ol(e,t){var r=e.stateNode;if(r===null)return null;var n=Mf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ce(231,t,typeof r));return r}var jh=!1;if(jo)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{jh=!1}function iD(e,t,r,n,o,a,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ul=!1,nd=null,od=!1,Sh=null,sD={onError:function(e){ul=!0,nd=e}};function lD(e,t,r,n,o,a,i,s,c){ul=!1,nd=null,iD.apply(sD,arguments)}function cD(e,t,r,n,o,a,i,s,c){if(lD.apply(this,arguments),ul){if(ul){var u=nd;ul=!1,nd=null}else throw Error(ce(198));od||(od=!0,Sh=u)}}function ii(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function F_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function B0(e){if(ii(e)!==e)throw Error(ce(188))}function uD(e){var t=e.alternate;if(!t){if(t=ii(e),t===null)throw Error(ce(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return B0(o),e;if(a===n)return B0(o),t;a=a.sibling}throw Error(ce(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i)throw Error(ce(189))}}if(r.alternate!==n)throw Error(ce(190))}if(r.tag!==3)throw Error(ce(188));return r.stateNode.current===r?e:t}function B_(e){return e=uD(e),e!==null?U_(e):null}function U_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=U_(e);if(t!==null)return t;e=e.sibling}return null}var q_=rn.unstable_scheduleCallback,U0=rn.unstable_cancelCallback,dD=rn.unstable_shouldYield,fD=rn.unstable_requestPaint,Ct=rn.unstable_now,pD=rn.unstable_getCurrentPriorityLevel,vg=rn.unstable_ImmediatePriority,W_=rn.unstable_UserBlockingPriority,ad=rn.unstable_NormalPriority,mD=rn.unstable_LowPriority,K_=rn.unstable_IdlePriority,Ef=null,Gn=null;function hD(e){if(Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Ef,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:yD,vD=Math.log,gD=Math.LN2;function yD(e){return e>>>=0,e===0?32:31-(vD(e)/gD|0)|0}var nu=64,ou=4194304;function tl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function id(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~o;s!==0?n=tl(s):(a&=i,a!==0&&(n=tl(a)))}else i=r&~o,i!==0?n=tl(i):a!==0&&(n=tl(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),o=1<<r,n|=e[r],t&=~o;return n}function xD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-In(a),s=1<<i,c=o[i];c===-1?(!(s&r)||s&n)&&(o[i]=xD(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Ch(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function H_(){var e=nu;return nu<<=1,!(nu&4194240)&&(nu=64),e}function im(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function wD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-In(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function gg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var Je=0;function V_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Y_,yg,G_,X_,Q_,Nh=!1,au=[],oa=null,aa=null,ia=null,Al=new Map,Dl=new Map,Jo=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q0(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Al.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function $s(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=pc(t),t!==null&&yg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _D(e,t,r,n,o){switch(t){case"focusin":return oa=$s(oa,e,t,r,n,o),!0;case"dragenter":return aa=$s(aa,e,t,r,n,o),!0;case"mouseover":return ia=$s(ia,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return Al.set(a,$s(Al.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,Dl.set(a,$s(Dl.get(a)||null,e,t,r,n,o)),!0}return!1}function Z_(e){var t=Ra(e.target);if(t!==null){var r=ii(t);if(r!==null){if(t=r.tag,t===13){if(t=F_(r),t!==null){e.blockedOn=t,Q_(e.priority,function(){G_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $u(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ph(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kh=n,r.target.dispatchEvent(n),kh=null}else return t=pc(r),t!==null&&yg(t),e.blockedOn=r,!1;t.shift()}return!0}function W0(e,t,r){$u(e)&&r.delete(t)}function jD(){Nh=!1,oa!==null&&$u(oa)&&(oa=null),aa!==null&&$u(aa)&&(aa=null),ia!==null&&$u(ia)&&(ia=null),Al.forEach(W0),Dl.forEach(W0)}function Fs(e,t){e.blockedOn===t&&(e.blockedOn=null,Nh||(Nh=!0,rn.unstable_scheduleCallback(rn.unstable_NormalPriority,jD)))}function Ml(e){function t(o){return Fs(o,e)}if(0<au.length){Fs(au[0],e);for(var r=1;r<au.length;r++){var n=au[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oa!==null&&Fs(oa,e),aa!==null&&Fs(aa,e),ia!==null&&Fs(ia,e),Al.forEach(t),Dl.forEach(t),r=0;r<Jo.length;r++)n=Jo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Jo.length&&(r=Jo[0],r.blockedOn===null);)Z_(r),r.blockedOn===null&&Jo.shift()}var Fi=Io.ReactCurrentBatchConfig,sd=!0;function SD(e,t,r,n){var o=Je,a=Fi.transition;Fi.transition=null;try{Je=1,xg(e,t,r,n)}finally{Je=o,Fi.transition=a}}function CD(e,t,r,n){var o=Je,a=Fi.transition;Fi.transition=null;try{Je=4,xg(e,t,r,n)}finally{Je=o,Fi.transition=a}}function xg(e,t,r,n){if(sd){var o=Ph(e,t,r,n);if(o===null)vm(e,t,n,ld,r),q0(e,n);else if(_D(o,e,t,r,n))n.stopPropagation();else if(q0(e,n),t&4&&-1<kD.indexOf(e)){for(;o!==null;){var a=pc(o);if(a!==null&&Y_(a),a=Ph(e,t,r,n),a===null&&vm(e,t,n,ld,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else vm(e,t,n,null,r)}}var ld=null;function Ph(e,t,r,n){if(ld=null,e=hg(n),e=Ra(e),e!==null)if(t=ii(e),t===null)e=null;else if(r=t.tag,r===13){if(e=F_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ld=e,null}function J_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pD()){case vg:return 1;case W_:return 4;case ad:case mD:return 16;case K_:return 536870912;default:return 16}default:return 16}}var ra=null,bg=null,Fu=null;function ej(){if(Fu)return Fu;var e,t=bg,r=t.length,n,o="value"in ra?ra.value:ra.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return Fu=o.slice(e,1<n?1-n:void 0)}function Bu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function iu(){return!0}function K0(){return!1}function an(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?iu:K0,this.isPropagationStopped=K0,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),t}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wg=an(cs),fc=wt({},cs,{view:0,detail:0}),ND=an(fc),sm,lm,Bs,Of=wt({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bs&&(Bs&&e.type==="mousemove"?(sm=e.screenX-Bs.screenX,lm=e.screenY-Bs.screenY):lm=sm=0,Bs=e),sm)},movementY:function(e){return"movementY"in e?e.movementY:lm}}),H0=an(Of),PD=wt({},Of,{dataTransfer:0}),ED=an(PD),OD=wt({},fc,{relatedTarget:0}),cm=an(OD),AD=wt({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),DD=an(AD),MD=wt({},cs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ID=an(MD),TD=wt({},cs,{data:0}),V0=an(TD),RD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $D(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=LD[e])?!!t[e]:!1}function kg(){return $D}var FD=wt({},fc,{key:function(e){if(e.key){var t=RD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kg,charCode:function(e){return e.type==="keypress"?Bu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),BD=an(FD),UD=wt({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y0=an(UD),qD=wt({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kg}),WD=an(qD),KD=wt({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),HD=an(KD),VD=wt({},Of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YD=an(VD),GD=[9,13,27,32],_g=jo&&"CompositionEvent"in window,dl=null;jo&&"documentMode"in document&&(dl=document.documentMode);var XD=jo&&"TextEvent"in window&&!dl,tj=jo&&(!_g||dl&&8<dl&&11>=dl),G0=" ",X0=!1;function rj(e,t){switch(e){case"keyup":return GD.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function QD(e,t){switch(e){case"compositionend":return nj(t);case"keypress":return t.which!==32?null:(X0=!0,G0);case"textInput":return e=t.data,e===G0&&X0?null:e;default:return null}}function ZD(e,t){if(Si)return e==="compositionend"||!_g&&rj(e,t)?(e=ej(),Fu=bg=ra=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tj&&t.locale!=="ko"?null:t.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Q0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!JD[e.type]:t==="textarea"}function oj(e,t,r,n){T_(n),t=cd(t,"onChange"),0<t.length&&(r=new wg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fl=null,Il=null;function eM(e){hj(e,0)}function Af(e){var t=Pi(e);if(P_(t))return e}function tM(e,t){if(e==="change")return t}var aj=!1;if(jo){var um;if(jo){var dm="oninput"in document;if(!dm){var Z0=document.createElement("div");Z0.setAttribute("oninput","return;"),dm=typeof Z0.oninput=="function"}um=dm}else um=!1;aj=um&&(!document.documentMode||9<document.documentMode)}function J0(){fl&&(fl.detachEvent("onpropertychange",ij),Il=fl=null)}function ij(e){if(e.propertyName==="value"&&Af(Il)){var t=[];oj(t,Il,e,hg(e)),$_(eM,t)}}function rM(e,t,r){e==="focusin"?(J0(),fl=t,Il=r,fl.attachEvent("onpropertychange",ij)):e==="focusout"&&J0()}function nM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Af(Il)}function oM(e,t){if(e==="click")return Af(t)}function aM(e,t){if(e==="input"||e==="change")return Af(t)}function iM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:iM;function Tl(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!uh.call(t,o)||!zn(e[o],t[o]))return!1}return!0}function eb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tb(e,t){var r=eb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eb(r)}}function sj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lj(){for(var e=window,t=rd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=rd(e.document)}return t}function jg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function sM(e){var t=lj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sj(r.ownerDocument.documentElement,r)){if(n!==null&&jg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=tb(r,a);var i=tb(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var lM=jo&&"documentMode"in document&&11>=document.documentMode,Ci=null,Eh=null,pl=null,Oh=!1;function rb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oh||Ci==null||Ci!==rd(n)||(n=Ci,"selectionStart"in n&&jg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pl&&Tl(pl,n)||(pl=n,n=cd(Eh,"onSelect"),0<n.length&&(t=new wg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ci)))}function su(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ni={animationend:su("Animation","AnimationEnd"),animationiteration:su("Animation","AnimationIteration"),animationstart:su("Animation","AnimationStart"),transitionend:su("Transition","TransitionEnd")},fm={},cj={};jo&&(cj=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Df(e){if(fm[e])return fm[e];if(!Ni[e])return e;var t=Ni[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cj)return fm[e]=t[r];return e}var uj=Df("animationend"),dj=Df("animationiteration"),fj=Df("animationstart"),pj=Df("transitionend"),mj=new Map,nb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(e,t){mj.set(e,t),ai(t,[e])}for(var pm=0;pm<nb.length;pm++){var mm=nb[pm],cM=mm.toLowerCase(),uM=mm[0].toUpperCase()+mm.slice(1);xa(cM,"on"+uM)}xa(uj,"onAnimationEnd");xa(dj,"onAnimationIteration");xa(fj,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(pj,"onTransitionEnd");Hi("onMouseEnter",["mouseout","mouseover"]);Hi("onMouseLeave",["mouseout","mouseover"]);Hi("onPointerEnter",["pointerout","pointerover"]);Hi("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dM=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function ob(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,cD(n,t,void 0,e),e.currentTarget=null}function hj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;ob(o,s,u),a=c}else for(i=0;i<n.length;i++){if(s=n[i],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;ob(o,s,u),a=c}}}if(od)throw e=Sh,od=!1,Sh=null,e}function ut(e,t){var r=t[Th];r===void 0&&(r=t[Th]=new Set);var n=e+"__bubble";r.has(n)||(vj(t,e,2,!1),r.add(n))}function hm(e,t,r){var n=0;t&&(n|=4),vj(r,e,n,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Rl(e){if(!e[lu]){e[lu]=!0,__.forEach(function(r){r!=="selectionchange"&&(dM.has(r)||hm(r,!1,e),hm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,hm("selectionchange",!1,t))}}function vj(e,t,r,n){switch(J_(t)){case 1:var o=SD;break;case 4:o=CD;break;default:o=xg}r=o.bind(null,t,r,e),o=void 0,!jh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function vm(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;s!==null;){if(i=Ra(s),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}s=s.parentNode}}n=n.return}$_(function(){var u=a,d=hg(r),f=[];e:{var p=mj.get(e);if(p!==void 0){var m=wg,v=e;switch(e){case"keypress":if(Bu(r)===0)break e;case"keydown":case"keyup":m=BD;break;case"focusin":v="focus",m=cm;break;case"focusout":v="blur",m=cm;break;case"beforeblur":case"afterblur":m=cm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=H0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ED;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=WD;break;case uj:case dj:case fj:m=DD;break;case pj:m=HD;break;case"scroll":m=ND;break;case"wheel":m=YD;break;case"copy":case"cut":case"paste":m=ID;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Y0}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=Ol(b,x),k!=null&&g.push(zl(b,k,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==kh&&(v=r.relatedTarget||r.fromElement)&&(Ra(v)||v[So]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Ra(v):null,v!==null&&(y=ii(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=H0,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=Y0,k="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Pi(m),w=v==null?p:Pi(v),p=new g(k,b+"leave",m,r,d),p.target=y,p.relatedTarget=w,k=null,Ra(d)===u&&(g=new g(x,b+"enter",v,r,d),g.target=w,g.relatedTarget=y,k=g),y=k,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=gi(w))b++;for(w=0,k=x;k;k=gi(k))w++;for(;0<b-w;)g=gi(g),b--;for(;0<w-b;)x=gi(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=gi(g),x=gi(x)}g=null}else g=null;m!==null&&ab(f,p,m,g,!1),v!==null&&y!==null&&ab(f,y,v,g,!0)}}e:{if(p=u?Pi(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=tM;else if(Q0(p))if(aj)S=aM;else{S=nM;var _=rM}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=oM);if(S&&(S=S(e,u))){oj(f,S,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&gh(p,"number",p.value)}switch(_=u?Pi(u):window,e){case"focusin":(Q0(_)||_.contentEditable==="true")&&(Ci=_,Eh=u,pl=null);break;case"focusout":pl=Eh=Ci=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,rb(f,r,d);break;case"selectionchange":if(lM)break;case"keydown":case"keyup":rb(f,r,d)}var N;if(_g)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Si?rj(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(tj&&r.locale!=="ko"&&(Si||C!=="onCompositionStart"?C==="onCompositionEnd"&&Si&&(N=ej()):(ra=d,bg="value"in ra?ra.value:ra.textContent,Si=!0)),_=cd(u,C),0<_.length&&(C=new V0(C,e,null,r,d),f.push({event:C,listeners:_}),N?C.data=N:(N=nj(r),N!==null&&(C.data=N)))),(N=XD?QD(e,r):ZD(e,r))&&(u=cd(u,"onBeforeInput"),0<u.length&&(d=new V0("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}hj(f,t)})}function zl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function cd(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Ol(e,r),a!=null&&n.unshift(zl(e,a,o)),a=Ol(e,t),a!=null&&n.push(zl(e,a,o))),e=e.return}return n}function gi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ab(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,o?(c=Ol(r,a),c!=null&&i.unshift(zl(r,c,s))):o||(c=Ol(r,a),c!=null&&i.push(zl(r,c,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var fM=/\r\n?/g,pM=/\u0000|\uFFFD/g;function ib(e){return(typeof e=="string"?e:""+e).replace(fM,`
`).replace(pM,"")}function cu(e,t,r){if(t=ib(t),ib(e)!==t&&r)throw Error(ce(425))}function ud(){}var Ah=null,Dh=null;function Mh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,mM=typeof clearTimeout=="function"?clearTimeout:void 0,sb=typeof Promise=="function"?Promise:void 0,hM=typeof queueMicrotask=="function"?queueMicrotask:typeof sb<"u"?function(e){return sb.resolve(null).then(e).catch(vM)}:Ih;function vM(e){setTimeout(function(){throw e})}function gm(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ml(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ml(t)}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),Vn="__reactFiber$"+us,Ll="__reactProps$"+us,So="__reactContainer$"+us,Th="__reactEvents$"+us,gM="__reactListeners$"+us,yM="__reactHandles$"+us;function Ra(e){var t=e[Vn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[So]||r[Vn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=lb(e);e!==null;){if(r=e[Vn])return r;e=lb(e)}return t}e=r,r=e.parentNode}return null}function pc(e){return e=e[Vn]||e[So],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ce(33))}function Mf(e){return e[Ll]||null}var Rh=[],Ei=-1;function ba(e){return{current:e}}function ft(e){0>Ei||(e.current=Rh[Ei],Rh[Ei]=null,Ei--)}function it(e,t){Ei++,Rh[Ei]=e.current,e.current=t}var ha={},vr=ba(ha),Br=ba(!1),Ya=ha;function Vi(e,t){var r=e.type.contextTypes;if(!r)return ha;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ur(e){return e=e.childContextTypes,e!=null}function dd(){ft(Br),ft(vr)}function cb(e,t,r){if(vr.current!==ha)throw Error(ce(168));it(vr,t),it(Br,r)}function gj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ce(108,rD(e)||"Unknown",o));return wt({},r,n)}function fd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,Ya=vr.current,it(vr,e),it(Br,Br.current),!0}function ub(e,t,r){var n=e.stateNode;if(!n)throw Error(ce(169));r?(e=gj(e,t,Ya),n.__reactInternalMemoizedMergedChildContext=e,ft(Br),ft(vr),it(vr,e)):ft(Br),it(Br,r)}var uo=null,If=!1,ym=!1;function yj(e){uo===null?uo=[e]:uo.push(e)}function xM(e){If=!0,yj(e)}function wa(){if(!ym&&uo!==null){ym=!0;var e=0,t=Je;try{var r=uo;for(Je=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}uo=null,If=!1}catch(o){throw uo!==null&&(uo=uo.slice(e+1)),q_(vg,wa),o}finally{Je=t,ym=!1}}return null}var Oi=[],Ai=0,pd=null,md=0,hn=[],vn=0,Ga=null,ho=1,vo="";function Oa(e,t){Oi[Ai++]=md,Oi[Ai++]=pd,pd=e,md=t}function xj(e,t,r){hn[vn++]=ho,hn[vn++]=vo,hn[vn++]=Ga,Ga=e;var n=ho;e=vo;var o=32-In(n)-1;n&=~(1<<o),r+=1;var a=32-In(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,ho=1<<32-In(t)+o|r<<o|n,vo=a+e}else ho=1<<a|r<<o|n,vo=e}function Sg(e){e.return!==null&&(Oa(e,1),xj(e,1,0))}function Cg(e){for(;e===pd;)pd=Oi[--Ai],Oi[Ai]=null,md=Oi[--Ai],Oi[Ai]=null;for(;e===Ga;)Ga=hn[--vn],hn[vn]=null,vo=hn[--vn],hn[vn]=null,ho=hn[--vn],hn[vn]=null}var en=null,Zr=null,vt=!1,On=null;function bj(e,t){var r=gn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function db(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,en=e,Zr=sa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,en=e,Zr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ga!==null?{id:ho,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=gn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,en=e,Zr=null,!0):!1;default:return!1}}function zh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lh(e){if(vt){var t=Zr;if(t){var r=t;if(!db(e,t)){if(zh(e))throw Error(ce(418));t=sa(r.nextSibling);var n=en;t&&db(e,t)?bj(n,r):(e.flags=e.flags&-4097|2,vt=!1,en=e)}}else{if(zh(e))throw Error(ce(418));e.flags=e.flags&-4097|2,vt=!1,en=e}}}function fb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;en=e}function uu(e){if(e!==en)return!1;if(!vt)return fb(e),vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mh(e.type,e.memoizedProps)),t&&(t=Zr)){if(zh(e))throw wj(),Error(ce(418));for(;t;)bj(e,t),t=sa(t.nextSibling)}if(fb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ce(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Zr=sa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Zr=null}}else Zr=en?sa(e.stateNode.nextSibling):null;return!0}function wj(){for(var e=Zr;e;)e=sa(e.nextSibling)}function Yi(){Zr=en=null,vt=!1}function Ng(e){On===null?On=[e]:On.push(e)}var bM=Io.ReactCurrentBatchConfig;function Us(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ce(309));var n=r.stateNode}if(!n)throw Error(ce(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var s=o.refs;i===null?delete s[a]:s[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ce(284));if(!r._owner)throw Error(ce(290,e))}return e}function du(e,t){throw e=Object.prototype.toString.call(t),Error(ce(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pb(e){var t=e._init;return t(e._payload)}function kj(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=da(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,w,k){return b===null||b.tag!==6?(b=Sm(w,x.mode,k),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,k){var S=w.type;return S===ji?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yo&&pb(S)===b.type)?(k=o(b,w.props),k.ref=Us(x,b,w),k.return=x,k):(k=Yu(w.type,w.key,w.props,null,x.mode,k),k.ref=Us(x,b,w),k.return=x,k)}function u(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Cm(w,x.mode,k),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,S){return b===null||b.tag!==7?(b=qa(w,x.mode,k,S),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Sm(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:return w=Yu(b.type,b.key,b.props,null,x.mode,w),w.ref=Us(x,null,b),w.return=x,w;case _i:return b=Cm(b,x.mode,w),b.return=x,b;case Yo:var k=b._init;return f(x,k(b._payload),w)}if(el(b)||zs(b))return b=qa(b,x.mode,w,null),b.return=x,b;du(x,b)}return null}function p(x,b,w,k){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:return w.key===S?c(x,b,w,k):null;case _i:return w.key===S?u(x,b,w,k):null;case Yo:return S=w._init,p(x,b,S(w._payload),k)}if(el(w)||zs(w))return S!==null?null:d(x,b,w,k,null);du(x,w)}return null}function m(x,b,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,s(b,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case eu:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,S);case _i:return x=x.get(k.key===null?w:k.key)||null,u(b,x,k,S);case Yo:var _=k._init;return m(x,b,w,_(k._payload),S)}if(el(k)||zs(k))return x=x.get(w)||null,d(b,x,k,S,null);du(b,k)}return null}function v(x,b,w,k){for(var S=null,_=null,N=b,C=b=0,I=null;N!==null&&C<w.length;C++){N.index>C?(I=N,N=null):I=N.sibling;var B=p(x,N,w[C],k);if(B===null){N===null&&(N=I);break}e&&N&&B.alternate===null&&t(x,N),b=a(B,b,C),_===null?S=B:_.sibling=B,_=B,N=I}if(C===w.length)return r(x,N),vt&&Oa(x,C),S;if(N===null){for(;C<w.length;C++)N=f(x,w[C],k),N!==null&&(b=a(N,b,C),_===null?S=N:_.sibling=N,_=N);return vt&&Oa(x,C),S}for(N=n(x,N);C<w.length;C++)I=m(N,x,C,w[C],k),I!==null&&(e&&I.alternate!==null&&N.delete(I.key===null?C:I.key),b=a(I,b,C),_===null?S=I:_.sibling=I,_=I);return e&&N.forEach(function(P){return t(x,P)}),vt&&Oa(x,C),S}function g(x,b,w,k){var S=zs(w);if(typeof S!="function")throw Error(ce(150));if(w=S.call(w),w==null)throw Error(ce(151));for(var _=S=null,N=b,C=b=0,I=null,B=w.next();N!==null&&!B.done;C++,B=w.next()){N.index>C?(I=N,N=null):I=N.sibling;var P=p(x,N,B.value,k);if(P===null){N===null&&(N=I);break}e&&N&&P.alternate===null&&t(x,N),b=a(P,b,C),_===null?S=P:_.sibling=P,_=P,N=I}if(B.done)return r(x,N),vt&&Oa(x,C),S;if(N===null){for(;!B.done;C++,B=w.next())B=f(x,B.value,k),B!==null&&(b=a(B,b,C),_===null?S=B:_.sibling=B,_=B);return vt&&Oa(x,C),S}for(N=n(x,N);!B.done;C++,B=w.next())B=m(N,x,C,B.value,k),B!==null&&(e&&B.alternate!==null&&N.delete(B.key===null?C:B.key),b=a(B,b,C),_===null?S=B:_.sibling=B,_=B);return e&&N.forEach(function(R){return t(x,R)}),vt&&Oa(x,C),S}function y(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===ji&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case eu:e:{for(var S=w.key,_=b;_!==null;){if(_.key===S){if(S=w.type,S===ji){if(_.tag===7){r(x,_.sibling),b=o(_,w.props.children),b.return=x,x=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Yo&&pb(S)===_.type){r(x,_.sibling),b=o(_,w.props),b.ref=Us(x,_,w),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===ji?(b=qa(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=Yu(w.type,w.key,w.props,null,x.mode,k),k.ref=Us(x,b,w),k.return=x,x=k)}return i(x);case _i:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Cm(w,x.mode,k),b.return=x,x=b}return i(x);case Yo:return _=w._init,y(x,b,_(w._payload),k)}if(el(w))return v(x,b,w,k);if(zs(w))return g(x,b,w,k);du(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=o(b,w),b.return=x,x=b):(r(x,b),b=Sm(w,x.mode,k),b.return=x,x=b),i(x)):r(x,b)}return y}var Gi=kj(!0),_j=kj(!1),hd=ba(null),vd=null,Di=null,Pg=null;function Eg(){Pg=Di=vd=null}function Og(e){var t=hd.current;ft(hd),e._currentValue=t}function $h(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Bi(e,t){vd=e,Pg=Di=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(Pg!==e)if(e={context:e,memoizedValue:t,next:null},Di===null){if(vd===null)throw Error(ce(308));Di=e,vd.dependencies={lanes:0,firstContext:e}}else Di=Di.next=e;return t}var za=null;function Ag(e){za===null?za=[e]:za.push(e)}function jj(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,Ag(t)):(r.next=o.next,o.next=r),t.interleaved=r,Co(e,n)}function Co(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Go=!1;function Dg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sj(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Co(e,r)}return o=n.interleaved,o===null?(t.next=t,Ag(n)):(t.next=o.next,o.next=t),n.interleaved=t,Co(e,r)}function Uu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gg(e,r)}}function mb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function gd(e,t,r,n){var o=e.updateQueue;Go=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var c=s,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,d=u=c=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(p=t,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=wt({},f,p);break e;case 2:Go=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;p=s,s=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);Qa|=i,e.lanes=i,e.memoizedState=f}}function hb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ce(191,o));o.call(n)}}}var mc={},Xn=ba(mc),$l=ba(mc),Fl=ba(mc);function La(e){if(e===mc)throw Error(ce(174));return e}function Mg(e,t){switch(it(Fl,t),it($l,e),it(Xn,mc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xh(t,e)}ft(Xn),it(Xn,t)}function Xi(){ft(Xn),ft($l),ft(Fl)}function Cj(e){La(Fl.current);var t=La(Xn.current),r=xh(t,e.type);t!==r&&(it($l,e),it(Xn,r))}function Ig(e){$l.current===e&&(ft(Xn),ft($l))}var xt=ba(0);function yd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xm=[];function Tg(){for(var e=0;e<xm.length;e++)xm[e]._workInProgressVersionPrimary=null;xm.length=0}var qu=Io.ReactCurrentDispatcher,bm=Io.ReactCurrentBatchConfig,Xa=0,bt=null,Mt=null,Kt=null,xd=!1,ml=!1,Bl=0,wM=0;function cr(){throw Error(ce(321))}function Rg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zn(e[r],t[r]))return!1;return!0}function zg(e,t,r,n,o,a){if(Xa=a,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?SM:CM,e=r(n,o),ml){a=0;do{if(ml=!1,Bl=0,25<=a)throw Error(ce(301));a+=1,Kt=Mt=null,t.updateQueue=null,qu.current=NM,e=r(n,o)}while(ml)}if(qu.current=bd,t=Mt!==null&&Mt.next!==null,Xa=0,Kt=Mt=bt=null,xd=!1,t)throw Error(ce(300));return e}function Lg(){var e=Bl!==0;return Bl=0,e}function Kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?bt.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function kn(){if(Mt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=Kt===null?bt.memoizedState:Kt.next;if(t!==null)Kt=t,Mt=e;else{if(e===null)throw Error(ce(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Kt===null?bt.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function Ul(e,t){return typeof t=="function"?t(e):t}function wm(e){var t=kn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=Mt,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var s=i=null,c=null,u=a;do{var d=u.lane;if((Xa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,i=n):c=c.next=f,bt.lanes|=d,Qa|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=s,zn(n,t.memoizedState)||($r=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,bt.lanes|=a,Qa|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function km(e){var t=kn(),r=t.queue;if(r===null)throw Error(ce(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);zn(a,t.memoizedState)||($r=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Nj(){}function Pj(e,t){var r=bt,n=kn(),o=t(),a=!zn(n.memoizedState,o);if(a&&(n.memoizedState=o,$r=!0),n=n.queue,$g(Aj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,ql(9,Oj.bind(null,r,n,o,t),void 0,null),Yt===null)throw Error(ce(349));Xa&30||Ej(r,t,o)}return o}function Ej(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Oj(e,t,r,n){t.value=r,t.getSnapshot=n,Dj(t)&&Mj(e)}function Aj(e,t,r){return r(function(){Dj(t)&&Mj(e)})}function Dj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zn(e,r)}catch{return!0}}function Mj(e){var t=Co(e,1);t!==null&&Tn(t,e,1,-1)}function vb(e){var t=Kn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ul,lastRenderedState:e},t.queue=e,e=e.dispatch=jM.bind(null,bt,e),[t.memoizedState,e]}function ql(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ij(){return kn().memoizedState}function Wu(e,t,r,n){var o=Kn();bt.flags|=e,o.memoizedState=ql(1|t,r,void 0,n===void 0?null:n)}function Tf(e,t,r,n){var o=kn();n=n===void 0?null:n;var a=void 0;if(Mt!==null){var i=Mt.memoizedState;if(a=i.destroy,n!==null&&Rg(n,i.deps)){o.memoizedState=ql(t,r,a,n);return}}bt.flags|=e,o.memoizedState=ql(1|t,r,a,n)}function gb(e,t){return Wu(8390656,8,e,t)}function $g(e,t){return Tf(2048,8,e,t)}function Tj(e,t){return Tf(4,2,e,t)}function Rj(e,t){return Tf(4,4,e,t)}function zj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lj(e,t,r){return r=r!=null?r.concat([e]):null,Tf(4,4,zj.bind(null,t,e),r)}function Fg(){}function $j(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Fj(e,t){var r=kn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Rg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Bj(e,t,r){return Xa&21?(zn(r,t)||(r=H_(),bt.lanes|=r,Qa|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=r)}function kM(e,t){var r=Je;Je=r!==0&&4>r?r:4,e(!0);var n=bm.transition;bm.transition={};try{e(!1),t()}finally{Je=r,bm.transition=n}}function Uj(){return kn().memoizedState}function _M(e,t,r){var n=ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},qj(e))Wj(t,r);else if(r=jj(e,t,r,n),r!==null){var o=jr();Tn(r,e,n,o),Kj(r,t,n)}}function jM(e,t,r){var n=ua(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(qj(e))Wj(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,s=a(i,r);if(o.hasEagerState=!0,o.eagerState=s,zn(s,i)){var c=t.interleaved;c===null?(o.next=o,Ag(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=jj(e,t,o,n),r!==null&&(o=jr(),Tn(r,e,n,o),Kj(r,t,n))}}function qj(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Wj(e,t){ml=xd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gg(e,r)}}var bd={readContext:wn,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},SM={readContext:wn,useCallback:function(e,t){return Kn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:gb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Wu(4194308,4,zj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Wu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wu(4,2,e,t)},useMemo:function(e,t){var r=Kn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=_M.bind(null,bt,e),[n.memoizedState,e]},useRef:function(e){var t=Kn();return e={current:e},t.memoizedState=e},useState:vb,useDebugValue:Fg,useDeferredValue:function(e){return Kn().memoizedState=e},useTransition:function(){var e=vb(!1),t=e[0];return e=kM.bind(null,e[1]),Kn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=bt,o=Kn();if(vt){if(r===void 0)throw Error(ce(407));r=r()}else{if(r=t(),Yt===null)throw Error(ce(349));Xa&30||Ej(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,gb(Aj.bind(null,n,a,e),[e]),n.flags|=2048,ql(9,Oj.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Kn(),t=Yt.identifierPrefix;if(vt){var r=vo,n=ho;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=wM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},CM={readContext:wn,useCallback:$j,useContext:wn,useEffect:$g,useImperativeHandle:Lj,useInsertionEffect:Tj,useLayoutEffect:Rj,useMemo:Fj,useReducer:wm,useRef:Ij,useState:function(){return wm(Ul)},useDebugValue:Fg,useDeferredValue:function(e){var t=kn();return Bj(t,Mt.memoizedState,e)},useTransition:function(){var e=wm(Ul)[0],t=kn().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Pj,useId:Uj,unstable_isNewReconciler:!1},NM={readContext:wn,useCallback:$j,useContext:wn,useEffect:$g,useImperativeHandle:Lj,useInsertionEffect:Tj,useLayoutEffect:Rj,useMemo:Fj,useReducer:km,useRef:Ij,useState:function(){return km(Ul)},useDebugValue:Fg,useDeferredValue:function(e){var t=kn();return Mt===null?t.memoizedState=e:Bj(t,Mt.memoizedState,e)},useTransition:function(){var e=km(Ul)[0],t=kn().memoizedState;return[e,t]},useMutableSource:Nj,useSyncExternalStore:Pj,useId:Uj,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Rf={isMounted:function(e){return(e=e._reactInternals)?ii(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jr(),o=ua(e),a=bo(n,o);a.payload=t,r!=null&&(a.callback=r),t=la(e,a,o),t!==null&&(Tn(t,e,o,n),Uu(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jr(),o=ua(e),a=bo(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=la(e,a,o),t!==null&&(Tn(t,e,o,n),Uu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jr(),n=ua(e),o=bo(r,n);o.tag=2,t!=null&&(o.callback=t),t=la(e,o,n),t!==null&&(Tn(t,e,n,r),Uu(t,e,n))}};function yb(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Tl(r,n)||!Tl(o,a):!0}function Hj(e,t,r){var n=!1,o=ha,a=t.contextType;return typeof a=="object"&&a!==null?a=wn(a):(o=Ur(t)?Ya:vr.current,n=t.contextTypes,a=(n=n!=null)?Vi(e,o):ha),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Rf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function xb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Rf.enqueueReplaceState(t,t.state,null)}function Bh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Dg(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=wn(a):(a=Ur(t)?Ya:vr.current,o.context=Vi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Fh(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Rf.enqueueReplaceState(o,o.state,null),gd(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Qi(e,t){try{var r="",n=t;do r+=tD(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function _m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var PM=typeof WeakMap=="function"?WeakMap:Map;function Vj(e,t,r){r=bo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kd||(kd=!0,Zh=n),Uh(e,t)},r}function Yj(e,t,r){r=bo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Uh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Uh(e,t),typeof n!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function bb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new PM;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=UM.bind(null,e,t,r),t.then(e,e))}function wb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function kb(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bo(-1,1),t.tag=2,la(r,t,1))),r.lanes|=1),e)}var EM=Io.ReactCurrentOwner,$r=!1;function br(e,t,r,n){t.child=e===null?_j(t,null,r,n):Gi(t,e.child,r,n)}function _b(e,t,r,n,o){r=r.render;var a=t.ref;return Bi(t,o),n=zg(e,t,r,n,a,o),r=Lg(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(vt&&r&&Sg(t),t.flags|=1,br(e,t,n,o),t.child)}function jb(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!Yg(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Gj(e,t,a,n,o)):(e=Yu(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Tl,r(i,n)&&e.ref===t.ref)return No(e,t,o)}return t.flags|=1,e=da(a,n),e.ref=t.ref,e.return=t,t.child=e}function Gj(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(Tl(a,n)&&e.ref===t.ref)if($r=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,No(e,t,o)}return qh(e,t,r,n,o)}function Xj(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Ii,Gr),Gr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,it(Ii,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,it(Ii,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,it(Ii,Gr),Gr|=n;return br(e,t,o,r),t.child}function Qj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function qh(e,t,r,n,o){var a=Ur(r)?Ya:vr.current;return a=Vi(t,a),Bi(t,o),r=zg(e,t,r,n,a,o),n=Lg(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(vt&&n&&Sg(t),t.flags|=1,br(e,t,r,o),t.child)}function Sb(e,t,r,n,o){if(Ur(r)){var a=!0;fd(t)}else a=!1;if(Bi(t,o),t.stateNode===null)Ku(e,t),Hj(t,r,n),Bh(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Ur(r)?Ya:vr.current,u=Vi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||c!==u)&&xb(t,i,n,u),Go=!1;var p=t.memoizedState;i.state=p,gd(t,n,i,o),c=t.memoizedState,s!==n||p!==c||Br.current||Go?(typeof d=="function"&&(Fh(t,r,d,n),c=t.memoizedState),(s=Go||yb(t,r,s,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Sj(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Pn(t.type,s),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=wn(c):(c=Ur(r)?Ya:vr.current,c=Vi(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||p!==c)&&xb(t,i,n,c),Go=!1,p=t.memoizedState,i.state=p,gd(t,n,i,o);var v=t.memoizedState;s!==f||p!==v||Br.current||Go?(typeof m=="function"&&(Fh(t,r,m,n),v=t.memoizedState),(u=Go||yb(t,r,u,n,p,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Wh(e,t,r,n,a,o)}function Wh(e,t,r,n,o,a){Qj(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&ub(t,r,!1),No(e,t,a);n=t.stateNode,EM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Gi(t,e.child,null,a),t.child=Gi(t,null,s,a)):br(e,t,s,a),t.memoizedState=n.state,o&&ub(t,r,!0),t.child}function Zj(e){var t=e.stateNode;t.pendingContext?cb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cb(e,t.context,!1),Mg(e,t.containerInfo)}function Cb(e,t,r,n,o){return Yi(),Ng(o),t.flags|=256,br(e,t,r,n),t.child}var Kh={dehydrated:null,treeContext:null,retryLane:0};function Hh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Jj(e,t,r){var n=t.pendingProps,o=xt.current,a=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),it(xt,o&1),e===null)return Lh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=$f(i,n,0,null),e=qa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Hh(r),t.memoizedState=Kh,e):Bg(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return OM(e,t,i,n,s,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,s=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=da(o,c),n.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=da(s,a):(a=qa(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Hh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Kh,n}return a=e.child,e=a.sibling,n=da(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bg(e,t){return t=$f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,r,n){return n!==null&&Ng(n),Gi(t,e.child,null,r),e=Bg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OM(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=_m(Error(ce(422))),fu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=$f({mode:"visible",children:n.children},o,0,null),a=qa(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Gi(t,e.child,null,i),t.child.memoizedState=Hh(i),t.memoizedState=Kh,a);if(!(t.mode&1))return fu(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ce(419)),n=_m(a,n,void 0),fu(e,t,i,n)}if(s=(i&e.childLanes)!==0,$r||s){if(n=Yt,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Co(e,o),Tn(n,e,o,-1))}return Vg(),n=_m(Error(ce(421))),fu(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=qM.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Zr=sa(o.nextSibling),en=t,vt=!0,On=null,e!==null&&(hn[vn++]=ho,hn[vn++]=vo,hn[vn++]=Ga,ho=e.id,vo=e.overflow,Ga=t),t=Bg(t,n.children),t.flags|=4096,t)}function Nb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),$h(e.return,t,r)}function jm(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function eS(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(br(e,t,n.children,r),n=xt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nb(e,r,t);else if(e.tag===19)Nb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(it(xt,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&yd(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),jm(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yd(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}jm(t,!0,r,null,a);break;case"together":jm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ku(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function No(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Qa|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ce(153));if(t.child!==null){for(e=t.child,r=da(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=da(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function AM(e,t,r){switch(t.tag){case 3:Zj(t),Yi();break;case 5:Cj(t);break;case 1:Ur(t.type)&&fd(t);break;case 4:Mg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;it(hd,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(it(xt,xt.current&1),t.flags|=128,null):r&t.child.childLanes?Jj(e,t,r):(it(xt,xt.current&1),e=No(e,t,r),e!==null?e.sibling:null);it(xt,xt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eS(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),it(xt,xt.current),n)break;return null;case 22:case 23:return t.lanes=0,Xj(e,t,r)}return No(e,t,r)}var tS,Vh,rS,nS;tS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vh=function(){};rS=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,La(Xn.current);var a=null;switch(r){case"input":o=hh(e,o),n=hh(e,n),a=[];break;case"select":o=wt({},o,{value:void 0}),n=wt({},n,{value:void 0}),a=[];break;case"textarea":o=yh(e,o),n=yh(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ud)}bh(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pl.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};nS=function(e,t,r,n){r!==n&&(t.flags|=4)};function qs(e,t){if(!vt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ur(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DM(e,t,r){var n=t.pendingProps;switch(Cg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(t),null;case 1:return Ur(t.type)&&dd(),ur(t),null;case 3:return n=t.stateNode,Xi(),ft(Br),ft(vr),Tg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(tv(On),On=null))),Vh(e,t),ur(t),null;case 5:Ig(t);var o=La(Fl.current);if(r=t.type,e!==null&&t.stateNode!=null)rS(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ce(166));return ur(t),null}if(e=La(Xn.current),uu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Vn]=t,n[Ll]=a,e=(t.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(o=0;o<rl.length;o++)ut(rl[o],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":R0(n,a),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ut("invalid",n);break;case"textarea":L0(n,a),ut("invalid",n)}bh(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];i==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&cu(n.textContent,s,e),o=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&cu(n.textContent,s,e),o=["children",""+s]):Pl.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&ut("scroll",n)}switch(r){case"input":tu(n),z0(n,a,!0);break;case"textarea":tu(n),$0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ud)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=A_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Vn]=t,e[Ll]=n,tS(e,t,!1,!1),t.stateNode=e;e:{switch(i=wh(r,n),r){case"dialog":ut("cancel",e),ut("close",e),o=n;break;case"iframe":case"object":case"embed":ut("load",e),o=n;break;case"video":case"audio":for(o=0;o<rl.length;o++)ut(rl[o],e);o=n;break;case"source":ut("error",e),o=n;break;case"img":case"image":case"link":ut("error",e),ut("load",e),o=n;break;case"details":ut("toggle",e),o=n;break;case"input":R0(e,n),o=hh(e,n),ut("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=wt({},n,{value:void 0}),ut("invalid",e);break;case"textarea":L0(e,n),o=yh(e,n),ut("invalid",e);break;default:o=n}bh(r,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?I_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&El(e,c):typeof c=="number"&&El(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Pl.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ut("scroll",e):c!=null&&dg(e,a,c,i))}switch(r){case"input":tu(e),z0(e,n,!1);break;case"textarea":tu(e),$0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ma(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?zi(e,!!n.multiple,a,!1):n.defaultValue!=null&&zi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ur(t),null;case 6:if(e&&t.stateNode!=null)nS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ce(166));if(r=La(Fl.current),La(Xn.current),uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vn]=t,(a=n.nodeValue!==r)&&(e=en,e!==null))switch(e.tag){case 3:cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vn]=t,t.stateNode=n}return ur(t),null;case 13:if(ft(xt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vt&&Zr!==null&&t.mode&1&&!(t.flags&128))wj(),Yi(),t.flags|=98560,a=!1;else if(a=uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ce(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ce(317));a[Vn]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ur(t),a=!1}else On!==null&&(tv(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?Rt===0&&(Rt=3):Vg())),t.updateQueue!==null&&(t.flags|=4),ur(t),null);case 4:return Xi(),Vh(e,t),e===null&&Rl(t.stateNode.containerInfo),ur(t),null;case 10:return Og(t.type._context),ur(t),null;case 17:return Ur(t.type)&&dd(),ur(t),null;case 19:if(ft(xt),a=t.memoizedState,a===null)return ur(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)qs(a,!1);else{if(Rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=yd(e),i!==null){for(t.flags|=128,qs(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return it(xt,xt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ct()>Zi&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304)}else{if(!n)if(e=yd(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!vt)return ur(t),null}else 2*Ct()-a.renderingStartTime>Zi&&r!==1073741824&&(t.flags|=128,n=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ct(),t.sibling=null,r=xt.current,it(xt,n?r&1|2:r&1),t):(ur(t),null);case 22:case 23:return Hg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gr&1073741824&&(ur(t),t.subtreeFlags&6&&(t.flags|=8192)):ur(t),null;case 24:return null;case 25:return null}throw Error(ce(156,t.tag))}function MM(e,t){switch(Cg(t),t.tag){case 1:return Ur(t.type)&&dd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xi(),ft(Br),ft(vr),Tg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ig(t),null;case 13:if(ft(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ce(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(xt),null;case 4:return Xi(),null;case 10:return Og(t.type._context),null;case 22:case 23:return Hg(),null;case 24:return null;default:return null}}var pu=!1,pr=!1,IM=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Mi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){_t(e,t,n)}else r.current=null}function Yh(e,t,r){try{r()}catch(n){_t(e,t,n)}}var Pb=!1;function TM(e,t){if(Ah=sd,e=lj(),jg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||o!==0&&f.nodeType!==3||(s=i+o),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===o&&(s=i),p===a&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dh={focusedElem:e,selectionRange:r},sd=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){t=xe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pn(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(k){_t(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}return v=Pb,Pb=!1,v}function hl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Yh(t,r,a)}o=o.next}while(o!==n)}}function zf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gh(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oS(e){var t=e.alternate;t!==null&&(e.alternate=null,oS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vn],delete t[Ll],delete t[Th],delete t[gM],delete t[yM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aS(e){return e.tag===5||e.tag===3||e.tag===4}function Eb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||aS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ud));else if(n!==4&&(e=e.child,e!==null))for(Xh(e,t,r),e=e.sibling;e!==null;)Xh(e,t,r),e=e.sibling}function Qh(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qh(e,t,r),e=e.sibling;e!==null;)Qh(e,t,r),e=e.sibling}var or=null,En=!1;function Ho(e,t,r){for(r=r.child;r!==null;)iS(e,t,r),r=r.sibling}function iS(e,t,r){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Ef,r)}catch{}switch(r.tag){case 5:pr||Mi(r,t);case 6:var n=or,o=En;or=null,Ho(e,t,r),or=n,En=o,or!==null&&(En?(e=or,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):or.removeChild(r.stateNode));break;case 18:or!==null&&(En?(e=or,r=r.stateNode,e.nodeType===8?gm(e.parentNode,r):e.nodeType===1&&gm(e,r),Ml(e)):gm(or,r.stateNode));break;case 4:n=or,o=En,or=r.stateNode.containerInfo,En=!0,Ho(e,t,r),or=n,En=o;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Yh(r,t,i),o=o.next}while(o!==n)}Ho(e,t,r);break;case 1:if(!pr&&(Mi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){_t(r,t,s)}Ho(e,t,r);break;case 21:Ho(e,t,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,Ho(e,t,r),pr=n):Ho(e,t,r);break;default:Ho(e,t,r)}}function Ob(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IM),t.forEach(function(n){var o=WM.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:or=s.stateNode,En=!1;break e;case 3:or=s.stateNode.containerInfo,En=!0;break e;case 4:or=s.stateNode.containerInfo,En=!0;break e}s=s.return}if(or===null)throw Error(ce(160));iS(a,i,o),or=null,En=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){_t(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sS(t,e),t=t.sibling}function sS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),Un(e),n&4){try{hl(3,e,e.return),zf(3,e)}catch(g){_t(e,e.return,g)}try{hl(5,e,e.return)}catch(g){_t(e,e.return,g)}}break;case 1:Nn(t,e),Un(e),n&512&&r!==null&&Mi(r,r.return);break;case 5:if(Nn(t,e),Un(e),n&512&&r!==null&&Mi(r,r.return),e.flags&32){var o=e.stateNode;try{El(o,"")}catch(g){_t(e,e.return,g)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&E_(o,a),wh(s,i);var u=wh(s,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?I_(o,f):d==="dangerouslySetInnerHTML"?D_(o,f):d==="children"?El(o,f):dg(o,d,f,u)}switch(s){case"input":vh(o,a);break;case"textarea":O_(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?zi(o,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?zi(o,!!a.multiple,a.defaultValue,!0):zi(o,!!a.multiple,a.multiple?[]:"",!1))}o[Ll]=a}catch(g){_t(e,e.return,g)}}break;case 6:if(Nn(t,e),Un(e),n&4){if(e.stateNode===null)throw Error(ce(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){_t(e,e.return,g)}}break;case 3:if(Nn(t,e),Un(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(g){_t(e,e.return,g)}break;case 4:Nn(t,e),Un(e);break;case 13:Nn(t,e),Un(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Wg=Ct())),n&4&&Ob(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pr=(u=pr)||d,Nn(t,e),pr=u):Nn(t,e),Un(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(xe=e,d=e.child;d!==null;){for(f=xe=d;xe!==null;){switch(p=xe,m=p.child,p.tag){case 0:case 11:case 14:case 15:hl(4,p,p.return);break;case 1:Mi(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){_t(n,r,g)}}break;case 5:Mi(p,p.return);break;case 22:if(p.memoizedState!==null){Db(f);continue}}m!==null?(m.return=p,xe=m):Db(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=M_("display",i))}catch(g){_t(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){_t(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(t,e),Un(e),n&4&&Ob(e);break;case 21:break;default:Nn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(aS(r)){var n=r;break e}r=r.return}throw Error(ce(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(El(o,""),n.flags&=-33);var a=Eb(e);Qh(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Eb(e);Xh(e,s,i);break;default:throw Error(ce(161))}}catch(c){_t(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RM(e,t,r){xe=e,lS(e)}function lS(e,t,r){for(var n=(e.mode&1)!==0;xe!==null;){var o=xe,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||pu;if(!i){var s=o.alternate,c=s!==null&&s.memoizedState!==null||pr;s=pu;var u=pr;if(pu=i,(pr=c)&&!u)for(xe=o;xe!==null;)i=xe,c=i.child,i.tag===22&&i.memoizedState!==null?Mb(o):c!==null?(c.return=i,xe=c):Mb(o);for(;a!==null;)xe=a,lS(a),a=a.sibling;xe=o,pu=s,pr=u}Ab(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,xe=a):Ab(e)}}function Ab(e){for(;xe!==null;){var t=xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||zf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pr)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Pn(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&hb(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hb(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ml(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}pr||t.flags&512&&Gh(t)}catch(p){_t(t,t.return,p)}}if(t===e){xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Db(e){for(;xe!==null;){var t=xe;if(t===e){xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,xe=r;break}xe=t.return}}function Mb(e){for(;xe!==null;){var t=xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{zf(4,t)}catch(c){_t(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){_t(t,o,c)}}var a=t.return;try{Gh(t)}catch(c){_t(t,a,c)}break;case 5:var i=t.return;try{Gh(t)}catch(c){_t(t,i,c)}}}catch(c){_t(t,t.return,c)}if(t===e){xe=null;break}var s=t.sibling;if(s!==null){s.return=t.return,xe=s;break}xe=t.return}}var zM=Math.ceil,wd=Io.ReactCurrentDispatcher,Ug=Io.ReactCurrentOwner,bn=Io.ReactCurrentBatchConfig,Ke=0,Yt=null,Pt=null,ir=0,Gr=0,Ii=ba(0),Rt=0,Wl=null,Qa=0,Lf=0,qg=0,vl=null,zr=null,Wg=0,Zi=1/0,co=null,kd=!1,Zh=null,ca=null,mu=!1,na=null,_d=0,gl=0,Jh=null,Hu=-1,Vu=0;function jr(){return Ke&6?Ct():Hu!==-1?Hu:Hu=Ct()}function ua(e){return e.mode&1?Ke&2&&ir!==0?ir&-ir:bM.transition!==null?(Vu===0&&(Vu=H_()),Vu):(e=Je,e!==0||(e=window.event,e=e===void 0?16:J_(e.type)),e):1}function Tn(e,t,r,n){if(50<gl)throw gl=0,Jh=null,Error(ce(185));dc(e,r,n),(!(Ke&2)||e!==Yt)&&(e===Yt&&(!(Ke&2)&&(Lf|=r),Rt===4&&ea(e,ir)),qr(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Zi=Ct()+500,If&&wa()))}function qr(e,t){var r=e.callbackNode;bD(e,t);var n=id(e,e===Yt?ir:0);if(n===0)r!==null&&U0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&U0(r),t===1)e.tag===0?xM(Ib.bind(null,e)):yj(Ib.bind(null,e)),hM(function(){!(Ke&6)&&wa()}),r=null;else{switch(V_(n)){case 1:r=vg;break;case 4:r=W_;break;case 16:r=ad;break;case 536870912:r=K_;break;default:r=ad}r=vS(r,cS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cS(e,t){if(Hu=-1,Vu=0,Ke&6)throw Error(ce(327));var r=e.callbackNode;if(Ui()&&e.callbackNode!==r)return null;var n=id(e,e===Yt?ir:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jd(e,n);else{t=n;var o=Ke;Ke|=2;var a=dS();(Yt!==e||ir!==t)&&(co=null,Zi=Ct()+500,Ua(e,t));do try{FM();break}catch(s){uS(e,s)}while(!0);Eg(),wd.current=a,Ke=o,Pt!==null?t=0:(Yt=null,ir=0,t=Rt)}if(t!==0){if(t===2&&(o=Ch(e),o!==0&&(n=o,t=ev(e,o))),t===1)throw r=Wl,Ua(e,0),ea(e,n),qr(e,Ct()),r;if(t===6)ea(e,n);else{if(o=e.current.alternate,!(n&30)&&!LM(o)&&(t=jd(e,n),t===2&&(a=Ch(e),a!==0&&(n=a,t=ev(e,a))),t===1))throw r=Wl,Ua(e,0),ea(e,n),qr(e,Ct()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ce(345));case 2:Aa(e,zr,co);break;case 3:if(ea(e,n),(n&130023424)===n&&(t=Wg+500-Ct(),10<t)){if(id(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){jr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ih(Aa.bind(null,e,zr,co),t);break}Aa(e,zr,co);break;case 4:if(ea(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-In(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*zM(n/1960))-n,10<n){e.timeoutHandle=Ih(Aa.bind(null,e,zr,co),n);break}Aa(e,zr,co);break;case 5:Aa(e,zr,co);break;default:throw Error(ce(329))}}}return qr(e,Ct()),e.callbackNode===r?cS.bind(null,e):null}function ev(e,t){var r=vl;return e.current.memoizedState.isDehydrated&&(Ua(e,t).flags|=256),e=jd(e,t),e!==2&&(t=zr,zr=r,t!==null&&tv(t)),e}function tv(e){zr===null?zr=e:zr.push.apply(zr,e)}function LM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!zn(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ea(e,t){for(t&=~qg,t&=~Lf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function Ib(e){if(Ke&6)throw Error(ce(327));Ui();var t=id(e,0);if(!(t&1))return qr(e,Ct()),null;var r=jd(e,t);if(e.tag!==0&&r===2){var n=Ch(e);n!==0&&(t=n,r=ev(e,n))}if(r===1)throw r=Wl,Ua(e,0),ea(e,t),qr(e,Ct()),r;if(r===6)throw Error(ce(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Aa(e,zr,co),qr(e,Ct()),null}function Kg(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Zi=Ct()+500,If&&wa())}}function Za(e){na!==null&&na.tag===0&&!(Ke&6)&&Ui();var t=Ke;Ke|=1;var r=bn.transition,n=Je;try{if(bn.transition=null,Je=1,e)return e()}finally{Je=n,bn.transition=r,Ke=t,!(Ke&6)&&wa()}}function Hg(){Gr=Ii.current,ft(Ii)}function Ua(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mM(r)),Pt!==null)for(r=Pt.return;r!==null;){var n=r;switch(Cg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&dd();break;case 3:Xi(),ft(Br),ft(vr),Tg();break;case 5:Ig(n);break;case 4:Xi();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:Og(n.type._context);break;case 22:case 23:Hg()}r=r.return}if(Yt=e,Pt=e=da(e.current,null),ir=Gr=t,Rt=0,Wl=null,qg=Lf=Qa=0,zr=vl=null,za!==null){for(t=0;t<za.length;t++)if(r=za[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}za=null}return e}function uS(e,t){do{var r=Pt;try{if(Eg(),qu.current=bd,xd){for(var n=bt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}xd=!1}if(Xa=0,Kt=Mt=bt=null,ml=!1,Bl=0,Ug.current=null,r===null||r.return===null){Rt=1,Wl=t,Pt=null;break}e:{var a=e,i=r.return,s=r,c=t;if(t=ir,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=wb(i);if(m!==null){m.flags&=-257,kb(m,i,s,a,t),m.mode&1&&bb(a,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){bb(a,u,t),Vg();break e}c=Error(ce(426))}}else if(vt&&s.mode&1){var y=wb(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),kb(y,i,s,a,t),Ng(Qi(c,s));break e}}a=c=Qi(c,s),Rt!==4&&(Rt=2),vl===null?vl=[a]:vl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Vj(a,c,t);mb(a,x);break e;case 1:s=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ca===null||!ca.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Yj(a,s,t);mb(a,k);break e}}a=a.return}while(a!==null)}pS(r)}catch(S){t=S,Pt===r&&r!==null&&(Pt=r=r.return);continue}break}while(!0)}function dS(){var e=wd.current;return wd.current=bd,e===null?bd:e}function Vg(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),Yt===null||!(Qa&268435455)&&!(Lf&268435455)||ea(Yt,ir)}function jd(e,t){var r=Ke;Ke|=2;var n=dS();(Yt!==e||ir!==t)&&(co=null,Ua(e,t));do try{$M();break}catch(o){uS(e,o)}while(!0);if(Eg(),Ke=r,wd.current=n,Pt!==null)throw Error(ce(261));return Yt=null,ir=0,Rt}function $M(){for(;Pt!==null;)fS(Pt)}function FM(){for(;Pt!==null&&!dD();)fS(Pt)}function fS(e){var t=hS(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?pS(e):Pt=t,Ug.current=null}function pS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MM(r,t),r!==null){r.flags&=32767,Pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rt=6,Pt=null;return}}else if(r=DM(r,t,Gr),r!==null){Pt=r;return}if(t=t.sibling,t!==null){Pt=t;return}Pt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Aa(e,t,r){var n=Je,o=bn.transition;try{bn.transition=null,Je=1,BM(e,t,r,n)}finally{bn.transition=o,Je=n}return null}function BM(e,t,r,n){do Ui();while(na!==null);if(Ke&6)throw Error(ce(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ce(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(wD(e,a),e===Yt&&(Pt=Yt=null,ir=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mu||(mu=!0,vS(ad,function(){return Ui(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=bn.transition,bn.transition=null;var i=Je;Je=1;var s=Ke;Ke|=4,Ug.current=null,TM(e,r),sS(r,e),sM(Dh),sd=!!Ah,Dh=Ah=null,e.current=r,RM(r),fD(),Ke=s,Je=i,bn.transition=a}else e.current=r;if(mu&&(mu=!1,na=e,_d=o),a=e.pendingLanes,a===0&&(ca=null),hD(r.stateNode),qr(e,Ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(kd)throw kd=!1,e=Zh,Zh=null,e;return _d&1&&e.tag!==0&&Ui(),a=e.pendingLanes,a&1?e===Jh?gl++:(gl=0,Jh=e):gl=0,wa(),null}function Ui(){if(na!==null){var e=V_(_d),t=bn.transition,r=Je;try{if(bn.transition=null,Je=16>e?16:e,na===null)var n=!1;else{if(e=na,na=null,_d=0,Ke&6)throw Error(ce(331));var o=Ke;for(Ke|=4,xe=e.current;xe!==null;){var a=xe,i=a.child;if(xe.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(xe=u;xe!==null;){var d=xe;switch(d.tag){case 0:case 11:case 15:hl(8,d,a)}var f=d.child;if(f!==null)f.return=d,xe=f;else for(;xe!==null;){d=xe;var p=d.sibling,m=d.return;if(oS(d),d===u){xe=null;break}if(p!==null){p.return=m,xe=p;break}xe=m}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}xe=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,xe=i;else e:for(;xe!==null;){if(a=xe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:hl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,xe=x;break e}xe=a.return}}var b=e.current;for(xe=b;xe!==null;){i=xe;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,xe=w;else e:for(i=b;xe!==null;){if(s=xe,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:zf(9,s)}}catch(S){_t(s,s.return,S)}if(s===i){xe=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,xe=k;break e}xe=s.return}}if(Ke=o,wa(),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Ef,e)}catch{}n=!0}return n}finally{Je=r,bn.transition=t}}return!1}function Tb(e,t,r){t=Qi(r,t),t=Vj(e,t,1),e=la(e,t,1),t=jr(),e!==null&&(dc(e,1,t),qr(e,t))}function _t(e,t,r){if(e.tag===3)Tb(e,e,r);else for(;t!==null;){if(t.tag===3){Tb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ca===null||!ca.has(n))){e=Qi(r,e),e=Yj(t,e,1),t=la(t,e,1),e=jr(),t!==null&&(dc(t,1,e),qr(t,e));break}}t=t.return}}function UM(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jr(),e.pingedLanes|=e.suspendedLanes&r,Yt===e&&(ir&r)===r&&(Rt===4||Rt===3&&(ir&130023424)===ir&&500>Ct()-Wg?Ua(e,0):qg|=r),qr(e,t)}function mS(e,t){t===0&&(e.mode&1?(t=ou,ou<<=1,!(ou&130023424)&&(ou=4194304)):t=1);var r=jr();e=Co(e,t),e!==null&&(dc(e,t,r),qr(e,r))}function qM(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),mS(e,r)}function WM(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ce(314))}n!==null&&n.delete(t),mS(e,r)}var hS;hS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Br.current)$r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $r=!1,AM(e,t,r);$r=!!(e.flags&131072)}else $r=!1,vt&&t.flags&1048576&&xj(t,md,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ku(e,t),e=t.pendingProps;var o=Vi(t,vr.current);Bi(t,r),o=zg(null,t,n,e,o,r);var a=Lg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(n)?(a=!0,fd(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Dg(t),o.updater=Rf,t.stateNode=o,o._reactInternals=t,Bh(t,n,e,r),t=Wh(null,t,n,!0,a,r)):(t.tag=0,vt&&a&&Sg(t),br(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ku(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=HM(n),e=Pn(n,e),o){case 0:t=qh(null,t,n,e,r);break e;case 1:t=Sb(null,t,n,e,r);break e;case 11:t=_b(null,t,n,e,r);break e;case 14:t=jb(null,t,n,Pn(n.type,e),r);break e}throw Error(ce(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),qh(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Sb(e,t,n,o,r);case 3:e:{if(Zj(t),e===null)throw Error(ce(387));n=t.pendingProps,a=t.memoizedState,o=a.element,Sj(e,t),gd(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Qi(Error(ce(423)),t),t=Cb(e,t,n,r,o);break e}else if(n!==o){o=Qi(Error(ce(424)),t),t=Cb(e,t,n,r,o);break e}else for(Zr=sa(t.stateNode.containerInfo.firstChild),en=t,vt=!0,On=null,r=_j(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yi(),n===o){t=No(e,t,r);break e}br(e,t,n,r)}t=t.child}return t;case 5:return Cj(t),e===null&&Lh(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,Mh(n,o)?i=null:a!==null&&Mh(n,a)&&(t.flags|=32),Qj(e,t),br(e,t,i,r),t.child;case 6:return e===null&&Lh(t),null;case 13:return Jj(e,t,r);case 4:return Mg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Gi(t,null,n,r):br(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),_b(e,t,n,o,r);case 7:return br(e,t,t.pendingProps,r),t.child;case 8:return br(e,t,t.pendingProps.children,r),t.child;case 12:return br(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,it(hd,n._currentValue),n._currentValue=i,a!==null)if(zn(a.value,i)){if(a.children===o.children&&!Br.current){t=No(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){i=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bo(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),$h(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ce(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),$h(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}br(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Bi(t,r),o=wn(o),n=n(o),t.flags|=1,br(e,t,n,r),t.child;case 14:return n=t.type,o=Pn(n,t.pendingProps),o=Pn(n.type,o),jb(e,t,n,o,r);case 15:return Gj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Ku(e,t),t.tag=1,Ur(n)?(e=!0,fd(t)):e=!1,Bi(t,r),Hj(t,n,o),Bh(t,n,o,r),Wh(null,t,n,!0,e,r);case 19:return eS(e,t,r);case 22:return Xj(e,t,r)}throw Error(ce(156,t.tag))};function vS(e,t){return q_(e,t)}function KM(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,t,r,n){return new KM(e,t,r,n)}function Yg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HM(e){if(typeof e=="function")return Yg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pg)return 11;if(e===mg)return 14}return 2}function da(e,t){var r=e.alternate;return r===null?(r=gn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yu(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")Yg(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ji:return qa(r.children,o,a,t);case fg:i=8,o|=8;break;case dh:return e=gn(12,r,t,o|2),e.elementType=dh,e.lanes=a,e;case fh:return e=gn(13,r,t,o),e.elementType=fh,e.lanes=a,e;case ph:return e=gn(19,r,t,o),e.elementType=ph,e.lanes=a,e;case C_:return $f(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case j_:i=10;break e;case S_:i=9;break e;case pg:i=11;break e;case mg:i=14;break e;case Yo:i=16,n=null;break e}throw Error(ce(130,e==null?e:typeof e,""))}return t=gn(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function qa(e,t,r,n){return e=gn(7,e,n,t),e.lanes=r,e}function $f(e,t,r,n){return e=gn(22,e,n,t),e.elementType=C_,e.lanes=r,e.stateNode={isHidden:!1},e}function Sm(e,t,r){return e=gn(6,e,null,t),e.lanes=r,e}function Cm(e,t,r){return t=gn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VM(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=im(0),this.expirationTimes=im(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=im(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Gg(e,t,r,n,o,a,i,s,c){return e=new VM(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=gn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dg(a),e}function YM(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_i,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function gS(e){if(!e)return ha;e=e._reactInternals;e:{if(ii(e)!==e||e.tag!==1)throw Error(ce(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ce(171))}if(e.tag===1){var r=e.type;if(Ur(r))return gj(e,r,t)}return t}function yS(e,t,r,n,o,a,i,s,c){return e=Gg(r,n,!0,e,o,a,i,s,c),e.context=gS(null),r=e.current,n=jr(),o=ua(r),a=bo(n,o),a.callback=t??null,la(r,a,o),e.current.lanes=o,dc(e,o,n),qr(e,n),e}function Ff(e,t,r,n){var o=t.current,a=jr(),i=ua(o);return r=gS(r),t.context===null?t.context=r:t.pendingContext=r,t=bo(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=la(o,t,i),e!==null&&(Tn(e,o,i,a),Uu(e,o,i)),i}function Sd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Rb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xg(e,t){Rb(e,t),(e=e.alternate)&&Rb(e,t)}function GM(){return null}var xS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qg(e){this._internalRoot=e}Bf.prototype.render=Qg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ce(409));Ff(e,t,null,null)};Bf.prototype.unmount=Qg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Za(function(){Ff(null,e,null,null)}),t[So]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=X_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Jo.length&&t!==0&&t<Jo[r].priority;r++);Jo.splice(r,0,e),r===0&&Z_(e)}};function Zg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Uf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zb(){}function XM(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var u=Sd(i);a.call(u)}}var i=yS(t,n,e,0,null,!1,!1,"",zb);return e._reactRootContainer=i,e[So]=i.current,Rl(e.nodeType===8?e.parentNode:e),Za(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var s=n;n=function(){var u=Sd(c);s.call(u)}}var c=Gg(e,0,!1,null,null,!1,!1,"",zb);return e._reactRootContainer=c,e[So]=c.current,Rl(e.nodeType===8?e.parentNode:e),Za(function(){Ff(t,c,r,n)}),c}function qf(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var s=o;o=function(){var c=Sd(i);s.call(c)}}Ff(t,i,e,o)}else i=XM(r,t,e,o,n);return Sd(i)}Y_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tl(t.pendingLanes);r!==0&&(gg(t,r|1),qr(t,Ct()),!(Ke&6)&&(Zi=Ct()+500,wa()))}break;case 13:Za(function(){var n=Co(e,1);if(n!==null){var o=jr();Tn(n,e,1,o)}}),Xg(e,1)}};yg=function(e){if(e.tag===13){var t=Co(e,134217728);if(t!==null){var r=jr();Tn(t,e,134217728,r)}Xg(e,134217728)}};G_=function(e){if(e.tag===13){var t=ua(e),r=Co(e,t);if(r!==null){var n=jr();Tn(r,e,t,n)}Xg(e,t)}};X_=function(){return Je};Q_=function(e,t){var r=Je;try{return Je=e,t()}finally{Je=r}};_h=function(e,t,r){switch(t){case"input":if(vh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Mf(n);if(!o)throw Error(ce(90));P_(n),vh(n,o)}}}break;case"textarea":O_(e,r);break;case"select":t=r.value,t!=null&&zi(e,!!r.multiple,t,!1)}};z_=Kg;L_=Za;var QM={usingClientEntryPoint:!1,Events:[pc,Pi,Mf,T_,R_,Kg]},Ws={findFiberByHostInstance:Ra,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZM={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=B_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||GM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hu.isDisabled&&hu.supportsFiber)try{Ef=hu.inject(ZM),Gn=hu}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QM;on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zg(t))throw Error(ce(200));return YM(e,t,null,r)};on.createRoot=function(e,t){if(!Zg(e))throw Error(ce(299));var r=!1,n="",o=xS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Gg(e,1,!1,null,null,r,!1,n,o),e[So]=t.current,Rl(e.nodeType===8?e.parentNode:e),new Qg(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ce(188)):(e=Object.keys(e).join(","),Error(ce(268,e)));return e=B_(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return Za(e)};on.hydrate=function(e,t,r){if(!Uf(t))throw Error(ce(200));return qf(null,e,t,!0,r)};on.hydrateRoot=function(e,t,r){if(!Zg(e))throw Error(ce(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=xS;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=yS(t,null,e,1,r??null,o,!1,a,i),e[So]=t.current,Rl(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Bf(t)};on.render=function(e,t,r){if(!Uf(t))throw Error(ce(200));return qf(null,e,t,!1,r)};on.unmountComponentAtNode=function(e){if(!Uf(e))throw Error(ce(40));return e._reactRootContainer?(Za(function(){qf(null,null,e,!1,function(){e._reactRootContainer=null,e[So]=null})}),!0):!1};on.unstable_batchedUpdates=Kg;on.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Uf(r))throw Error(ce(200));if(e==null||e._reactInternals===void 0)throw Error(ce(38));return qf(e,t,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function bS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bS)}catch(e){console.error(e)}}bS(),b_.exports=on;var go=b_.exports;const JM=oo(go);var wS,Lb=go;wS=Lb.createRoot,Lb.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(e,t)=>{const r=h.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:c,...u},d)=>h.createElement("svg",{ref:d,...eI,width:o,height:o,stroke:n,strokeWidth:i?Number(a)*24/Number(o):a,className:["lucide",`lucide-${tI(e)}`,s].join(" "),...u},[...t.map(([f,p])=>h.createElement(f,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Ae("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Ae("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=Ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ae("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=Ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=Ae("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=Ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=Ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=Ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=Ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=Ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=Ae("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Ae("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=Ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=Ae("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=Ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Ae("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=Ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Ae("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=Ae("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Ae("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Ae("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Ae("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=Ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function jI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const SI=e=>{switch(e){case"success":return PI;case"info":return OI;case"warning":return EI;case"error":return AI;default:return null}},CI=Array(12).fill(0),NI=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},CI.map((r,n)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),PI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),EI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),OI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),AI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),MI=()=>{const[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let nv=1;class II{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:nv++,i=this.toasts.find(c=>c.id===a),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:s,title:n}):c):this.addToast({title:n,...o,dismissible:s,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const s=o.then(async u=>{if(i=["resolve",u],ne.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(RI(u)&&!u.ok){a=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}else if(u instanceof Error){a=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}else if(r.success!==void 0){a=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...v})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!ne.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>s.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||nv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Tr=new II,TI=(e,t)=>{const r=(t==null?void 0:t.id)||nv++;return Tr.addToast({title:e,...t,id:r}),r},RI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",zI=TI,LI=()=>Tr.toasts,$I=()=>Tr.getActiveToasts(),ve=Object.assign(zI,{success:Tr.success,info:Tr.info,warning:Tr.warning,error:Tr.error,custom:Tr.custom,message:Tr.message,promise:Tr.promise,dismiss:Tr.dismiss,loading:Tr.loading},{getHistory:LI,getToasts:$I});jI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gu(e){return e.label!==void 0}const FI=3,BI="24px",UI="16px",Fb=4e3,qI=356,WI=14,KI=45,HI=200;function qn(...e){return e.filter(Boolean).join(" ")}function VI(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const YI=e=>{var t,r,n,o,a,i,s,c,u;const{invert:d,toast:f,unstyled:p,interacting:m,setHeights:v,visibleToasts:g,heights:y,index:x,toasts:b,expanded:w,removeToast:k,defaultRichColors:S,closeButton:_,style:N,cancelButtonStyle:C,actionButtonStyle:I,className:B="",descriptionClassName:P="",duration:R,position:Y,gap:H,expandByDefault:ae,classNames:oe,icons:ie,closeButtonAriaLabel:M="Close toast"}=e,[V,z]=ne.useState(null),[Z,U]=ne.useState(null),[K,Q]=ne.useState(!1),[he,O]=ne.useState(!1),[re,$]=ne.useState(!1),[D,J]=ne.useState(!1),[W,E]=ne.useState(!1),[ue,le]=ne.useState(0),[ge,we]=ne.useState(0),Me=ne.useRef(f.duration||R||Fb),He=ne.useRef(null),Re=ne.useRef(null),Le=x===0,Jt=x+1<=g,Ie=f.type,tt=f.dismissible!==!1,mt=f.className||"",Ar=f.descriptionClassName||"",er=ne.useMemo(()=>y.findIndex(Se=>Se.toastId===f.id)||0,[y,f.id]),st=ne.useMemo(()=>{var Se;return(Se=f.closeButton)!=null?Se:_},[f.closeButton,_]),pe=ne.useMemo(()=>f.duration||R||Fb,[f.duration,R]),je=ne.useRef(0),Ve=ne.useRef(0),rt=ne.useRef(0),Dr=ne.useRef(null),[Cn,Uo]=Y.split("-"),sn=ne.useMemo(()=>y.reduce((Se,$e,Fe)=>Fe>=er?Se:Se+$e.height,0),[y,er]),Bt=MI(),ci=f.invert||d,ln=Ie==="loading";Ve.current=ne.useMemo(()=>er*H+sn,[er,sn]),ne.useEffect(()=>{Me.current=pe},[pe]),ne.useEffect(()=>{Q(!0)},[]),ne.useEffect(()=>{const Se=Re.current;if(Se){const $e=Se.getBoundingClientRect().height;return we($e),v(Fe=>[{toastId:f.id,height:$e,position:f.position},...Fe]),()=>v(Fe=>Fe.filter(Ue=>Ue.toastId!==f.id))}},[v,f.id]),ne.useLayoutEffect(()=>{if(!K)return;const Se=Re.current,$e=Se.style.height;Se.style.height="auto";const Fe=Se.getBoundingClientRect().height;Se.style.height=$e,we(Fe),v(Ue=>Ue.find(qe=>qe.toastId===f.id)?Ue.map(qe=>qe.toastId===f.id?{...qe,height:Fe}:qe):[{toastId:f.id,height:Fe,position:f.position},...Ue])},[K,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const gr=ne.useCallback(()=>{O(!0),le(Ve.current),v(Se=>Se.filter($e=>$e.toastId!==f.id)),setTimeout(()=>{k(f)},HI)},[f,k,v,Ve]);ne.useEffect(()=>{if(f.promise&&Ie==="loading"||f.duration===1/0||f.type==="loading")return;let Se;return w||m||Bt?(()=>{if(rt.current<je.current){const Ue=new Date().getTime()-je.current;Me.current=Me.current-Ue}rt.current=new Date().getTime()})():(()=>{Me.current!==1/0&&(je.current=new Date().getTime(),Se=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),gr()},Me.current))})(),()=>clearTimeout(Se)},[w,m,f,Ie,Bt,gr]),ne.useEffect(()=>{f.delete&&(gr(),f.onDismiss==null||f.onDismiss.call(f,f))},[gr,f.delete]);function Ca(){var Se;if(ie!=null&&ie.loading){var $e;return ne.createElement("div",{className:qn(oe==null?void 0:oe.loader,f==null||($e=f.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":Ie==="loading"},ie.loading)}return ne.createElement(NI,{className:qn(oe==null?void 0:oe.loader,f==null||(Se=f.classNames)==null?void 0:Se.loader),visible:Ie==="loading"})}const tr=f.icon||(ie==null?void 0:ie[Ie])||SI(Ie);var kt,lt;return ne.createElement("li",{tabIndex:0,ref:Re,className:qn(B,mt,oe==null?void 0:oe.toast,f==null||(t=f.classNames)==null?void 0:t.toast,oe==null?void 0:oe.default,oe==null?void 0:oe[Ie],f==null||(r=f.classNames)==null?void 0:r[Ie]),"data-sonner-toast":"","data-rich-colors":(kt=f.richColors)!=null?kt:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":K,"data-promise":!!f.promise,"data-swiped":W,"data-removed":he,"data-visible":Jt,"data-y-position":Cn,"data-x-position":Uo,"data-index":x,"data-front":Le,"data-swiping":re,"data-dismissible":tt,"data-type":Ie,"data-invert":ci,"data-swipe-out":D,"data-swipe-direction":Z,"data-expanded":!!(w||ae&&K),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${he?ue:Ve.current}px`,"--initial-height":ae?"auto":`${ge}px`,...N,...f.style},onDragEnd:()=>{$(!1),z(null),Dr.current=null},onPointerDown:Se=>{Se.button!==2&&(ln||!tt||(He.current=new Date,le(Ve.current),Se.target.setPointerCapture(Se.pointerId),Se.target.tagName!=="BUTTON"&&($(!0),Dr.current={x:Se.clientX,y:Se.clientY})))},onPointerUp:()=>{var Se,$e,Fe;if(D||!tt)return;Dr.current=null;const Ue=Number(((Se=Re.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number((($e=Re.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),qe=new Date().getTime()-((Fe=He.current)==null?void 0:Fe.getTime()),We=V==="x"?Ue:jt,rr=Math.abs(We)/qe;if(Math.abs(We)>=KI||rr>.11){le(Ve.current),f.onDismiss==null||f.onDismiss.call(f,f),U(V==="x"?Ue>0?"right":"left":jt>0?"down":"up"),gr(),J(!0);return}else{var ct,yt;(ct=Re.current)==null||ct.style.setProperty("--swipe-amount-x","0px"),(yt=Re.current)==null||yt.style.setProperty("--swipe-amount-y","0px")}E(!1),$(!1),z(null)},onPointerMove:Se=>{var $e,Fe,Ue;if(!Dr.current||!tt||(($e=window.getSelection())==null?void 0:$e.toString().length)>0)return;const qe=Se.clientY-Dr.current.y,We=Se.clientX-Dr.current.x;var rr;const ct=(rr=e.swipeDirections)!=null?rr:VI(Y);!V&&(Math.abs(We)>1||Math.abs(qe)>1)&&z(Math.abs(We)>Math.abs(qe)?"x":"y");let yt={x:0,y:0};const cn=Ot=>1/(1.5+Math.abs(Ot)/20);if(V==="y"){if(ct.includes("top")||ct.includes("bottom"))if(ct.includes("top")&&qe<0||ct.includes("bottom")&&qe>0)yt.y=qe;else{const Ot=qe*cn(qe);yt.y=Math.abs(Ot)<Math.abs(qe)?Ot:qe}}else if(V==="x"&&(ct.includes("left")||ct.includes("right")))if(ct.includes("left")&&We<0||ct.includes("right")&&We>0)yt.x=We;else{const Ot=We*cn(We);yt.x=Math.abs(Ot)<Math.abs(We)?Ot:We}(Math.abs(yt.x)>0||Math.abs(yt.y)>0)&&E(!0),(Fe=Re.current)==null||Fe.style.setProperty("--swipe-amount-x",`${yt.x}px`),(Ue=Re.current)==null||Ue.style.setProperty("--swipe-amount-y",`${yt.y}px`)}},st&&!f.jsx&&Ie!=="loading"?ne.createElement("button",{"aria-label":M,"data-disabled":ln,"data-close-button":!0,onClick:ln||!tt?()=>{}:()=>{gr(),f.onDismiss==null||f.onDismiss.call(f,f)},className:qn(oe==null?void 0:oe.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(lt=ie==null?void 0:ie.close)!=null?lt:DI):null,(Ie||f.icon||f.promise)&&f.icon!==null&&((ie==null?void 0:ie[Ie])!==null||f.icon)?ne.createElement("div",{"data-icon":"",className:qn(oe==null?void 0:oe.icon,f==null||(o=f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Ca():null,f.type!=="loading"?tr:null):null,ne.createElement("div",{"data-content":"",className:qn(oe==null?void 0:oe.content,f==null||(a=f.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:qn(oe==null?void 0:oe.title,f==null||(i=f.classNames)==null?void 0:i.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ne.createElement("div",{"data-description":"",className:qn(P,Ar,oe==null?void 0:oe.description,f==null||(s=f.classNames)==null?void 0:s.description)},typeof f.description=="function"?f.description():f.description):null),ne.isValidElement(f.cancel)?f.cancel:f.cancel&&gu(f.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:Se=>{gu(f.cancel)&&tt&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Se),gr())},className:qn(oe==null?void 0:oe.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,ne.isValidElement(f.action)?f.action:f.action&&gu(f.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||I,onClick:Se=>{gu(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Se),!Se.defaultPrevented&&gr())},className:qn(oe==null?void 0:oe.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function Bb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function GI(e,t){const r={};return[e,t].forEach((n,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",s=a?UI:BI;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=s:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(s)}),r}const XI=ne.forwardRef(function(t,r){const{id:n,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:m,duration:v,style:g,visibleToasts:y=FI,toastOptions:x,dir:b=Bb(),gap:w=WI,icons:k,containerAriaLabel:S="Notifications"}=t,[_,N]=ne.useState([]),C=ne.useMemo(()=>n?_.filter(K=>K.toasterId===n):_.filter(K=>!K.toasterId),[_,n]),I=ne.useMemo(()=>Array.from(new Set([a].concat(C.filter(K=>K.position).map(K=>K.position)))),[C,a]),[B,P]=ne.useState([]),[R,Y]=ne.useState(!1),[H,ae]=ne.useState(!1),[oe,ie]=ne.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),M=ne.useRef(null),V=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),z=ne.useRef(null),Z=ne.useRef(!1),U=ne.useCallback(K=>{N(Q=>{var he;return(he=Q.find(O=>O.id===K.id))!=null&&he.delete||Tr.dismiss(K.id),Q.filter(({id:O})=>O!==K.id)})},[]);return ne.useEffect(()=>Tr.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{N(Q=>Q.map(he=>he.id===K.id?{...he,delete:!0}:he))});return}setTimeout(()=>{JM.flushSync(()=>{N(Q=>{const he=Q.findIndex(O=>O.id===K.id);return he!==-1?[...Q.slice(0,he),{...Q[he],...K},...Q.slice(he+1)]:[K,...Q]})})})}),[_]),ne.useEffect(()=>{if(p!=="system"){ie(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Q})=>{ie(Q?"dark":"light")})}catch{K.addListener(({matches:he})=>{try{ie(he?"dark":"light")}catch(O){console.error(O)}})}},[p]),ne.useEffect(()=>{_.length<=1&&Y(!1)},[_]),ne.useEffect(()=>{const K=Q=>{var he;if(i.every($=>Q[$]||Q.code===$)){var re;Y(!0),(re=M.current)==null||re.focus()}Q.code==="Escape"&&(document.activeElement===M.current||(he=M.current)!=null&&he.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),ne.useEffect(()=>{if(M.current)return()=>{z.current&&(z.current.focus({preventScroll:!0}),z.current=null,Z.current=!1)}},[M.current]),ne.createElement("section",{ref:r,"aria-label":`${S} ${V}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((K,Q)=>{var he;const[O,re]=K.split("-");return C.length?ne.createElement("ol",{key:K,dir:b==="auto"?Bb():b,tabIndex:-1,ref:M,className:u,"data-sonner-toaster":!0,"data-sonner-theme":oe,"data-y-position":O,"data-x-position":re,style:{"--front-toast-height":`${((he=B[0])==null?void 0:he.height)||0}px`,"--width":`${qI}px`,"--gap":`${w}px`,...g,...GI(d,f)},onBlur:$=>{Z.current&&!$.currentTarget.contains($.relatedTarget)&&(Z.current=!1,z.current&&(z.current.focus({preventScroll:!0}),z.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||Z.current||(Z.current=!0,z.current=$.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{H||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||ae(!0)},onPointerUp:()=>ae(!1)},C.filter($=>!$.position&&Q===0||$.position===K).map(($,D)=>{var J,W;return ne.createElement(YI,{key:$.id,icons:k,index:D,toast:$,defaultRichColors:m,duration:(J=x==null?void 0:x.duration)!=null?J:v,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:o,visibleToasts:y,closeButton:(W=x==null?void 0:x.closeButton)!=null?W:c,interacting:H,position:K,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:U,toasts:C.filter(E=>E.position==$.position),heights:B.filter(E=>E.position==$.position),setHeights:P,expandByDefault:s,gap:w,expanded:R,swipeDirections:t.swipeDirections})})):null}))}),QI="POS_DB",ZI=8;class JI{constructor(){Rs(this,"db",null);Rs(this,"isInitialized",!1)}async init(){if(!(this.isInitialized&&this.db)){if(typeof indexedDB>"u")throw new Error("IndexedDB is not available in this environment");return new Promise((t,r)=>{const n=indexedDB.open(QI,ZI);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,this.isInitialized=!0,t()},n.onupgradeneeded=o=>{const a=o.target.result;if(!a.objectStoreNames.contains("products")){const i=a.createObjectStore("products",{keyPath:"id"});i.createIndex("category","category",{unique:!1}),i.createIndex("name","name",{unique:!1})}if(!a.objectStoreNames.contains("sales")){const i=a.createObjectStore("sales",{keyPath:"id"});i.createIndex("completed_at","completed_at",{unique:!1}),i.createIndex("sale_number","sale_number",{unique:!0})}if(a.objectStoreNames.contains("sale_items")||a.createObjectStore("sale_items",{keyPath:"id"}).createIndex("sale_id","sale_id",{unique:!1}),a.objectStoreNames.contains("cash_drawer")||a.createObjectStore("cash_drawer",{keyPath:"id"}).createIndex("denomination","denomination",{unique:!0}),!a.objectStoreNames.contains("cash_movements")){const i=a.createObjectStore("cash_movements",{keyPath:"id"});i.createIndex("created_at","created_at",{unique:!1}),i.createIndex("sale_id","sale_id",{unique:!1})}if(a.objectStoreNames.contains("logo_config")||a.createObjectStore("logo_config",{keyPath:"id"}),a.objectStoreNames.contains("materia_prima")||a.createObjectStore("materia_prima",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!a.objectStoreNames.contains("product_materia_prima")){const i=a.createObjectStore("product_materia_prima",{keyPath:"id"});i.createIndex("product_id","product_id",{unique:!1}),i.createIndex("materia_prima_id","materia_prima_id",{unique:!1})}if(a.objectStoreNames.contains("app_settings")||a.createObjectStore("app_settings",{keyPath:"id"}),!a.objectStoreNames.contains("combos")){const i=a.createObjectStore("combos",{keyPath:"id"});i.createIndex("name","name",{unique:!1}),i.createIndex("active","active",{unique:!1})}}})}}getStore(t,r="readonly"){if(!this.db)throw new Error("Database not initialized");if(!this.db.objectStoreNames.contains(t))throw new Error(`Object store '${t}' not found. Please refresh the page to upgrade the database.`);return this.db.transaction(t,r).objectStore(t)}hasStore(t){return this.db?this.db.objectStoreNames.contains(t):!1}async add(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").add(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async put(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").put(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async get(t,r){return new Promise((n,o)=>{const i=this.getStore(t).get(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async getAll(t){return new Promise((r,n)=>{const a=this.getStore(t).getAll();a.onsuccess=()=>r(a.result),a.onerror=()=>n(a.error)})}async getAllByIndex(t,r,n){return new Promise((o,a)=>{const s=this.getStore(t).index(r),c=n!==void 0?s.getAll(n):s.getAll();c.onsuccess=()=>o(c.result),c.onerror=()=>a(c.error)})}async delete(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").delete(r);i.onsuccess=()=>n(),i.onerror=()=>o(i.error)})}async clear(t){return new Promise((r,n)=>{const a=this.getStore(t,"readwrite").clear();a.onsuccess=()=>r(),a.onerror=()=>n(a.error)})}async exportData(){const[t,r,n,o,a,i,s,c,u,d]=await Promise.all([this.getAll("products"),this.getAll("sales"),this.getAll("sale_items"),this.getAll("cash_drawer"),this.getAll("cash_movements"),this.getAll("logo_config"),this.getAll("materia_prima"),this.getAll("product_materia_prima"),this.hasStore("combos")?this.getAll("combos"):[],this.getAll("app_settings")]);return JSON.stringify({products:t,sales:r,sale_items:n,cash_drawer:o,cash_movements:a,logo_config:i,materia_prima:s,product_materia_prima:c,combos:u,app_settings:d},null,2)}async importData(t){const r=JSON.parse(t);await this.clear("products"),await this.clear("sales"),await this.clear("sale_items"),await this.clear("cash_drawer"),await this.clear("cash_movements"),await this.clear("logo_config"),await this.clear("materia_prima"),await this.clear("product_materia_prima"),this.hasStore("combos")&&await this.clear("combos"),await this.clear("app_settings");for(const n of r.products||[])await this.add("products",n);for(const n of r.sales||[])await this.add("sales",n);for(const n of r.sale_items||[])await this.add("sale_items",n);for(const n of r.cash_drawer||[])await this.add("cash_drawer",n);for(const n of r.cash_movements||[])await this.add("cash_movements",n);for(const n of r.logo_config||[])await this.add("logo_config",n);for(const n of r.materia_prima||[])await this.add("materia_prima",n);for(const n of r.product_materia_prima||[])await this.add("product_materia_prima",n);if(this.hasStore("combos"))for(const n of r.combos||[])await this.add("combos",n);for(const n of r.app_settings||[])await this.add("app_settings",n)}async resetDatabase(){const t=[this.clear("products"),this.clear("sales"),this.clear("sale_items"),this.clear("cash_drawer"),this.clear("cash_movements"),this.clear("logo_config"),this.clear("materia_prima"),this.clear("product_materia_prima")];this.hasStore("combos")&&t.push(this.clear("combos")),await Promise.all(t)}}const q=new JI,Em={light:{primary:"#D7191C",accent:"#0077CC",text:"#1A1A1A",background:"#FAFAF7",backgroundSecondary:"#FFFFFF",backgroundAccent:"#E5E7EB"},dark:{primary:"#3B82F6",accent:"#10B981",text:"#E5E7EB",background:"#0F172A",backgroundSecondary:"#1E293B",backgroundAccent:"#334155"}},NS=h.createContext(void 0);function Ub(e){const t=e.replace("#","");if(t.length!==6)return"#FFFFFF";const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,[a,i,s]=[r,n,o].map(u=>u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4));return .2126*a+.7152*i+.0722*s>.5?"#000000":"#FFFFFF"}function eT({children:e}){const[t,r]=h.useState(()=>localStorage.getItem("theme")||"light"),[n,o]=h.useState(Em),[a,i]=h.useState(!1),s=(p,m)=>{const v=p[m],g=document.documentElement;g.style.setProperty("--color-primary",v.primary),g.style.setProperty("--color-accent",v.accent),g.style.setProperty("--color-text",v.text),g.style.setProperty("--color-background",v.background),g.style.setProperty("--color-background-secondary",v.backgroundSecondary),g.style.setProperty("--color-background-accent",v.backgroundAccent),g.style.setProperty("--color-on-primary",Ub(v.primary)),g.style.setProperty("--color-on-accent",Ub(v.accent)),m==="dark"?g.classList.add("dark"):g.classList.remove("dark")};h.useEffect(()=>{(async()=>{try{await q.init();const m=await q.getAll("logo_config");m.length>0&&m[0].theme_config?(o(m[0].theme_config),s(m[0].theme_config,t)):s(Em,t)}catch(m){console.error("Failed to load theme config:",m),s(Em,t)}finally{i(!0)}})()},[t]),h.useEffect(()=>{a&&s(n,t)},[t,n,a]);const c=p=>{s(p||n,t)},u=h.useCallback(async(p,m)=>{try{await q.init();const v=await q.get("app_settings","default");if(!(v!=null&&v.kds_enabled)||!(v!=null&&v.kds_url))return;const g=p||n,y=m||t,x=g[y],b={mode:y,colors:{primary:x.primary,accent:x.accent,text:x.text,background:x.background,backgroundSecondary:x.backgroundSecondary,backgroundAccent:x.backgroundAccent}},w=new AbortController,k=setTimeout(()=>w.abort(),3e3);try{await fetch(`${v.kds_url}/api/theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b),signal:w.signal})}finally{clearTimeout(k)}}catch(v){console.error("Error syncing theme to KDS:",v)}},[t,n]),d=()=>{const p=t==="light"?"dark":"light";r(p),localStorage.setItem("theme",p)};h.useEffect(()=>{a&&u()},[t,a,u]);const f=async p=>{try{await q.init();const m=await q.getAll("logo_config"),v={id:m.length>0?m[0].id:crypto.randomUUID(),acronym:m.length>0?m[0].acronym:"SSB",logo_image:m.length>0?m[0].logo_image:void 0,theme_config:p,updated_at:new Date().toISOString()};m.length>0?await q.put("logo_config",v):await q.add("logo_config",v),o(p),c(p),await u(p,t)}catch(m){throw console.error("Failed to update theme config:",m),m}};return l.jsx(NS.Provider,{value:{theme:t,toggleTheme:d,themeConfig:n,updateThemeConfig:f,applyTheme:c,syncThemeToKDS:u,isLoading:!a},children:e})}function hc(){const e=h.useContext(NS);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const PS=h.createContext(void 0);function tT({children:e}){const[t,r]=h.useState({acronym:"SSB",logo_image:void 0}),[n,o]=h.useState(!0);h.useEffect(()=>{a()},[]);const a=async()=>{try{await q.init();const s=await q.getAll("logo_config");s.length>0&&r({acronym:s[0].acronym,logo_image:s[0].logo_image})}catch(s){console.error("Error loading logo config:",s)}finally{o(!1)}},i=async s=>{try{await q.init();const c=await q.getAll("logo_config"),u={id:c.length>0?c[0].id:crypto.randomUUID(),acronym:s.acronym,logo_image:s.logo_image,theme_config:c.length>0?c[0].theme_config:void 0,updated_at:new Date().toISOString()};c.length>0?await q.put("logo_config",u):await q.add("logo_config",u),r(s)}catch(c){throw console.error("Error updating logo config:",c),c}};return l.jsx(PS.Provider,{value:{logoConfig:t,loading:n,updateLogoConfig:i,refresh:a},children:e})}function ES(){const e=h.useContext(PS);if(e===void 0)throw new Error("useLogo must be used within a LogoProvider");return e}function rT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.useMemo(()=>n=>{t.forEach(o=>o(n))},t)}const Wf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ds(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function ny(e){return"nodeType"in e}function Er(e){var t,r;return e?ds(e)?e:ny(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function oy(e){const{Document:t}=Er(e);return e instanceof t}function vc(e){return ds(e)?!1:e instanceof Er(e).HTMLElement}function OS(e){return e instanceof Er(e).SVGElement}function fs(e){return e?ds(e)?e.document:ny(e)?oy(e)?e:vc(e)||OS(e)?e.ownerDocument:document:document:document}const Ln=Wf?h.useLayoutEffect:h.useEffect;function Kf(e){const t=h.useRef(e);return Ln(()=>{t.current=e}),h.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function nT(){const e=h.useRef(null),t=h.useCallback((n,o)=>{e.current=setInterval(n,o)},[]),r=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Kl(e,t){t===void 0&&(t=[e]);const r=h.useRef(e);return Ln(()=>{r.current!==e&&(r.current=e)},t),r}function gc(e,t){const r=h.useRef();return h.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Ed(e){const t=Kf(e),r=h.useRef(null),n=h.useCallback(o=>{o!==r.current&&(t==null||t(o,r.current)),r.current=o},[]);return[r,n]}function Od(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Om={};function yc(e,t){return h.useMemo(()=>{if(t)return t;const r=Om[e]==null?0:Om[e]+1;return Om[e]=r,e+"-"+r},[e,t])}function AS(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((a,i)=>{const s=Object.entries(i);for(const[c,u]of s){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const qi=AS(1),Hl=AS(-1);function oT(e){return"clientX"in e&&"clientY"in e}function Hf(e){if(!e)return!1;const{KeyboardEvent:t}=Er(e.target);return t&&e instanceof t}function aT(e){if(!e)return!1;const{TouchEvent:t}=Er(e.target);return t&&e instanceof t}function Ad(e){if(aT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return oT(e)?{x:e.clientX,y:e.clientY}:null}const Zn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Zn.Translate.toString(e),Zn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),qb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function iT(e){return e.matches(qb)?e:e.querySelector(qb)}const sT={display:"none"};function lT(e){let{id:t,value:r}=e;return ne.createElement("div",{id:t,style:sT},r)}function cT(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function uT(){const[e,t]=h.useState("");return{announce:h.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const DS=h.createContext(null);function dT(e){const t=h.useContext(DS);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function fT(){const[e]=h.useState(()=>new Set),t=h.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[h.useCallback(n=>{let{type:o,event:a}=n;e.forEach(i=>{var s;return(s=i[o])==null?void 0:s.call(i,a)})},[e]),t]}const pT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},mT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function hT(e){let{announcements:t=mT,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=pT}=e;const{announce:a,announcement:i}=uT(),s=yc("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),dT(h.useMemo(()=>({onDragStart(f){let{active:p}=f;a(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;a(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;a(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!c)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(lT,{id:n,value:o.draggable}),ne.createElement(cT,{id:s,announcement:i}));return r?go.createPortal(d,r):d}var Tt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Tt||(Tt={}));function Dd(){}function Am(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function vT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const $n=Object.freeze({x:0,y:0});function MS(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function gT(e,t){const r=Ad(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function IS(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function yT(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Wb(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function TS(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function Kb(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const xT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Kb(t,t.left,t.top),a=[];for(const i of n){const{id:s}=i,c=r.get(s);if(c){const u=MS(Kb(c),o);a.push({id:s,data:{droppableContainer:i,value:u}})}}return a.sort(IS)},bT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Wb(t),a=[];for(const i of n){const{id:s}=i,c=r.get(s);if(c){const u=Wb(c),d=o.reduce((p,m,v)=>p+MS(u[v],m),0),f=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:i,value:f}})}}return a.sort(IS)};function wT(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-n,s=a-r;if(n<o&&r<a){const c=t.width*t.height,u=e.width*e.height,d=i*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const kT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const a of n){const{id:i}=a,s=r.get(i);if(s){const c=wT(s,t);c>0&&o.push({id:i,data:{droppableContainer:a,value:c}})}}return o.sort(yT)};function _T(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function RS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$n}function jT(e){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return o.reduce((i,s)=>({...i,top:i.top+e*s.y,bottom:i.bottom+e*s.y,left:i.left+e*s.x,right:i.right+e*s.x}),{...r})}}const ST=jT(1);function zS(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function CT(e,t,r){const n=zS(t);if(!n)return e;const{scaleX:o,scaleY:a,x:i,y:s}=n,c=e.left-i-(1-o)*parseFloat(r),u=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const NT={ignoreTransform:!1};function ps(e,t){t===void 0&&(t=NT);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Er(e).getComputedStyle(e);u&&(r=CT(r,u,d))}const{top:n,left:o,width:a,height:i,bottom:s,right:c}=r;return{top:n,left:o,width:a,height:i,bottom:s,right:c}}function Hb(e){return ps(e,{ignoreTransform:!0})}function PT(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function ET(e,t){return t===void 0&&(t=Er(e).getComputedStyle(e)),t.position==="fixed"}function OT(e,t){t===void 0&&(t=Er(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?r.test(a):!1})}function Vf(e,t){const r=[];function n(o){if(t!=null&&r.length>=t||!o)return r;if(oy(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!vc(o)||OS(o)||r.includes(o))return r;const a=Er(e).getComputedStyle(o);return o!==e&&OT(o,a)&&r.push(o),ET(o,a)?r:n(o.parentNode)}return e?n(e):r}function LS(e){const[t]=Vf(e,1);return t??null}function Dm(e){return!Wf||!e?null:ds(e)?e:ny(e)?oy(e)||e===fs(e).scrollingElement?window:vc(e)?e:null:null}function $S(e){return ds(e)?e.scrollX:e.scrollLeft}function FS(e){return ds(e)?e.scrollY:e.scrollTop}function ov(e){return{x:$S(e),y:FS(e)}}var Ht;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ht||(Ht={}));function BS(e){return!Wf||!e?!1:e===document.scrollingElement}function US(e){const t={x:0,y:0},r=BS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:o,isLeft:a,isBottom:i,isRight:s,maxScroll:n,minScroll:t}}const AT={x:.2,y:.2};function DT(e,t,r,n,o){let{top:a,left:i,right:s,bottom:c}=r;n===void 0&&(n=10),o===void 0&&(o=AT);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=US(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&a<=t.top+g.height?(m.y=Ht.Backward,v.y=n*Math.abs((t.top+g.height-a)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Ht.Forward,v.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!p&&s>=t.right-g.width?(m.x=Ht.Forward,v.x=n*Math.abs((t.right-g.width-s)/g.width)):!f&&i<=t.left+g.width&&(m.x=Ht.Backward,v.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:m,speed:v}}function MT(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function qS(e){return e.reduce((t,r)=>qi(t,ov(r)),$n)}function IT(e){return e.reduce((t,r)=>t+$S(r),0)}function TT(e){return e.reduce((t,r)=>t+FS(r),0)}function WS(e,t){if(t===void 0&&(t=ps),!e)return;const{top:r,left:n,bottom:o,right:a}=t(e);LS(e)&&(o<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const RT=[["x",["left","right"],IT],["y",["top","bottom"],TT]];class ay{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Vf(r),o=qS(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,s]of RT)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=s(n),d=o[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class kl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var o;(o=this.target)==null||o.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function zT(e){const{EventTarget:t}=Er(e);return e instanceof t?e:fs(e)}function Mm(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var mn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(mn||(mn={}));function Vb(e){e.preventDefault()}function LT(e){e.stopPropagation()}var Be;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Be||(Be={}));const KS={start:[Be.Space,Be.Enter],cancel:[Be.Esc],end:[Be.Space,Be.Enter,Be.Tab]},$T=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Be.Right:return{...r,x:r.x+25};case Be.Left:return{...r,x:r.x-25};case Be.Down:return{...r,y:r.y+25};case Be.Up:return{...r,y:r.y-25}}};class iy{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new kl(fs(r)),this.windowListeners=new kl(Er(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(mn.Resize,this.handleCancel),this.windowListeners.add(mn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(mn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&WS(n),r($n)}handleKeyDown(t){if(Hf(t)){const{active:r,context:n,options:o}=this.props,{keyboardCodes:a=KS,coordinateGetter:i=$T,scrollBehavior:s="smooth"}=o,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(t,{active:r,context:n.current,currentCoordinates:d});if(f){const p=Hl(f,d),m={x:0,y:0},{scrollableAncestors:v}=n.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:k,maxScroll:S,minScroll:_}=US(g),N=MT(g),C={x:Math.min(y===Be.Right?N.right-N.width/2:N.right,Math.max(y===Be.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(y===Be.Down?N.bottom-N.height/2:N.bottom,Math.max(y===Be.Down?N.top:N.top+N.height/2,f.y))},I=y===Be.Right&&!b||y===Be.Left&&!w,B=y===Be.Down&&!k||y===Be.Up&&!x;if(I&&C.x!==f.x){const P=g.scrollLeft+p.x,R=y===Be.Right&&P<=S.x||y===Be.Left&&P>=_.x;if(R&&!p.y){g.scrollTo({left:P,behavior:s});return}R?m.x=g.scrollLeft-P:m.x=y===Be.Right?g.scrollLeft-S.x:g.scrollLeft-_.x,m.x&&g.scrollBy({left:-m.x,behavior:s});break}else if(B&&C.y!==f.y){const P=g.scrollTop+p.y,R=y===Be.Down&&P<=S.y||y===Be.Up&&P>=_.y;if(R&&!p.x){g.scrollTo({top:P,behavior:s});return}R?m.y=g.scrollTop-P:m.y=y===Be.Down?g.scrollTop-S.y:g.scrollTop-_.y,m.y&&g.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,qi(Hl(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}iy.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=KS,onActivation:o}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function Yb(e){return!!(e&&"distance"in e)}function Gb(e){return!!(e&&"delay"in e)}class sy{constructor(t,r,n){var o;n===void 0&&(n=zT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:i}=a;this.props=t,this.events=r,this.document=fs(i),this.documentListeners=new kl(this.document),this.listeners=new kl(n),this.windowListeners=new kl(Er(i)),this.initialCoordinates=(o=Ad(a))!=null?o:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(mn.Resize,this.handleCancel),this.windowListeners.add(mn.DragStart,Vb),this.windowListeners.add(mn.VisibilityChange,this.handleCancel),this.windowListeners.add(mn.ContextMenu,Vb),this.documentListeners.add(mn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Gb(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(Yb(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:o}=this.props;o(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(mn.Click,LT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(mn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:o,props:a}=this,{onMove:i,options:{activationConstraint:s}}=a;if(!o)return;const c=(r=Ad(t))!=null?r:$n,u=Hl(o,c);if(!n&&s){if(Yb(s)){if(s.tolerance!=null&&Mm(u,s.tolerance))return this.handleCancel();if(Mm(u,s.distance))return this.handleStart()}if(Gb(s)&&Mm(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Be.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const FT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class ly extends sy{constructor(t){const{event:r}=t,n=fs(r.target);super(t,FT,n)}}ly.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const BT={move:{name:"mousemove"},end:{name:"mouseup"}};var av;(function(e){e[e.RightClick=2]="RightClick"})(av||(av={}));class UT extends sy{constructor(t){super(t,BT,fs(t.event.target))}}UT.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===av.RightClick?!1:(n==null||n({event:r}),!0)}}];const Im={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class HS extends sy{constructor(t){super(t,Im)}static setup(){return window.addEventListener(Im.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Im.move.name,t)};function t(){}}}HS.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return o.length>1?!1:(n==null||n({event:r}),!0)}}];var _l;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(_l||(_l={}));var Md;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Md||(Md={}));function qT(e){let{acceleration:t,activator:r=_l.Pointer,canScroll:n,draggingRect:o,enabled:a,interval:i=5,order:s=Md.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=KT({delta:f,disabled:!a}),[v,g]=nT(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(r){case _l.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case _l.DraggableRect:return o}},[r,o,c]),w=h.useRef(null),k=h.useCallback(()=>{const _=w.current;if(!_)return;const N=y.current.x*x.current.x,C=y.current.y*x.current.y;_.scrollBy(N,C)},[]),S=h.useMemo(()=>s===Md.TreeOrder?[...u].reverse():u,[s,u]);h.useEffect(()=>{if(!a||!u.length||!b){g();return}for(const _ of S){if((n==null?void 0:n(_))===!1)continue;const N=u.indexOf(_),C=d[N];if(!C)continue;const{direction:I,speed:B}=DT(_,C,b,t,p);for(const P of["x","y"])m[P][I[P]]||(B[P]=0,I[P]=0);if(B.x>0||B.y>0){g(),w.current=_,v(k,i),y.current=B,x.current=I;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,k,n,g,a,i,JSON.stringify(b),JSON.stringify(m),v,u,S,d,JSON.stringify(p)])}const WT={x:{[Ht.Backward]:!1,[Ht.Forward]:!1},y:{[Ht.Backward]:!1,[Ht.Forward]:!1}};function KT(e){let{delta:t,disabled:r}=e;const n=Od(t);return gc(o=>{if(r||!n||!o)return WT;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Ht.Backward]:o.x[Ht.Backward]||a.x===-1,[Ht.Forward]:o.x[Ht.Forward]||a.x===1},y:{[Ht.Backward]:o.y[Ht.Backward]||a.y===-1,[Ht.Forward]:o.y[Ht.Forward]||a.y===1}}},[r,t,n])}function HT(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return gc(o=>{var a;return t==null?null:(a=n??o)!=null?a:null},[n,t])}function VT(e,t){return h.useMemo(()=>e.reduce((r,n)=>{const{sensor:o}=n,a=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...a]},[]),[e,t])}var Vl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Vl||(Vl={}));var iv;(function(e){e.Optimized="optimized"})(iv||(iv={}));const Xb=new Map;function YT(e,t){let{dragging:r,dependencies:n,config:o}=t;const[a,i]=h.useState(null),{frequency:s,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=Kl(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&i(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=gc(x=>{if(f&&!r)return Xb;if(!x||x===Xb||d.current!==e||a!=null){const b=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const k=w.node.current,S=k?new ay(c(k),k):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return x},[e,a,r,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[r,f]),h.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),h.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},s))},[s,f,m,...n]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:a!=null};function y(){switch(u){case Vl.Always:return!1;case Vl.BeforeDragging:return r;default:return!r}}}function cy(e,t){return gc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function GT(e,t){return cy(e,t)}function XT(e){let{callback:t,disabled:r}=e;const n=Kf(t),o=h.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Yf(e){let{callback:t,disabled:r}=e;const n=Kf(t),o=h.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function QT(e){return new ay(ps(e),e)}function Qb(e,t,r){t===void 0&&(t=QT);const[n,o]=h.useState(null);function a(){o(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=XT({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),s=Yf({callback:a});return Ln(()=>{a(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),n}function ZT(e){const t=cy(e);return RS(e,t)}const Zb=[];function JT(e){const t=h.useRef(e),r=gc(n=>e?n&&n!==Zb&&e&&t.current&&e.parentNode===t.current.parentNode?n:Vf(e):Zb,[e]);return h.useEffect(()=>{t.current=e},[e]),r}function e3(e){const[t,r]=h.useState(null),n=h.useRef(e),o=h.useCallback(a=>{const i=Dm(a.target);i&&r(s=>s?(s.set(i,ov(i)),new Map(s)):null)},[]);return h.useEffect(()=>{const a=n.current;if(e!==a){i(a);const s=e.map(c=>{const u=Dm(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,ov(u)]):null}).filter(c=>c!=null);r(s.length?new Map(s):null),n.current=e}return()=>{i(e),i(a)};function i(s){s.forEach(c=>{const u=Dm(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>qi(a,i),$n):qS(e):$n,[e,t])}function Jb(e,t){t===void 0&&(t=[]);const r=h.useRef(null);return h.useEffect(()=>{r.current=null},t),h.useEffect(()=>{const n=e!==$n;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Hl(e,r.current):$n}function t3(e){h.useEffect(()=>{if(!Wf)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function r3(e,t){return h.useMemo(()=>e.reduce((r,n)=>{let{eventName:o,handler:a}=n;return r[o]=i=>{a(i,t)},r},{}),[e,t])}function VS(e){return h.useMemo(()=>e?PT(e):null,[e])}const ew=[];function n3(e,t){t===void 0&&(t=ps);const[r]=e,n=VS(r?Er(r):null),[o,a]=h.useState(ew);function i(){a(()=>e.length?e.map(c=>BS(c)?n:new ay(t(c),c)):ew)}const s=Yf({callback:i});return Ln(()=>{s==null||s.disconnect(),i(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),o}function YS(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return vc(t)?t:e}function o3(e){let{measure:t}=e;const[r,n]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(vc(d)){n(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),a=Yf({callback:o}),i=h.useCallback(u=>{const d=YS(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[s,c]=Ed(i);return h.useMemo(()=>({nodeRef:s,rect:r,setRef:c}),[r,s,c])}const a3=[{sensor:ly,options:{}},{sensor:iy,options:{}}],i3={current:{}},Gu={draggable:{measure:Hb},droppable:{measure:Hb,strategy:Vl.WhileDragging,frequency:iv.Optimized},dragOverlay:{measure:ps}};class jl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const s3={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Dd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Gu,measureDroppableContainers:Dd,windowRect:null,measuringScheduled:!1},GS={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Dd,draggableNodes:new Map,over:null,measureDroppableContainers:Dd},xc=h.createContext(GS),XS=h.createContext(s3);function l3(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new jl}}}function c3(e,t){switch(t.type){case Tt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Tt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Tt.DragEnd:case Tt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Tt.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new jl(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case Tt.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new jl(e.droppable.containers);return i.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case Tt.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new jl(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function u3(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=h.useContext(xc),a=Od(n),i=Od(r==null?void 0:r.id);return h.useEffect(()=>{if(!t&&!n&&a&&i!=null){if(!Hf(a)||document.activeElement===a.target)return;const s=o.get(i);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=iT(d);if(f){f.focus();break}}})}},[n,t,o,i,a]),null}function QS(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...n}),r):r}function d3(e){return h.useMemo(()=>({draggable:{...Gu.draggable,...e==null?void 0:e.draggable},droppable:{...Gu.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Gu.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function f3(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const a=h.useRef(!1),{x:i,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Ln(()=>{if(!i&&!s||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=RS(d,n);if(i||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=LS(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,i,s,n,r])}const Gf=h.createContext({...$n,scaleX:1,scaleY:1});var Xo;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Xo||(Xo={}));const p3=h.memo(function(t){var r,n,o,a;let{id:i,accessibility:s,autoScroll:c=!0,children:u,sensors:d=a3,collisionDetection:f=kT,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(c3,void 0,l3),[y,x]=g,[b,w]=fT(),[k,S]=h.useState(Xo.Uninitialized),_=k===Xo.Initialized,{draggable:{active:N,nodes:C,translate:I},droppable:{containers:B}}=y,P=N!=null?C.get(N):null,R=h.useRef({initial:null,translated:null}),Y=h.useMemo(()=>{var kt;return N!=null?{id:N,data:(kt=P==null?void 0:P.data)!=null?kt:i3,rect:R}:null},[N,P]),H=h.useRef(null),[ae,oe]=h.useState(null),[ie,M]=h.useState(null),V=Kl(v,Object.values(v)),z=yc("DndDescribedBy",i),Z=h.useMemo(()=>B.getEnabled(),[B]),U=d3(p),{droppableRects:K,measureDroppableContainers:Q,measuringScheduled:he}=YT(Z,{dragging:_,dependencies:[I.x,I.y],config:U.droppable}),O=HT(C,N),re=h.useMemo(()=>ie?Ad(ie):null,[ie]),$=tr(),D=GT(O,U.draggable.measure);f3({activeNode:N!=null?C.get(N):null,config:$.layoutShiftCompensation,initialRect:D,measure:U.draggable.measure});const J=Qb(O,U.draggable.measure,D),W=Qb(O?O.parentElement:null),E=h.useRef({activatorEvent:null,active:null,activeNode:O,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ue=B.getNodeFor((r=E.current.over)==null?void 0:r.id),le=o3({measure:U.dragOverlay.measure}),ge=(n=le.nodeRef.current)!=null?n:O,we=_?(o=le.rect)!=null?o:J:null,Me=!!(le.nodeRef.current&&le.rect),He=ZT(Me?null:J),Re=VS(ge?Er(ge):null),Le=JT(_?ue??O:null),Jt=n3(Le),Ie=QS(m,{transform:{x:I.x-He.x,y:I.y-He.y,scaleX:1,scaleY:1},activatorEvent:ie,active:Y,activeNodeRect:J,containerNodeRect:W,draggingNodeRect:we,over:E.current.over,overlayNodeRect:le.rect,scrollableAncestors:Le,scrollableAncestorRects:Jt,windowRect:Re}),tt=re?qi(re,I):null,mt=e3(Le),Ar=Jb(mt),er=Jb(mt,[J]),st=qi(Ie,Ar),pe=we?ST(we,Ie):null,je=Y&&pe?f({active:Y,collisionRect:pe,droppableRects:K,droppableContainers:Z,pointerCoordinates:tt}):null,Ve=TS(je,"id"),[rt,Dr]=h.useState(null),Cn=Me?Ie:qi(Ie,er),Uo=_T(Cn,(a=rt==null?void 0:rt.rect)!=null?a:null,J),sn=h.useRef(null),Bt=h.useCallback((kt,lt)=>{let{sensor:Se,options:$e}=lt;if(H.current==null)return;const Fe=C.get(H.current);if(!Fe)return;const Ue=kt.nativeEvent,jt=new Se({active:H.current,activeNode:Fe,event:Ue,options:$e,context:E,onAbort(We){if(!C.get(We))return;const{onDragAbort:ct}=V.current,yt={id:We};ct==null||ct(yt),b({type:"onDragAbort",event:yt})},onPending(We,rr,ct,yt){if(!C.get(We))return;const{onDragPending:Ot}=V.current,Vr={id:We,constraint:rr,initialCoordinates:ct,offset:yt};Ot==null||Ot(Vr),b({type:"onDragPending",event:Vr})},onStart(We){const rr=H.current;if(rr==null)return;const ct=C.get(rr);if(!ct)return;const{onDragStart:yt}=V.current,cn={activatorEvent:Ue,active:{id:rr,data:ct.data,rect:R}};go.unstable_batchedUpdates(()=>{yt==null||yt(cn),S(Xo.Initializing),x({type:Tt.DragStart,initialCoordinates:We,active:rr}),b({type:"onDragStart",event:cn}),oe(sn.current),M(Ue)})},onMove(We){x({type:Tt.DragMove,coordinates:We})},onEnd:qe(Tt.DragEnd),onCancel:qe(Tt.DragCancel)});sn.current=jt;function qe(We){return async function(){const{active:ct,collisions:yt,over:cn,scrollAdjustedTranslate:Ot}=E.current;let Vr=null;if(ct&&Ot){const{cancelDrop:Yr}=V.current;Vr={activatorEvent:Ue,active:ct,collisions:yt,delta:Ot,over:cn},We===Tt.DragEnd&&typeof Yr=="function"&&await Promise.resolve(Yr(Vr))&&(We=Tt.DragCancel)}H.current=null,go.unstable_batchedUpdates(()=>{x({type:We}),S(Xo.Uninitialized),Dr(null),oe(null),M(null),sn.current=null;const Yr=We===Tt.DragEnd?"onDragEnd":"onDragCancel";if(Vr){const ao=V.current[Yr];ao==null||ao(Vr),b({type:Yr,event:Vr})}})}}},[C]),ci=h.useCallback((kt,lt)=>(Se,$e)=>{const Fe=Se.nativeEvent,Ue=C.get($e);if(H.current!==null||!Ue||Fe.dndKit||Fe.defaultPrevented)return;const jt={active:Ue};kt(Se,lt.options,jt)===!0&&(Fe.dndKit={capturedBy:lt.sensor},H.current=$e,Bt(Se,lt))},[C,Bt]),ln=VT(d,ci);t3(d),Ln(()=>{J&&k===Xo.Initializing&&S(Xo.Initialized)},[J,k]),h.useEffect(()=>{const{onDragMove:kt}=V.current,{active:lt,activatorEvent:Se,collisions:$e,over:Fe}=E.current;if(!lt||!Se)return;const Ue={active:lt,activatorEvent:Se,collisions:$e,delta:{x:st.x,y:st.y},over:Fe};go.unstable_batchedUpdates(()=>{kt==null||kt(Ue),b({type:"onDragMove",event:Ue})})},[st.x,st.y]),h.useEffect(()=>{const{active:kt,activatorEvent:lt,collisions:Se,droppableContainers:$e,scrollAdjustedTranslate:Fe}=E.current;if(!kt||H.current==null||!lt||!Fe)return;const{onDragOver:Ue}=V.current,jt=$e.get(Ve),qe=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,We={active:kt,activatorEvent:lt,collisions:Se,delta:{x:Fe.x,y:Fe.y},over:qe};go.unstable_batchedUpdates(()=>{Dr(qe),Ue==null||Ue(We),b({type:"onDragOver",event:We})})},[Ve]),Ln(()=>{E.current={activatorEvent:ie,active:Y,activeNode:O,collisionRect:pe,collisions:je,droppableRects:K,draggableNodes:C,draggingNode:ge,draggingNodeRect:we,droppableContainers:B,over:rt,scrollableAncestors:Le,scrollAdjustedTranslate:st},R.current={initial:we,translated:pe}},[Y,O,je,pe,C,ge,we,K,B,rt,Le,st]),qT({...$,delta:I,draggingRect:pe,pointerCoordinates:tt,scrollableAncestors:Le,scrollableAncestorRects:Jt});const gr=h.useMemo(()=>({active:Y,activeNode:O,activeNodeRect:J,activatorEvent:ie,collisions:je,containerNodeRect:W,dragOverlay:le,draggableNodes:C,droppableContainers:B,droppableRects:K,over:rt,measureDroppableContainers:Q,scrollableAncestors:Le,scrollableAncestorRects:Jt,measuringConfiguration:U,measuringScheduled:he,windowRect:Re}),[Y,O,J,ie,je,W,le,C,B,K,rt,Q,Le,Jt,U,he,Re]),Ca=h.useMemo(()=>({activatorEvent:ie,activators:ln,active:Y,activeNodeRect:J,ariaDescribedById:{draggable:z},dispatch:x,draggableNodes:C,over:rt,measureDroppableContainers:Q}),[ie,ln,Y,J,x,z,C,rt,Q]);return ne.createElement(DS.Provider,{value:w},ne.createElement(xc.Provider,{value:Ca},ne.createElement(XS.Provider,{value:gr},ne.createElement(Gf.Provider,{value:Uo},u)),ne.createElement(u3,{disabled:(s==null?void 0:s.restoreFocus)===!1})),ne.createElement(hT,{...s,hiddenTextDescribedById:z}));function tr(){const kt=(ae==null?void 0:ae.autoScrollEnabled)===!1,lt=typeof c=="object"?c.enabled===!1:c===!1,Se=_&&!kt&&!lt;return typeof c=="object"?{...c,enabled:Se}:{enabled:Se}}}),m3=h.createContext(null),tw="button",h3="Draggable";function v3(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const a=yc(h3),{activators:i,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(xc),{role:m=tw,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?Gf:m3),[b,w]=Ed(),[k,S]=Ed(),_=r3(i,t),N=Kl(r);Ln(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:k,data:N}),()=>{const I=f.get(t);I&&I.key===a&&f.delete(t)}),[f,t]);const C=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":n,"aria-pressed":y&&m===tw?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,m,g,y,v,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:C,isDragging:y,listeners:n?void 0:_,node:b,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:x}}function ZS(){return h.useContext(XS)}const g3="Droppable",y3={timeout:25};function x3(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const a=yc(g3),{active:i,dispatch:s,over:c,measureDroppableContainers:u}=h.useContext(xc),d=h.useRef({disabled:r}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...y3,...o},x=Kl(g??n),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=Yf({callback:b,disabled:v||!i}),k=h.useCallback((C,I)=>{w&&(I&&(w.unobserve(I),f.current=!1),C&&w.observe(C))},[w]),[S,_]=Ed(k),N=Kl(t);return h.useEffect(()=>{!w||!S.current||(w.disconnect(),f.current=!1,w.observe(S.current))},[S,w]),h.useEffect(()=>(s({type:Tt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:S,rect:p,data:N}}),()=>s({type:Tt.UnregisterDroppable,key:a,id:n})),[n]),h.useEffect(()=>{r!==d.current.disabled&&(s({type:Tt.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,s]),{active:i,rect:p,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:_}}function b3(e){let{animation:t,children:r}=e;const[n,o]=h.useState(null),[a,i]=h.useState(null),s=Od(r);return!r&&!n&&s&&o(s),Ln(()=>{if(!a)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){o(null);return}Promise.resolve(t(u,a)).then(()=>{o(null)})},[t,n,a]),ne.createElement(ne.Fragment,null,r,n?h.cloneElement(n,{ref:i}):null)}const w3={x:0,y:0,scaleX:1,scaleY:1};function k3(e){let{children:t}=e;return ne.createElement(xc.Provider,{value:GS},ne.createElement(Gf.Provider,{value:w3},t))}const _3={position:"fixed",touchAction:"none"},j3=e=>Hf(e)?"transform 250ms ease":void 0,S3=h.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:o,children:a,className:i,rect:s,style:c,transform:u,transition:d=j3}=e;if(!s)return null;const f=o?u:{...u,scaleX:1,scaleY:1},p={..._3,width:s.width,height:s.height,top:s.top,left:s.left,transform:Zn.Transform.toString(f),transformOrigin:o&&n?gT(n,s):void 0,transition:typeof d=="function"?d(n):d,...c};return ne.createElement(r,{className:i,style:p,ref:t},a)}),C3=e=>t=>{let{active:r,dragOverlay:n}=t;const o={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[s,c]of Object.entries(a.active))c!==void 0&&(o[s]=r.node.style.getPropertyValue(s),r.node.style.setProperty(s,c));if(a!=null&&a.dragOverlay)for(const[s,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(s,c);return i!=null&&i.active&&r.node.classList.add(i.active),i!=null&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(o))r.node.style.setProperty(c,u);i!=null&&i.active&&r.node.classList.remove(i.active)}},N3=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Zn.Transform.toString(t)},{transform:Zn.Transform.toString(r)}]},P3={duration:250,easing:"ease",keyframes:N3,sideEffects:C3({styles:{active:{opacity:"0"}}})};function E3(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=e;return Kf((a,i)=>{if(t===null)return;const s=r.get(a);if(!s)return;const c=s.node.current;if(!c)return;const u=YS(i);if(!u)return;const{transform:d}=Er(i).getComputedStyle(i),f=zS(d);if(!f)return;const p=typeof t=="function"?t:O3(t);return WS(c,o.draggable.measure),p({active:{id:a,data:s.data,node:c,rect:o.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:i,rect:o.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:o,transform:f})})}function O3(e){const{duration:t,easing:r,sideEffects:n,keyframes:o}={...P3,...e};return a=>{let{active:i,dragOverlay:s,transform:c,...u}=a;if(!t)return;const d={x:s.rect.left-i.rect.left,y:s.rect.top-i.rect.top},f={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/s.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/s.rect.height:1},p={x:c.x-d.x,y:c.y-d.y,...f},m=o({...u,active:i,dragOverlay:s,transform:{initial:c,final:p}}),[v]=m,g=m[m.length-1];if(JSON.stringify(v)===JSON.stringify(g))return;const y=n==null?void 0:n({active:i,dragOverlay:s,...u}),x=s.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{y==null||y(),b()}})}}let rw=0;function A3(e){return h.useMemo(()=>{if(e!=null)return rw++,rw},[e])}const D3=ne.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:o,transition:a,modifiers:i,wrapperElement:s="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggableNodes:v,droppableContainers:g,dragOverlay:y,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:k,windowRect:S}=ZS(),_=h.useContext(Gf),N=A3(f==null?void 0:f.id),C=QS(i,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:k,transform:_,windowRect:S}),I=cy(p),B=E3({config:n,draggableNodes:v,droppableContainers:g,measuringConfiguration:b}),P=I?y.setRef:void 0;return ne.createElement(k3,null,ne.createElement(b3,{animation:B},f&&N?ne.createElement(S3,{key:N,id:f.id,ref:P,as:s,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:I,style:{zIndex:u,...o},transform:C},r):null))});function Sl(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function M3(e,t){return e.reduce((r,n,o)=>{const a=t.get(n);return a&&(r[o]=a),r},Array(e.length))}function yu(e){return e!==null&&e>=0}function I3(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function T3(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Id=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const a=Sl(t,n,r),i=t[o],s=a[o];return!s||!i?null:{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}},JS="Sortable",eC=ne.createContext({activeIndex:-1,containerId:JS,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Id,disabled:{draggable:!1,droppable:!1}});function Tm(e){let{children:t,id:r,items:n,strategy:o=Id,disabled:a=!1}=e;const{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=ZS(),f=yc(JS,r),p=s.rect!==null,m=h.useMemo(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),v=i!=null,g=i?m.indexOf(i.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!I3(m,x.current),w=y!==-1&&g===-1||b,k=T3(a);Ln(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const S=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:k,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:M3(m,c),strategy:o}),[g,f,k.draggable,k.droppable,w,m,y,c,p,o]);return ne.createElement(eC.Provider,{value:S},t)}const R3=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Sl(r,n,o).indexOf(t)},z3=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:a,newIndex:i,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!n||s!==a&&o===i?!1:r?!0:i!==o&&t===c},L3={duration:200,easing:"ease"},tC="transform",$3=Zn.Transition.toString({property:tC,duration:0,easing:"linear"}),F3={roleDescription:"sortable"};function B3(e){let{disabled:t,index:r,node:n,rect:o}=e;const[a,i]=h.useState(null),s=h.useRef(r);return Ln(()=>{if(!t&&r!==s.current&&n.current){const c=o.current;if(c){const u=ps(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}r!==s.current&&(s.current=r)},[t,r,n,o]),h.useEffect(()=>{a&&i(null)},[a]),a}function uy(e){let{animateLayoutChanges:t=z3,attributes:r,disabled:n,data:o,getNewIndex:a=R3,id:i,strategy:s,resizeObserverConfig:c,transition:u=L3}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(eC),w=U3(n,m),k=d.indexOf(i),S=h.useMemo(()=>({sortable:{containerId:f,index:k,items:d},...o}),[f,o,k,d]),_=h.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:N,node:C,isOver:I,setNodeRef:B}=x3({id:i,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...c}}),{active:P,activatorEvent:R,activeNodeRect:Y,attributes:H,setNodeRef:ae,listeners:oe,isDragging:ie,over:M,setActivatorNodeRef:V,transform:z}=v3({id:i,data:S,attributes:{...F3,...r},disabled:w.draggable}),Z=rT(B,ae),U=!!P,K=U&&!v&&yu(p)&&yu(y),Q=!x&&ie,he=Q&&K?z:null,re=K?he??(s??b)({rects:g,activeNodeRect:Y,activeIndex:p,overIndex:y,index:k}):null,$=yu(p)&&yu(y)?a({id:i,items:d,activeIndex:p,overIndex:y}):k,D=P==null?void 0:P.id,J=h.useRef({activeId:D,items:d,newIndex:$,containerId:f}),W=d!==J.current.items,E=t({active:P,containerId:f,isDragging:ie,isSorting:U,id:i,index:k,items:d,newIndex:J.current.newIndex,previousItems:J.current.items,previousContainerId:J.current.containerId,transition:u,wasDragging:J.current.activeId!=null}),ue=B3({disabled:!E,index:k,node:C,rect:N});return h.useEffect(()=>{U&&J.current.newIndex!==$&&(J.current.newIndex=$),f!==J.current.containerId&&(J.current.containerId=f),d!==J.current.items&&(J.current.items=d)},[U,$,f,d]),h.useEffect(()=>{if(D===J.current.activeId)return;if(D!=null&&J.current.activeId==null){J.current.activeId=D;return}const ge=setTimeout(()=>{J.current.activeId=D},50);return()=>clearTimeout(ge)},[D]),{active:P,activeIndex:p,attributes:H,data:S,rect:N,index:k,newIndex:$,items:d,isOver:I,isSorting:U,isDragging:ie,listeners:oe,node:C,overIndex:y,over:M,setNodeRef:Z,setActivatorNodeRef:V,setDroppableNodeRef:B,setDraggableNodeRef:ae,transform:ue??re,transition:le()};function le(){if(ue||W&&J.current.newIndex===k)return $3;if(!(Q&&!Hf(R)||!u)&&(U||E))return Zn.Transition.toString({...u,property:tC})}}function U3(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Td(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const q3=[Be.Down,Be.Right,Be.Up,Be.Left],W3=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:a,over:i,scrollableAncestors:s}}=t;if(q3.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Be.Down:n.top<p.top&&c.push(f);break;case Be.Up:n.top>p.top&&c.push(f);break;case Be.Left:n.left>p.left&&c.push(f);break;case Be.Right:n.left<p.left&&c.push(f);break}});const u=bT({collisionRect:n,droppableRects:o,droppableContainers:c});let d=TS(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(r.id),p=a.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=Vf(v).some((_,N)=>s[N]!==_),x=rC(f,p),b=K3(f,p),w=y||!x?{x:0,y:0}:{x:b?n.width-m.width:0,y:b?n.height-m.height:0},k={x:m.left,y:m.top};return w.x&&w.y?k:Hl(k,w)}}}};function rC(e,t){return!Td(e)||!Td(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function K3(e,t){return!Td(e)||!Td(t)||!rC(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Xf(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{await q.init();const d=(await q.getAll("products")).sort((f,p)=>f.category!==p.category?f.category.localeCompare(p.category):f.name.localeCompare(p.name));t(d)}catch(u){console.error("Error loading products:",u)}finally{n(!1)}};return{products:e,loading:r,addProduct:async u=>{try{await q.init();const d=new Date().toISOString(),f={...u,id:crypto.randomUUID(),created_at:d,updated_at:d};return await q.add("products",f),await o(),f.id}catch(d){throw console.error("Error adding product:",d),d}},updateProduct:async(u,d)=>{try{await q.init();const f=await q.get("products",u);if(!f)throw new Error("Product not found");const p={...f,...d,updated_at:new Date().toISOString()};await q.put("products",p),await o()}catch(f){throw console.error("Error updating product:",f),f}},deleteProduct:async u=>{try{await q.init(),await q.delete("products",u),await o()}catch(d){throw console.error("Error deleting product:",d),d}},updateStock:async(u,d)=>{await q.init();const f=await q.get("products",u);if(!f)return;const p=f.stock+d;if(p<0)throw new Error("Insufficient stock");const m={...f,stock:p,updated_at:new Date().toISOString()};await q.put("products",m)},refresh:o}}function Qf(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{await q.init();const d=(await q.getAll("sales")).sort((f,p)=>new Date(p.completed_at).getTime()-new Date(f.completed_at).getTime());t(d)}catch(u){console.error("Error loading sales:",u)}finally{n(!1)}},a=async(u,d,f,p,m,v,g,y,x,b)=>{try{await q.init();const w=new Map;let k=0;u.forEach(H=>{H.combo_instance_id&&H.combo_unit_price!==void 0?w.has(H.combo_instance_id)||w.set(H.combo_instance_id,H.combo_unit_price):k+=H.product_price*H.quantity});const _=k+Array.from(w.values()).reduce((H,ae)=>H+ae,0)+(b||0),N=f?f-_:void 0,C=await q.getAll("sales"),I=C.length>0?Math.max(...C.map(H=>{const ae=H.sale_number.replace(/^S-/,"");return parseInt(ae)||0})):0,B=String(I+1),P=new Date().toISOString(),R={id:crypto.randomUUID(),sale_number:B,total_amount:_,payment_method:d,cash_received:f,change_given:N,bills_received:p,bills_change:m,scheduled_time:v,customer_name:g,order_type:y,delivery_address:x,delivery_charge:b,completed_at:P,created_at:P};await q.add("sales",R);const Y=u.map(H=>({id:crypto.randomUUID(),sale_id:R.id,product_id:H.product_id,product_name:H.product_name,product_price:H.product_price,production_cost:H.production_cost||0,quantity:H.quantity,subtotal:H.product_price*H.quantity,removed_ingredients:H.removedIngredients,combo_name:H.combo_name,combo_instance_id:H.combo_instance_id,combo_slot_index:H.combo_slot_index,combo_unit_price:H.combo_unit_price,created_at:P}));for(const H of Y)await q.add("sale_items",H);for(const H of u){const ae=await q.get("products",H.product_id);if(ae&&!ae.uses_materia_prima){const oe={...ae,stock:Math.max(0,ae.stock-H.quantity),updated_at:P};await q.put("products",oe)}}return await o(),R}catch(w){throw console.error("Error creating sale:",w),w}},i=h.useCallback(async u=>{try{return await q.init(),await q.getAllByIndex("sale_items","sale_id",u)}catch(d){return console.error("Error loading sale items:",d),[]}},[]);return{sales:e,loading:r,createSale:a,getSaleItems:i,getSaleById:async u=>{try{return await q.init(),await q.get("sales",u)??null}catch(d){return console.error("Error loading sale:",d),null}},updateSale:async(u,d)=>{try{await q.init();const f=await q.get("sales",u);if(!f)throw new Error("Sale not found");const p={...f,...d};return await q.put("sales",p),await o(),p}catch(f){throw console.error("Error updating sale:",f),f}},refresh:o}}const H3=[10,20,50,100,200,500,1e3,2e3,1e4,2e4];function nC(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),o=h.useCallback(async()=>{await q.init();for(const b of H3)if((await q.getAllByIndex("cash_drawer","denomination",b)).length===0){const k={id:crypto.randomUUID(),denomination:b,quantity:0,updated_at:new Date().toISOString()};await q.add("cash_drawer",k)}},[]),a=h.useCallback(async()=>{try{await q.init(),await o();const k=(await q.getAll("cash_drawer")).map(S=>({id:S.id,denomination:S.denomination,quantity:S.quantity,updated_at:S.updated_at})).sort((S,_)=>_.denomination-S.denomination);t(k)}catch(b){console.error("Error loading cash drawer:",b)}finally{n(!1)}},[o]),i=async b=>{if(await q.init(),(await q.getAllByIndex("cash_drawer","denomination",b)).length===0){const k={id:crypto.randomUUID(),denomination:b,quantity:0,updated_at:new Date().toISOString()};await q.add("cash_drawer",k)}},s=async(b,w,k,S,_)=>{try{await q.init();const N={id:crypto.randomUUID(),movement_type:b,bills_in:w,bills_out:k,sale_id:S,notes:_,created_at:new Date().toISOString()};await q.add("cash_movements",N)}catch(N){console.error("Error logging cash movement:",N)}},c=async(b,w,k,S)=>{try{await q.init(),await i(b);const _=await q.getAllByIndex("cash_drawer","denomination",b);if(_.length===0)throw new Error("Bill not found");const N=_[0],C=w-N.quantity,I={...N,quantity:w,updated_at:new Date().toISOString()};if(await q.put("cash_drawer",I),k&&C!==0){const P=((R,Y)=>({[R.toString()]:Math.abs(Y)}))(b,C);await s(k,C>0?P:void 0,C<0?P:void 0,void 0,S)}await a()}catch(_){throw console.error("Error updating bill quantity:",_),_}},u=async(b,w)=>{await i(b),await q.init();const k=await q.getAllByIndex("cash_drawer","denomination",b);if(k.length>0){const _={...k[0],quantity:w,updated_at:new Date().toISOString()};await q.put("cash_drawer",_)}},d=async(b,w,k)=>{await i(b);const S=e.find(_=>_.denomination===b);S&&(await c(b,S.quantity+w),await s(k?"sale":"manual_add",{[b.toString()]:w},void 0,k))},f=async(b,w,k)=>{const S=e.find(_=>_.denomination===b);S&&S.quantity>=w&&(await c(b,S.quantity-w),await s(k?"change_given":"manual_remove",void 0,{[b.toString()]:w},k))},p=b=>{if(b===0)return[];if(b<0)return null;const w=[...e].sort((_,N)=>N.denomination-_.denomination),k=[];let S=b;for(const _ of w){if(_.quantity===0)continue;const N=Math.floor(S/_.denomination),C=Math.min(N,_.quantity);if(C>0&&(k.push({bill_value:_.denomination,quantity:C}),S-=C*_.denomination),S===0)break}return S>0?null:k},m=async(b,w)=>{try{if(!b||b.length===0)return;for(const S of b){const _=e.find(N=>N.denomination===S.bill_value);_&&_.quantity>=S.quantity&&await u(S.bill_value,_.quantity-S.quantity)}const k={};b.forEach(S=>{k[S.bill_value.toString()]=S.quantity}),await s("change_given",void 0,k,w),await a()}catch(k){throw console.error("Error processing change:",k),k}},v=async(b,w)=>{try{const k={};b.forEach(_=>{k[_]=(k[_]||0)+1});for(const[_,N]of Object.entries(k)){const C=parseInt(_),I=e.find(B=>B.denomination===C);I&&await u(C,I.quantity+N)}const S={};return Object.entries(k).forEach(([_,N])=>{S[_]=N}),await s("sale",S,void 0,w),await a(),k}catch(k){throw console.error("Error processing cash received:",k),k}},g=()=>e.reduce((b,w)=>b+w.denomination*w.quantity,0),y=h.useCallback(async()=>{try{return await q.init(),(await q.getAll("cash_movements")).sort((w,k)=>new Date(k.created_at).getTime()-new Date(w.created_at).getTime()).slice(0,100)}catch(b){return console.error("Error loading cash movements:",b),[]}},[]),x=async()=>{try{await q.init();const b={};e.forEach(k=>{k.quantity>0&&(b[k.denomination.toString()]=k.quantity)});for(const k of e)if(k.quantity>0){const S={...k,quantity:0,updated_at:new Date().toISOString()},_=await q.getAllByIndex("cash_drawer","denomination",k.denomination);_.length>0&&await q.put("cash_drawer",{...S,id:_[0].id})}const w=Object.entries(b).reduce((k,[S,_])=>k+Number(S)*_,0);await s("cash_closing",void 0,b,void 0,`Cierre de caja - Total: $${w.toFixed(2)}`),await a()}catch(b){throw console.error("Error resetting cash drawer:",b),b}};return h.useEffect(()=>{a()},[a]),{bills:e,loading:r,updateBillQuantity:c,addBills:d,removeBills:f,calculateOptimalChange:p,processChange:m,processCashReceived:v,getTotalCash:g,getCashMovements:y,resetCashDrawer:x,refresh:a}}function bc(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[o,a]=h.useState(new Map);h.useEffect(()=>{i(),s()},[]);const i=async()=>{try{if(await q.init(),!q.hasStore("materia_prima")){console.warn("materia_prima store not found, database needs upgrade"),t([]),n(!1);return}const S=(await q.getAll("materia_prima")).sort((_,N)=>_.name.localeCompare(N.name));t(S)}catch(k){console.error("Error loading materia prima:",k),t([])}finally{n(!1)}},s=async()=>{try{if(await q.init(),!q.hasStore("product_materia_prima")){a(new Map);return}const k=await q.getAll("product_materia_prima"),S=new Map;for(const _ of k){const N=S.get(_.product_id)||[];N.push(_),S.set(_.product_id,N)}a(S)}catch(k){console.error("Error loading product materia prima cache:",k),a(new Map)}},c=async k=>{try{await q.init();const S=new Date().toISOString(),_={...k,id:crypto.randomUUID(),created_at:S,updated_at:S};await q.add("materia_prima",_),await i()}catch(S){throw console.error("Error adding materia prima:",S),S}},u=async(k,S)=>{try{await q.init();const _=await q.get("materia_prima",k);if(!_)throw new Error("Materia prima not found");const N={..._,...S,updated_at:new Date().toISOString()};await q.put("materia_prima",N),S.cost_per_unit!==void 0&&await y(k),await i()}catch(_){throw console.error("Error updating materia prima:",_),_}},d=async k=>{try{if(await q.init(),(await q.getAllByIndex("product_materia_prima","materia_prima_id",k)).length>0)throw new Error("No se puede eliminar: est vinculado a productos");await q.delete("materia_prima",k),await i()}catch(S){throw console.error("Error deleting materia prima:",S),S}},f=async(k,S)=>{await q.init();const _=await q.get("materia_prima",k);if(!_)return;const N=_.stock+S;if(N<0)throw new Error("Stock insuficiente");const C={..._,stock:N,updated_at:new Date().toISOString()};await q.put("materia_prima",C)},p=async k=>{try{return await q.init(),q.hasStore("product_materia_prima")?await q.getAllByIndex("product_materia_prima","product_id",k):[]}catch(S){return console.error("Error getting product materia prima:",S),[]}},m=h.useCallback(k=>o.get(k)||[],[o]),v=async(k,S)=>{try{await q.init();const _=await q.getAllByIndex("product_materia_prima","product_id",k);for(const C of _)await q.delete("product_materia_prima",C.id);const N=[];for(const C of S){const I={id:crypto.randomUUID(),product_id:k,materia_prima_id:C.materia_prima_id,quantity:C.quantity,removable:C.removable,created_at:new Date().toISOString(),is_variable:C.is_variable,min_quantity:C.min_quantity,max_quantity:C.max_quantity,default_quantity:C.default_quantity,price_per_unit:C.price_per_unit,linked_to:C.linked_to,linked_multiplier:C.linked_multiplier};await q.add("product_materia_prima",I),N.push(I)}a(C=>{const I=new Map(C);return I.set(k,N),I})}catch(_){throw console.error("Error setting product materia prima:",_),_}},g=async k=>{try{if(await q.init(),!q.hasStore("materia_prima")||!q.hasStore("product_materia_prima"))return 0;const S=await p(k);let _=0;const N=new Map;for(const C of S){if(C.linked_to)continue;const I=await q.get("materia_prima",C.materia_prima_id);if(I){const B=C.is_variable?C.default_quantity??1:C.quantity;_+=I.cost_per_unit*B,C.is_variable&&N.set(C.materia_prima_id,C.default_quantity??1)}}for(const C of S){if(!C.linked_to||!C.linked_multiplier)continue;const I=N.get(C.linked_to);if(I===void 0)continue;const B=await q.get("materia_prima",C.materia_prima_id);if(B){const P=I*C.linked_multiplier+(C.quantity||0);_+=B.cost_per_unit*P}}return _}catch(S){return console.error("Error calculating product cost:",S),0}},y=async k=>{try{await q.init();const S=await q.getAllByIndex("product_materia_prima","materia_prima_id",k),_=[...new Set(S.map(N=>N.product_id))];for(const N of _){const C=await g(N),I=await q.get("products",N);I&&I.uses_materia_prima&&await q.put("products",{...I,production_cost:C,updated_at:new Date().toISOString()})}}catch(S){console.error("Error recalculating affected products cost:",S)}},x=async k=>{try{if(await q.init(),!q.hasStore("materia_prima")||!q.hasStore("product_materia_prima"))return!0;const S=await p(k);for(const _ of S){const N=await q.get("materia_prima",_.materia_prima_id);if(!N||N.stock<_.quantity)return!1}return!0}catch(S){return console.error("Error checking stock availability:",S),!1}},b=async(k,S=1,_)=>{try{await q.init();const N=await p(k);for(const C of N){if(_&&_.length>0){const I=e.find(B=>B.id===C.materia_prima_id);if(I&&_.includes(I.name))continue}await f(C.materia_prima_id,-(C.quantity*S))}}catch(N){throw console.error("Error deducting materia prima stock:",N),N}},w=h.useCallback(async k=>{try{if(await q.init(),!q.hasStore("materia_prima")||!q.hasStore("product_materia_prima"))return 0;const S=await p(k);if(S.length===0)return 0;let _=1/0;const N=new Map;for(const C of S){if(C.linked_to)continue;const I=await q.get("materia_prima",C.materia_prima_id);if(!I)return 0;const B=C.is_variable?C.min_quantity??1:C.quantity,P=Math.floor(I.stock/B);_=Math.min(_,P),C.is_variable&&N.set(C.materia_prima_id,C.min_quantity??1)}for(const C of S){if(!C.linked_to||!C.linked_multiplier)continue;const I=N.get(C.linked_to);if(I===void 0)continue;const B=await q.get("materia_prima",C.materia_prima_id);if(!B)return 0;const P=I*C.linked_multiplier+(C.quantity||0);if(P>0){const R=Math.floor(B.stock/P);_=Math.min(_,R)}}return _===1/0?0:_}catch(S){return console.error("Error calculating available stock:",S),0}},[]);return{materiaPrima:e,loading:r,addMateriaPrima:c,updateMateriaPrima:u,deleteMateriaPrima:d,updateStock:f,getProductMateriaPrima:p,getProductMateriaPrimaCached:m,setProductMateriaPrima:v,calculateProductCost:g,checkStockAvailability:x,deductMateriaPrimaStock:b,calculateAvailableStock:w,refresh:i,refreshCache:s,productMPCache:o}}function oC(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{if(await q.init(),!q.hasStore("combos")){console.warn("combos store not found, database needs upgrade"),t([]),n(!1);return}const m=(await q.getAll("combos")).sort((v,g)=>v.name.localeCompare(g.name));t(m)}catch(p){console.error("Error loading combos:",p),t([])}finally{n(!1)}},a=async p=>{try{await q.init();const m=new Date().toISOString(),v={...p,id:crypto.randomUUID(),created_at:m,updated_at:m};return await q.add("combos",v),await o(),v.id}catch(m){throw console.error("Error adding combo:",m),m}},i=async(p,m)=>{try{await q.init();const v=await q.get("combos",p);if(!v)throw new Error("Combo not found");const g={...v,...m,updated_at:new Date().toISOString()};await q.put("combos",g),await o()}catch(v){throw console.error("Error updating combo:",v),v}},s=async p=>{try{await q.init(),await q.delete("combos",p),await o()}catch(m){throw console.error("Error deleting combo:",m),m}},c=async p=>{try{await q.init();for(const m of p){const v=await q.get("combos",m.id);if(v){const g={...v,display_order:m.display_order,updated_at:new Date().toISOString()};await q.put("combos",g)}}await o()}catch(m){throw console.error("Error updating combos order:",m),m}},u=h.useCallback(async(p,m)=>{if(p.price_type==="fixed")return p.fixed_price||0;try{await q.init();let v=0;for(const g of m){const y=await q.get("products",g.productId);y&&(v+=y.price*g.quantity)}return p.discount_type==="percentage"&&p.discount_value?v=v*(1-p.discount_value/100):p.discount_type==="fixed"&&p.discount_value&&(v=Math.max(0,v-p.discount_value)),Math.round(v)}catch(v){return console.error("Error calculating combo price:",v),0}},[]),d=h.useCallback(async p=>{try{await q.init();const m=[];for(const v of p.slots){const g=await q.get("products",v.default_product_id);if(g)for(let y=0;y<v.quantity;y++)m.push({slotId:v.id,slotName:v.name,productId:g.id,productName:g.name,productPrice:g.price,removedIngredients:[]})}return m}catch(m){return console.error("Error getting default selections:",m),[]}},[]),f=h.useCallback(async p=>{try{await q.init();const m=[];for(const v of p.product_ids){const g=await q.get("products",v);g&&g.active&&m.push(g)}return m}catch(m){return console.error("Error getting slot products:",m),[]}},[]);return{combos:e,loading:r,addCombo:a,updateCombo:i,deleteCombo:s,updateCombosOrder:c,calculateComboPrice:u,getDefaultSelections:d,getSlotProducts:f,refresh:o}}function aC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=aC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function et(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=aC(e))&&(n&&(n+=" "),n+=t);return n}const V3=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},Y3=(e,t)=>({classGroupId:e,validator:t}),iC=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Rd="-",nw=[],G3="arbitrary..",X3=e=>{const t=Z3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return Q3(i);const s=i.split(Rd),c=s[0]===""&&s.length>1?1:0;return sC(s,c,t)},getConflictingClassGroupIds:(i,s)=>{if(s){const c=n[i],u=r[i];return c?u?V3(u,c):c:u||nw}return r[i]||nw}}},sC=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],a=r.nextPart.get(o);if(a){const u=sC(e,t+1,a);if(u)return u}const i=r.validators;if(i===null)return;const s=t===0?e.join(Rd):e.slice(t).join(Rd),c=i.length;for(let u=0;u<c;u++){const d=i[u];if(d.validator(s))return d.classGroupId}},Q3=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?G3+n:void 0})(),Z3=e=>{const{theme:t,classGroups:r}=e;return J3(r,t)},J3=(e,t)=>{const r=iC();for(const n in e){const o=e[n];dy(o,r,n,t)}return r},dy=(e,t,r,n)=>{const o=e.length;for(let a=0;a<o;a++){const i=e[a];e4(i,t,r,n)}},e4=(e,t,r,n)=>{if(typeof e=="string"){t4(e,t,r);return}if(typeof e=="function"){r4(e,t,r,n);return}n4(e,t,r,n)},t4=(e,t,r)=>{const n=e===""?t:lC(t,e);n.classGroupId=r},r4=(e,t,r,n)=>{if(o4(e)){dy(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(Y3(r,e))},n4=(e,t,r,n)=>{const o=Object.entries(e),a=o.length;for(let i=0;i<a;i++){const[s,c]=o[i];dy(c,lC(t,s),r,n)}},lC=(e,t)=>{let r=e;const n=t.split(Rd),o=n.length;for(let a=0;a<o;a++){const i=n[a];let s=r.nextPart.get(i);s||(s=iC(),r.nextPart.set(i,s)),r=s}return r},o4=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,a4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(a,i)=>{r[a]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let i=r[a];if(i!==void 0)return i;if((i=n[a])!==void 0)return o(a,i),i},set(a,i){a in r?r[a]=i:o(a,i)}}},sv="!",ow=":",i4=[],aw=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),s4=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const a=[];let i=0,s=0,c=0,u;const d=o.length;for(let g=0;g<d;g++){const y=o[g];if(i===0&&s===0){if(y===ow){a.push(o.slice(c,g)),c=g+1;continue}if(y==="/"){u=g;continue}}y==="["?i++:y==="]"?i--:y==="("?s++:y===")"&&s--}const f=a.length===0?o:o.slice(c);let p=f,m=!1;f.endsWith(sv)?(p=f.slice(0,-1),m=!0):f.startsWith(sv)&&(p=f.slice(1),m=!0);const v=u&&u>c?u-c:void 0;return aw(a,m,p,v)};if(t){const o=t+ow,a=n;n=i=>i.startsWith(o)?a(i.slice(o.length)):aw(i4,!1,i,void 0,!0)}if(r){const o=n;n=a=>r({className:a,parseClassName:o})}return n},l4=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let a=0;a<r.length;a++){const i=r[a],s=i[0]==="[",c=t.has(i);s||c?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(i)):o.push(i)}return o.length>0&&(o.sort(),n.push(...o)),n}},c4=e=>({cache:a4(e.cacheSize),parseClassName:s4(e),sortModifiers:l4(e),...X3(e)}),u4=/\s+/,d4=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=t,i=[],s=e.trim().split(u4);let c="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let y=!!g,x=n(y?v.substring(0,g):v);if(!x){if(!y){c=d+(c.length>0?" "+c:c);continue}if(x=n(v),!x){c=d+(c.length>0?" "+c:c);continue}y=!1}const b=p.length===0?"":p.length===1?p[0]:a(p).join(":"),w=m?b+sv:b,k=w+x;if(i.indexOf(k)>-1)continue;i.push(k);const S=o(x,y);for(let _=0;_<S.length;++_){const N=S[_];i.push(w+N)}c=d+(c.length>0?" "+c:c)}return c},f4=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=cC(r))&&(o&&(o+=" "),o+=n);return o},cC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=cC(e[n]))&&(r&&(r+=" "),r+=t);return r},p4=(e,...t)=>{let r,n,o,a;const i=c=>{const u=t.reduce((d,f)=>f(d),e());return r=c4(u),n=r.cache.get,o=r.cache.set,a=s,s(c)},s=c=>{const u=n(c);if(u)return u;const d=d4(c,r);return o(c,d),d};return a=i,(...c)=>a(f4(...c))},m4=[],Dt=e=>{const t=r=>r[e]||m4;return t.isThemeGetter=!0,t},uC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,dC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,h4=/^\d+\/\d+$/,v4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,g4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,y4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,x4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,b4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,yi=e=>h4.test(e),Te=e=>!!e&&!Number.isNaN(Number(e)),Vo=e=>!!e&&Number.isInteger(Number(e)),Rm=e=>e.endsWith("%")&&Te(e.slice(0,-1)),so=e=>v4.test(e),w4=()=>!0,k4=e=>g4.test(e)&&!y4.test(e),fC=()=>!1,_4=e=>x4.test(e),j4=e=>b4.test(e),S4=e=>!ke(e)&&!_e(e),C4=e=>ms(e,hC,fC),ke=e=>uC.test(e),Ea=e=>ms(e,vC,k4),zm=e=>ms(e,A4,Te),iw=e=>ms(e,pC,fC),N4=e=>ms(e,mC,j4),xu=e=>ms(e,gC,_4),_e=e=>dC.test(e),Ks=e=>hs(e,vC),P4=e=>hs(e,D4),sw=e=>hs(e,pC),E4=e=>hs(e,hC),O4=e=>hs(e,mC),bu=e=>hs(e,gC,!0),ms=(e,t,r)=>{const n=uC.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},hs=(e,t,r=!1)=>{const n=dC.exec(e);return n?n[1]?t(n[1]):r:!1},pC=e=>e==="position"||e==="percentage",mC=e=>e==="image"||e==="url",hC=e=>e==="length"||e==="size"||e==="bg-size",vC=e=>e==="length",A4=e=>e==="number",D4=e=>e==="family-name",gC=e=>e==="shadow",M4=()=>{const e=Dt("color"),t=Dt("font"),r=Dt("text"),n=Dt("font-weight"),o=Dt("tracking"),a=Dt("leading"),i=Dt("breakpoint"),s=Dt("container"),c=Dt("spacing"),u=Dt("radius"),d=Dt("shadow"),f=Dt("inset-shadow"),p=Dt("text-shadow"),m=Dt("drop-shadow"),v=Dt("blur"),g=Dt("perspective"),y=Dt("aspect"),x=Dt("ease"),b=Dt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),_e,ke],_=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[_e,ke,c],I=()=>[yi,"full","auto",...C()],B=()=>[Vo,"none","subgrid",_e,ke],P=()=>["auto",{span:["full",Vo,_e,ke]},Vo,_e,ke],R=()=>[Vo,"auto",_e,ke],Y=()=>["auto","min","max","fr",_e,ke],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ae=()=>["start","end","center","stretch","center-safe","end-safe"],oe=()=>["auto",...C()],ie=()=>[yi,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],M=()=>[e,_e,ke],V=()=>[...k(),sw,iw,{position:[_e,ke]}],z=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Z=()=>["auto","cover","contain",E4,C4,{size:[_e,ke]}],U=()=>[Rm,Ks,Ea],K=()=>["","none","full",u,_e,ke],Q=()=>["",Te,Ks,Ea],he=()=>["solid","dashed","dotted","double"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Te,Rm,sw,iw],$=()=>["","none",v,_e,ke],D=()=>["none",Te,_e,ke],J=()=>["none",Te,_e,ke],W=()=>[Te,_e,ke],E=()=>[yi,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[so],breakpoint:[so],color:[w4],container:[so],"drop-shadow":[so],ease:["in","out","in-out"],font:[S4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[so],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[so],shadow:[so],spacing:["px",Te],text:[so],"text-shadow":[so],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",yi,ke,_e,y]}],container:["container"],columns:[{columns:[Te,ke,_e,s]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:I()}],"inset-x":[{"inset-x":I()}],"inset-y":[{"inset-y":I()}],start:[{start:I()}],end:[{end:I()}],top:[{top:I()}],right:[{right:I()}],bottom:[{bottom:I()}],left:[{left:I()}],visibility:["visible","invisible","collapse"],z:[{z:[Vo,"auto",_e,ke]}],basis:[{basis:[yi,"full","auto",s,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Te,yi,"auto","initial","none",ke]}],grow:[{grow:["",Te,_e,ke]}],shrink:[{shrink:["",Te,_e,ke]}],order:[{order:[Vo,"first","last","none",_e,ke]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...ae(),"normal"]}],"justify-self":[{"justify-self":["auto",...ae()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...ae(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ae(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...ae(),"baseline"]}],"place-self":[{"place-self":["auto",...ae()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:oe()}],mx:[{mx:oe()}],my:[{my:oe()}],ms:[{ms:oe()}],me:[{me:oe()}],mt:[{mt:oe()}],mr:[{mr:oe()}],mb:[{mb:oe()}],ml:[{ml:oe()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[s,"screen",...ie()]}],"min-w":[{"min-w":[s,"screen","none",...ie()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[i]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",r,Ks,Ea]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,_e,zm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rm,ke]}],"font-family":[{font:[P4,ke,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,_e,ke]}],"line-clamp":[{"line-clamp":[Te,"none",_e,zm]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",_e,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",_e,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:M()}],"text-color":[{text:M()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Te,"from-font","auto",_e,Ea]}],"text-decoration-color":[{decoration:M()}],"underline-offset":[{"underline-offset":[Te,"auto",_e,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:z()}],"bg-size":[{bg:Z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vo,_e,ke],radial:["",_e,ke],conic:[Vo,_e,ke]},O4,N4]}],"bg-color":[{bg:M()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:M()}],"gradient-via":[{via:M()}],"gradient-to":[{to:M()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Q()}],"border-w-x":[{"border-x":Q()}],"border-w-y":[{"border-y":Q()}],"border-w-s":[{"border-s":Q()}],"border-w-e":[{"border-e":Q()}],"border-w-t":[{"border-t":Q()}],"border-w-r":[{"border-r":Q()}],"border-w-b":[{"border-b":Q()}],"border-w-l":[{"border-l":Q()}],"divide-x":[{"divide-x":Q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:M()}],"border-color-x":[{"border-x":M()}],"border-color-y":[{"border-y":M()}],"border-color-s":[{"border-s":M()}],"border-color-e":[{"border-e":M()}],"border-color-t":[{"border-t":M()}],"border-color-r":[{"border-r":M()}],"border-color-b":[{"border-b":M()}],"border-color-l":[{"border-l":M()}],"divide-color":[{divide:M()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Te,_e,ke]}],"outline-w":[{outline:["",Te,Ks,Ea]}],"outline-color":[{outline:M()}],shadow:[{shadow:["","none",d,bu,xu]}],"shadow-color":[{shadow:M()}],"inset-shadow":[{"inset-shadow":["none",f,bu,xu]}],"inset-shadow-color":[{"inset-shadow":M()}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:M()}],"ring-offset-w":[{"ring-offset":[Te,Ea]}],"ring-offset-color":[{"ring-offset":M()}],"inset-ring-w":[{"inset-ring":Q()}],"inset-ring-color":[{"inset-ring":M()}],"text-shadow":[{"text-shadow":["none",p,bu,xu]}],"text-shadow-color":[{"text-shadow":M()}],opacity:[{opacity:[Te,_e,ke]}],"mix-blend":[{"mix-blend":[...O(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":O()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Te]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":M()}],"mask-image-linear-to-color":[{"mask-linear-to":M()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":M()}],"mask-image-t-to-color":[{"mask-t-to":M()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":M()}],"mask-image-r-to-color":[{"mask-r-to":M()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":M()}],"mask-image-b-to-color":[{"mask-b-to":M()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":M()}],"mask-image-l-to-color":[{"mask-l-to":M()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":M()}],"mask-image-x-to-color":[{"mask-x-to":M()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":M()}],"mask-image-y-to-color":[{"mask-y-to":M()}],"mask-image-radial":[{"mask-radial":[_e,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":M()}],"mask-image-radial-to-color":[{"mask-radial-to":M()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Te]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":M()}],"mask-image-conic-to-color":[{"mask-conic-to":M()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:z()}],"mask-size":[{mask:Z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",_e,ke]}],filter:[{filter:["","none",_e,ke]}],blur:[{blur:$()}],brightness:[{brightness:[Te,_e,ke]}],contrast:[{contrast:[Te,_e,ke]}],"drop-shadow":[{"drop-shadow":["","none",m,bu,xu]}],"drop-shadow-color":[{"drop-shadow":M()}],grayscale:[{grayscale:["",Te,_e,ke]}],"hue-rotate":[{"hue-rotate":[Te,_e,ke]}],invert:[{invert:["",Te,_e,ke]}],saturate:[{saturate:[Te,_e,ke]}],sepia:[{sepia:["",Te,_e,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",_e,ke]}],"backdrop-blur":[{"backdrop-blur":$()}],"backdrop-brightness":[{"backdrop-brightness":[Te,_e,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Te,_e,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Te,_e,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Te,_e,ke]}],"backdrop-invert":[{"backdrop-invert":["",Te,_e,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Te,_e,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Te,_e,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Te,_e,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",_e,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Te,"initial",_e,ke]}],ease:[{ease:["linear","initial",x,_e,ke]}],delay:[{delay:[Te,_e,ke]}],animate:[{animate:["none",b,_e,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,_e,ke]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:J()}],"scale-x":[{"scale-x":J()}],"scale-y":[{"scale-y":J()}],"scale-z":[{"scale-z":J()}],"scale-3d":["scale-3d"],skew:[{skew:W()}],"skew-x":[{"skew-x":W()}],"skew-y":[{"skew-y":W()}],transform:[{transform:[_e,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:E()}],"translate-x":[{"translate-x":E()}],"translate-y":[{"translate-y":E()}],"translate-z":[{"translate-z":E()}],"translate-none":["translate-none"],accent:[{accent:M()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:M()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e,ke]}],fill:[{fill:["none",...M()]}],"stroke-w":[{stroke:[Te,Ks,Ea,zm]}],stroke:[{stroke:["none",...M()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},I4=p4(M4);function Vt(...e){return I4(et(e))}function fe(e){return`$${e.toLocaleString("es-AR",{minimumFractionDigits:e%1===0?0:2,maximumFractionDigits:2})}`}function at(e){return e.toLocaleString("es-AR",{minimumFractionDigits:e%1===0?0:2,maximumFractionDigits:2})}const Lm=[10,20,50,100,200,500,1e3,2e3,1e4,2e4];function T4({product:e,isLocked:t,onAddToCart:r,onLongPress:n,getStock:o,displayPrice:a,hasRemovableIngredients:i,isOutOfStock:s}){const c=h.useRef(null),u=h.useRef(!1),{attributes:d,listeners:f,setNodeRef:p,transform:m,transition:v,isDragging:g}=uy({id:e.id,disabled:t,data:{type:"product"}}),y={transform:Zn.Transform.toString(m),transition:v,opacity:g?.5:1,touchAction:t?"auto":"none"},x=()=>{u.current=!1,c.current=setTimeout(()=>{u.current=!0,n(e)},500)},b=()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current||r(e),u.current=!1},w=()=>{c.current&&(clearTimeout(c.current),c.current=null)};return l.jsx("div",{ref:p,style:y,className:"relative h-full",...t?{}:{...d,...f},children:l.jsxs("button",{onContextMenu:k=>k.preventDefault(),onPointerDown:t&&!s?x:void 0,onPointerUp:t&&!s?b:void 0,onPointerLeave:t&&!s?w:void 0,onClick:t&&!s||s?void 0:()=>r(e),disabled:s,className:`w-full h-full p-6 rounded-lg shadow-md transition-all duration-200 relative flex flex-col justify-between ${s?"opacity-50 cursor-not-allowed":t?"hover:shadow-xl hover:scale-105 select-none":"cursor-move"}`,style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[s&&l.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded text-xs font-bold",style:{backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:"SIN STOCK"}),i&&!s&&l.jsx("div",{className:"absolute top-2 right-2 p-1 rounded-md opacity-80",style:{backgroundColor:"var(--color-on-primary)"},title:"Manten presionado para personalizar",children:l.jsx(fa,{size:14,style:{color:"var(--color-primary)"}})}),l.jsx("div",{children:l.jsx("div",{className:"text-lg font-bold mb-2",children:e.name})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:fe(a)}),l.jsxs("div",{className:"text-sm opacity-90",children:["Stock: ",at(o(e))]})]})]})})}function R4({combo:e,isLocked:t,onOpenComboModal:r,isOutOfStock:n}){const{attributes:o,listeners:a,setNodeRef:i,transform:s,transition:c,isDragging:u}=uy({id:`combo-${e.id}`,disabled:t,data:{type:"combo"}}),d={transform:Zn.Transform.toString(s),transition:c,opacity:u?.5:1,touchAction:t?"auto":"none"};return l.jsx("div",{ref:i,style:d,className:"relative h-full",...t?{}:{...o,...a},children:l.jsxs("button",{onClick:t&&!n?()=>r(e):void 0,disabled:n,className:`w-full h-full p-6 rounded-lg shadow-md transition-all duration-200 text-left relative flex flex-col justify-between ${n?"opacity-50 cursor-not-allowed":t?"hover:shadow-xl hover:scale-105 select-none":"cursor-move"}`,style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[n&&l.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded text-xs font-bold z-10",style:{backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:"SIN STOCK"}),l.jsx("div",{children:l.jsx("div",{className:"text-lg font-bold mb-2",children:e.name})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:e.price_type==="fixed"?fe(e.fixed_price||0):e.discount_type==="percentage"?`-${e.discount_value}%`:`-${fe(e.discount_value||0)}`}),l.jsxs("div",{className:"text-sm opacity-90",children:[e.slots.length," producto",e.slots.length!==1?"s":""]})]}),l.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded text-xs font-semibold",style:{backgroundColor:"rgba(255,255,255,0.2)"},children:"COMBO"})]})})}function lw({category:e,isLocked:t,children:r}){const{attributes:n,listeners:o,setNodeRef:a,transform:i,transition:s,isDragging:c}=uy({id:`category-${e}`,disabled:t,data:{type:"category"}}),u={transform:Zn.Transform.toString(i),transition:s,opacity:c?.5:1};return l.jsxs("div",{ref:a,style:u,className:"mb-8",children:[l.jsx("h2",{...t?{}:{...n,...o},className:`text-xl font-semibold capitalize mb-4 ${t?"":"cursor-move hover:opacity-80 transition-opacity"}`,style:{color:"var(--color-text)",touchAction:t?"auto":"none"},children:e}),r]})}function cw(){var E0;const{products:e,refresh:t,updateProduct:r,updateStock:n}=Xf(),{sales:o,createSale:a,updateSale:i}=Qf(),{calculateOptimalChange:s,processChange:c,processCashReceived:u}=nC(),{checkStockAvailability:d,calculateAvailableStock:f,refresh:p,getProductMateriaPrimaCached:m,materiaPrima:v,productMPCache:g}=bc(),{combos:y,calculateComboPrice:x,getDefaultSelections:b,getSlotProducts:w,updateCombosOrder:k}=oC(),{syncThemeToKDS:S}=hc(),[_,N]=h.useState([]),[C,I]=h.useState(!1),[B,P]=h.useState("cash"),[R,Y]=h.useState(0),[H,ae]=h.useState(null),[oe,ie]=h.useState(!1),[M,V]=h.useState([]),[z,Z]=h.useState({}),[U,K]=h.useState({}),[Q,he]=h.useState([]),[O,re]=h.useState(!1),[$,D]=h.useState(null),[J,W]=h.useState([]),[E,ue]=h.useState(null),[le,ge]=h.useState(!1),[we,Me]=h.useState(""),[He,Re]=h.useState(0),[Le,Jt]=h.useState(0),[Ie,tt]=h.useState(null),[mt,Ar]=h.useState(null),[er,st]=h.useState(!1),[pe,je]=h.useState([]),[Ve,rt]=h.useState("disconnected"),Dr=h.useRef(null),Cn=h.useRef(null),Uo=h.useRef(null),sn=h.useRef(new Set),[Bt,ci]=h.useState(null),[ln,gr]=h.useState(null),Ca=h.useRef(null),[tr,kt]=h.useState(null),[lt,Se]=h.useState("cash"),[$e,Fe]=h.useState(0),[Ue,jt]=h.useState([]),[qe,We]=h.useState({}),[rr,ct]=h.useState(""),[yt,cn]=h.useState(!1),[Ot,Vr]=h.useState(null),[Yr,ao]=h.useState([]),[UO,Up]=h.useState(!1),[yr,qp]=h.useState(null),[js,Ss]=h.useState([]),[Zx,Wp]=h.useState({}),[Kp,qc]=h.useState(0),[xr,ui]=h.useState(""),Cs=h.useCallback(j=>{if(!j)return!0;const T=j.match(/^(\d{1,2}):(\d{2})$/);if(!T)return!1;const L=parseInt(T[1],10),A=parseInt(T[2],10);return L>=0&&L<=23&&A>=0&&A<=59},[]),qO=h.useCallback(j=>{let T=j.replace(/[^0-9]/g,"");T.length>4&&(T=T.slice(0,4));let L=T;if(T.length>2&&(L=T.slice(0,2)+":"+T.slice(2)),T.length>=2){let A=parseInt(T.slice(0,2),10);A>23&&(A=23);const F=A.toString().padStart(2,"0");if(T.length>2){let te=parseInt(T.slice(2),10);T.length===4&&te>59&&(te=59);const ye=te.toString().padStart(T.length-2,"0");L=F+":"+ye}else L=F}ui(L)},[]),[Ns,Ps]=h.useState(""),[Mr,di]=h.useState("pickup"),[Es,Os]=h.useState(""),[fi,Jx]=h.useState(null),[WO,e0]=h.useState(!1),[As,t0]=h.useState(null),[qo,Wc]=h.useState([]),[Kc,Ds]=h.useState(""),[r0,Hp]=h.useState(""),[Na,Hc]=h.useState("pickup"),[n0,Vp]=h.useState(""),[Ms,Yp]=h.useState(null),[o0,Vc]=h.useState([]),Gp=h.useMemo(()=>y.filter(j=>j.active),[y]),[pi,a0]=h.useState([]),[KO,HO]=h.useState({}),[VO,YO]=h.useState(new Set),[i0,GO]=h.useState({}),XO=vT(Am(ly,{activationConstraint:{distance:8}}),Am(HS,{activationConstraint:{delay:150,tolerance:5}}),Am(iy,{coordinateGetter:W3})),s0=h.useCallback(async()=>{try{await q.init();const j=await q.get("app_settings","default");j?(re(j.pos_layout_locked),j.category_order&&W(j.category_order),ge(j.kds_enabled||!1),Me(j.kds_url||""),Re(j.delivery_charge||0),Jt(j.free_delivery_threshold||0),console.log("KDS Settings loaded:",{kdsEnabled:j.kds_enabled,kdsUrl:j.kds_url})):console.log("KDS Settings: no settings found in IndexedDB")}catch(j){console.error("Error loading settings:",j)}},[]),l0=h.useCallback(async()=>{const j=e.filter(L=>L.uses_materia_prima);if(j.length===0){Z({});return}const T=await Promise.all(j.map(async L=>{const A=await f(L.id);return[L.id,A]}));Z(Object.fromEntries(T))},[e,f]);h.useEffect(()=>{if(!e.length||g.size===0){K({});return}const j={};for(const T of e){if(!T.uses_materia_prima)continue;const L=m(T.id);let A=0;for(const F of L)F.is_variable&&F.min_quantity&&F.price_per_unit&&(A+=F.min_quantity*F.price_per_unit);A>0&&(j[T.id]=T.price+A)}K(j)},[e,g,m]);const c0=j=>j.uses_materia_prima&&U[j.id]?U[j.id]:j.price,Is=j=>j.uses_materia_prima?z[j.id]||0:j.stock,u0=j=>{const T=j.toLowerCase();return T.includes("triple")?"triple":T.includes("simple")?"simple":"double"},QO=(j,T)=>{for(const L of j.slots)for(const A of L.product_ids){const F=e.find(te=>te.id===A);if(F&&F.category==="hamburguesas"&&u0(F.name)===T)return!0}return!1},d0=Q.filter(j=>j.active),f0=Array.from(new Set(d0.map(j=>j.category))),Xp=Gp.length>0?[...f0,"combos"]:f0,mi=J.length>0?[...J.filter(j=>Xp.includes(j)),...Xp.filter(j=>!J.includes(j))]:Xp,Ts=async(j,T=[],L)=>{const A=T.sort().join(","),F=L?L.map(de=>`${de.materia_prima_id}:${de.quantity}`).join(","):"",te=`${A}|${F}`,ye=_.find(de=>{const De=de.removedIngredients.sort().join(","),me=de.variableIngredients?de.variableIngredients.map(Ne=>`${Ne.materia_prima_id}:${Ne.quantity}`).join(","):"",Ce=`${De}|${me}`;return de.id===j.id&&Ce===te}),ee=ye?ye.quantity+1:1,G=Is(j);if(ee>G){ve.error("Stock insuficiente");return}if(j.uses_materia_prima&&!await d(j.id)){ve.error("Materia prima insuficiente para este producto");return}const se=L?L.reduce((de,De)=>de+De.quantity*De.unit_price,0):0;N(de=>{const De=de.find(me=>{const Ce=me.removedIngredients.sort().join(","),Ne=me.variableIngredients?me.variableIngredients.map(Xe=>`${Xe.materia_prima_id}:${Xe.quantity}`).join(","):"",Ye=`${Ce}|${Ne}`;return me.id===j.id&&Ye===te});return De?de.map(me=>me.cartItemId===De.cartItemId?{...me,quantity:me.quantity+1}:me):[...de,{...j,price:j.price+se,quantity:1,cartItemId:crypto.randomUUID(),removedIngredients:T,variableIngredients:L}]}),ve.success(`${j.name} agregado`)},ZO=j=>{if(!j.uses_materia_prima){Ts(j);return}const T=m(j.id);if(T.length===0){Ts(j);return}const L=T.filter(F=>F.removable===!0||F.is_variable===!0);if(L.length===0){Ts(j);return}const A=L.map(F=>{const te=v.find(ye=>ye.id===F.materia_prima_id);return{id:F.materia_prima_id,name:(te==null?void 0:te.name)||"Desconocido",removed:!1,is_variable:F.is_variable,min_quantity:F.min_quantity,max_quantity:F.max_quantity,default_quantity:F.default_quantity,price_per_unit:F.price_per_unit,selected_quantity:F.default_quantity??1}});ao(A),Vr(j),cn(!0)},JO=j=>{ao(T=>T.map(L=>L.id===j?{...L,removed:!L.removed}:L))},p0=(j,T)=>{ao(L=>L.map(A=>{if(A.id!==j||!A.is_variable)return A;const F=Math.max(A.min_quantity??0,Math.min(A.max_quantity??99,(A.selected_quantity??1)+T));return{...A,selected_quantity:F}}))},eA=()=>{if(!Ot)return;const j=Yr.filter(L=>L.removed&&!L.is_variable).map(L=>L.name),T=Yr.filter(L=>L.is_variable&&(L.selected_quantity??0)>0).map(L=>({materia_prima_id:L.id,name:L.name,quantity:L.selected_quantity??L.default_quantity??1,unit_price:L.price_per_unit??0}));Ts(Ot,j,T.length>0?T:void 0),cn(!1),Vr(null),ao([])},m0=()=>{cn(!1),Vr(null),ao([])},tA=async j=>{qp(j);const T={};for(const F of j.slots)T[F.id]=await w(F);Wp(T);const L=await b(j);Ss(L);const A=await x(j,L.map(F=>({productId:F.productId,quantity:1})));qc(A),Up(!0)},rA=async(j,T,L)=>{var ee;const A=yr==null?void 0:yr.slots.find(G=>G.id===j),F=(ee=Zx[j])==null?void 0:ee.find(G=>G.id===L);if(!A||!F)return;const te=[...js];let ye=0;for(let G=0;G<te.length;G++)if(te[G].slotId===j){if(ye===T){te[G]={...te[G],productId:F.id,productName:F.name,productPrice:F.price,removedIngredients:[]};break}ye++}if(Ss(te),yr){const G=await x(yr,te.map(se=>({productId:se.productId,quantity:1})));qc(G)}},h0=j=>j.map(T=>{const L=(T.removedIngredients||[]).slice().sort().join(",");return`${T.slotId}:${T.productId}:${L}`}).join("|"),nA=async()=>{if(!yr)return;const j=new Map;for(const A of js){const F=j.get(A.productId)||0;j.set(A.productId,F+1)}for(const A of _)if(A.isCombo&&A.comboSelections)for(const F of A.comboSelections){const te=j.get(F.productId)||0;j.set(F.productId,te+A.quantity)}else if(!A.isCombo){const F=j.get(A.id)||0;j.set(A.id,F+A.quantity)}for(const[A,F]of j){const te=e.find(ee=>ee.id===A);if(!te)continue;const ye=te.uses_materia_prima?await f(A):te.stock;if(F>ye){ve.error("Stock insuficiente");return}}const T=h0(js),L=_.find(A=>A.isCombo&&A.comboId===yr.id&&A.comboSelections&&h0(A.comboSelections)===T);if(L)N(A=>A.map(F=>F.cartItemId===L.cartItemId?{...F,quantity:F.quantity+1}:F));else{const A={id:yr.id,name:yr.name,price:Kp,category:"combos",stock:999,active:!0,production_cost:0,uses_materia_prima:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),quantity:1,cartItemId:`combo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,removedIngredients:[],isCombo:!0,comboId:yr.id,comboName:yr.name,comboSelections:js};N(F=>[...F,A])}ve.success(`${yr.name} agregado`),Up(!1),qp(null),Ss([]),Wp({}),qc(0)},v0=()=>{Up(!1),qp(null),Ss([]),Wp({}),qc(0)},g0=j=>{N(T=>{const L=T.filter(A=>A.cartItemId!==j);return L.length===0&&(I(!1),Y(0),ae(null),V([]),P("cash")),L})},y0=async(j,T)=>{const L=_.find(A=>A.cartItemId===j);if(L){if(T<=0){g0(j);return}if(L.isCombo&&L.comboSelections){if(T>L.quantity){const A=new Map;for(const F of L.comboSelections){const te=A.get(F.productId)||0;A.set(F.productId,te+T)}for(const F of _)if(F.cartItemId!==j){if(F.isCombo&&F.comboSelections)for(const te of F.comboSelections){const ye=A.get(te.productId)||0;A.set(te.productId,ye+F.quantity)}else if(!F.isCombo){const te=A.get(F.id)||0;A.set(F.id,te+F.quantity)}}for(const[F,te]of A){const ye=e.find(G=>G.id===F);if(!ye)continue;const ee=ye.uses_materia_prima?await f(F):ye.stock;if(te>ee){ve.error("Stock insuficiente");return}}}}else{const A=Is(L);if(T>A){ve.error("Stock insuficiente");return}if(L.uses_materia_prima&&!await d(L.id)){ve.error("Materia prima insuficiente para esta cantidad");return}}N(A=>A.map(F=>F.cartItemId===j?{...F,quantity:T}:F))}},Yc=_.reduce((j,T)=>j+T.price*T.quantity,0),Qp=Le>0&&Yc>=Le,io=Mr==="delivery"&&!Qp?He:0,un=Yc+io,hi=R-un,oA=j=>{Y(T=>{const L=T+j,A=L-un;if(V(F=>[...F,j]),L>=un){const F=s(A);ae(F)}else ae(null);return L})},aA=()=>{V(j=>{if(j.length===0)return j;const T=j[j.length-1];return Y(L=>{const A=Math.max(0,L-T),F=A-un;if(A>=un){const te=s(F);ae(te)}else ae(null);return A}),j.slice(0,-1)})},iA=()=>{Y(0),ae(null),V([])},x0=async(j,T,L,A,F,te,ye)=>{try{await q.init();const ee=await q.get("app_settings","default");if(!(ee!=null&&ee.kds_enabled)||!(ee!=null&&ee.kds_url))return;const G=await fetch(`${ee.kds_url}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sale_number:j,items:T.map(se=>{var de;return{product_name:se.product_name,quantity:se.quantity,product_price:se.product_price,removed_ingredients:se.removedIngredients||[],combo_name:se.combo_name||null,category:se.category||"otros",variable_ingredients:((de=se.variableIngredients)==null?void 0:de.map(De=>({name:De.name,quantity:De.quantity})))||null}}),total:L,payment_method:B,scheduled_time:A,customer_name:F||null,order_type:te||null,delivery_address:te==="delivery"&&ye||null,created_at:new Date().toISOString()})});G.ok||console.error("Failed to send order to KDS:",G.statusText)}catch(ee){console.error("Error sending order to KDS:",ee)}},Gc=h.useCallback(async()=>{await q.init();const j=await q.get("app_settings","default"),T=(j==null?void 0:j.kds_enabled)||!1,L=(j==null?void 0:j.kds_url)||"";if(!T||!L){console.log("fetchKdsOrders: skipped (disabled or no URL)",{kdsEnabled:T,kdsUrl:L});return}console.log("fetchKdsOrders: fetching from",L);try{const A=await fetch(`${L}/api/orders?status=pending,on_delivery`);if(A.ok){const te=((await A.json()).orders||[]).filter(ee=>ee.status==="pending"||ee.status==="on_delivery");te.forEach(ee=>{ee.status==="completed"&&!sn.current.has(ee.id)&&(sn.current.add(ee.id),setTimeout(()=>{je(G=>G.filter(se=>se.id!==ee.id)),sn.current.delete(ee.id)},2e3))});const ye=[...te].sort((ee,G)=>{const se=!!ee.scheduled_time,de=!!G.scheduled_time;return!se&&de?-1:se&&!de?1:!se&&!de?new Date(ee.created_at).getTime()-new Date(G.created_at).getTime():new Date(ee.scheduled_time).getTime()-new Date(G.scheduled_time).getTime()});je(ye),console.log("fetchKdsOrders: received",ye.length,"orders")}else console.error("fetchKdsOrders: request failed",A.status,A.statusText),ve.error(`Error al cargar pedidos: ${A.status}`)}catch(A){const F=A instanceof Error?A.message:String(A);console.error("Error fetching KDS orders:",F,A),ve.error(`Error de conexin con KDS: ${F}`)}},[]),Zp=h.useCallback(async()=>{await q.init();const j=await q.get("app_settings","default"),T=(j==null?void 0:j.kds_enabled)||!1,L=(j==null?void 0:j.kds_url)||"";if(!T||!L){console.log("KDS WebSocket: disabled or no URL",{kdsEnabled:T,kdsUrl:L});return}Cn.current&&Cn.current.close();const A=L.replace(/^http/,"ws");console.log("KDS WebSocket: connecting to",A),rt("connecting");try{const F=new WebSocket(A);F.onopen=()=>{console.log("KDS WebSocket connected"),rt("connected")},F.onmessage=te=>{try{const ye=JSON.parse(te.data);ye.type==="new_order"?(ye.order.status==="pending"||ye.order.status==="on_delivery")&&je(ee=>ee.some(se=>se.id===ye.order.id)?ee:[ye.order,...ee].sort((se,de)=>{const De=!!se.scheduled_time,me=!!de.scheduled_time;return!De&&me?-1:De&&!me?1:!De&&!me?new Date(se.created_at).getTime()-new Date(de.created_at).getTime():new Date(se.scheduled_time).getTime()-new Date(de.scheduled_time).getTime()})):ye.type==="order_updated"?je(ee=>(ye.status==="completed"&&setTimeout(()=>{je(G=>G.filter(se=>se.id!==ye.orderId))},500),ee.map(G=>G.id===ye.orderId?{...G,status:ye.status}:G))):ye.type==="order_full_update"?je(ee=>ee.map(G=>G.id===ye.order.id?ye.order:G)):ye.type==="order_deleted"&&je(ee=>ee.filter(G=>G.id!==ye.orderId))}catch(ye){console.error("Error parsing KDS WebSocket message:",ye)}},F.onclose=()=>{console.log("KDS WebSocket disconnected"),Cn.current=null,rt("disconnected"),er&&(Uo.current=setTimeout(()=>{Zp()},3e3))},F.onerror=te=>{console.error("KDS WebSocket error:",te),rt("error")},Cn.current=F}catch(F){console.error("Error creating KDS WebSocket:",F)}},[er]),Xc=async(j,T)=>{if(we)try{if((await fetch(`${we}/api/orders/${j}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:T})})).ok){const A=pe.find(F=>F.id===j);if(T==="completed"&&(sn.current.add(j),setTimeout(()=>{je(F=>F.filter(te=>te.id!==j)),sn.current.delete(j)},2e3),A&&A.order_type==="delivery"))try{const te=o.find(ye=>ye.sale_number===A.sale_number);te&&await i(te.id,{delivered_at:new Date().toISOString()})}catch(F){console.error("Error updating sale delivered_at:",F)}je(F=>F.map(te=>te.id===j?{...te,status:T,finished_at:T==="completed"?new Date().toISOString():void 0}:te))}}catch(L){console.error("Error updating KDS order status:",L),ve.error("Error al actualizar el estado del pedido")}},b0=async(j,T,L)=>{if(!we)return;const A=pe.find(G=>G.id===j);if(!A)return;const F=A.items[T];if(!F)return;const te=F.removed_ingredients||[],ye=te.includes(L)?te.filter(G=>G!==L):[...te,L],ee=[...A.items];ee[T]={...F,removed_ingredients:ye},je(G=>G.map(se=>se.id===j?{...se,items:ee}:se));try{(await fetch(`${we}/api/orders/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:ee,total:A.total})})).ok||(je(se=>se.map(de=>de.id===j?A:de)),ve.error("Error al actualizar ingredientes"))}catch(G){je(se=>se.map(de=>de.id===j?A:de)),console.error("Error updating KDS order ingredients:",G),ve.error("Error al actualizar ingredientes")}},w0=async(j,T)=>{if(!we)return;const L=pe.find(A=>A.id===j);if(L){je(A=>A.map(F=>F.id===j?{...F,delivery_address:T}:F));try{(await fetch(`${we}/api/orders/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({delivery_address:T})})).ok?(ve.success("Direccin actualizada"),gr(null)):(je(F=>F.map(te=>te.id===j?L:te)),ve.error("Error al actualizar direccin"))}catch(A){je(F=>F.map(te=>te.id===j?L:te)),console.error("Error updating KDS order address:",A),ve.error("Error al actualizar direccin")}}},sA=async j=>{try{const T=j.items.map(L=>({...L,removed_ingredients:[...L.removed_ingredients||[]]}));if(t0(j),Wc(T),j.scheduled_time){const L=new Date(j.scheduled_time),A=L.getHours().toString().padStart(2,"0"),F=L.getMinutes().toString().padStart(2,"0");Ds(`${A}:${F}`)}else Ds("");Hp(j.customer_name||""),Hc(j.order_type||"pickup"),Vp(j.delivery_address||""),e0(!0)}catch(T){console.error("Error loading order for edit:",T),ve.error("Error al cargar el pedido")}},Jp=()=>{e0(!1),t0(null),Wc([]),Ds(""),Hp(""),Hc("pickup"),Vp("")},k0=(j,T)=>{Wc(L=>{const A=[...L],F=A[j].quantity+T;return F<1?A.splice(j,1):A[j]={...A[j],quantity:F},A})},lA=async()=>{if(!(!As||!we))try{const j=qo.reduce((A,F)=>A+F.product_price*F.quantity,0);let T=null;if(Kc){const A=new Date,[F,te]=Kc.split(":").map(Number);A.setHours(F,te,0,0),A<new Date&&A.setDate(A.getDate()+1),T=A.toISOString()}if((await fetch(`${we}/api/orders/${As.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:qo,total:j,scheduled_time:T,customer_name:r0||null,order_type:Na,delivery_address:Na==="delivery"&&n0||null})})).ok)ve.success(`Pedido #${As.sale_number} actualizado`),Jp(),Gc();else throw new Error("Failed to update order")}catch(j){console.error("Error saving order edit:",j),ve.error("Error al guardar los cambios")}},Qc=j=>i0[j]||[],cA=j=>{const T=qo[j],L=Qc(T.product_name);if(L.length===0){ve.info("Este producto no tiene ingredientes removibles");return}const A=L.map(F=>({name:F,removed:(T.removed_ingredients||[]).includes(F)}));Yp(j),Vc(A)},uA=j=>{Vc(T=>T.map(L=>L.name===j?{...L,removed:!L.removed}:L))},dA=()=>{if(Ms===null)return;const j=o0.filter(T=>T.removed).map(T=>T.name);Wc(T=>{const L=[...T];return L[Ms]={...L[Ms],removed_ingredients:j},L}),Yp(null),Vc([])},_0=()=>{Yp(null),Vc([])},j0=()=>{Jx(null),N([]),ui(""),Ps(""),di("pickup"),Os(""),Y(0),ae(null),V([]),P("cash"),I(!1)},fA=async()=>{if(_.length!==0){if(B==="cash"){if(R<un)return;if(hi>0&&!H){ve.error("No se puede dar cambio exacto con los billetes disponibles");return}}ie(!0);try{const j=[];for(const G of _)if(G.isCombo&&G.comboSelections)for(let se=0;se<G.quantity;se++){const de=`${G.cartItemId}-${se}`;for(let De=0;De<G.comboSelections.length;De++){const me=G.comboSelections[De],Ce=e.find(Ne=>Ne.id===me.productId);j.push({product_id:me.productId,product_name:me.productName,product_price:me.productPrice,production_cost:(Ce==null?void 0:Ce.production_cost)||0,quantity:1,removedIngredients:me.removedIngredients||[],category:(Ce==null?void 0:Ce.category)||"otros",combo_name:G.comboName,combo_instance_id:de,combo_slot_index:De,combo_unit_price:G.price})}}else j.push({product_id:G.id,product_name:G.name,product_price:G.price,production_cost:G.production_cost,quantity:G.quantity,removedIngredients:G.removedIngredients||[],category:G.category,variableIngredients:G.variableIngredients});let T;B==="cash"&&H&&(T={},H.forEach(G=>{T[G.bill_value]=G.quantity}));let L;if(xr){const G=new Date,[se,de]=xr.split(":").map(Number);G.setHours(se,de,0,0),G<new Date&&G.setDate(G.getDate()+1),L=G.toISOString()}const A=await a(j,B,B==="cash"?R:void 0,void 0,T,L,Ns||void 0,Mr,Mr==="delivery"&&Es||void 0,io>0?io:void 0),F=new Map,te=new Map,ye=(G,se,de,De)=>{const me=m(G),Ce=new Map;for(const Ne of me)if(Ne.is_variable){const Ye=De==null?void 0:De.find(Xe=>Xe.materia_prima_id===Ne.materia_prima_id);Ye&&Ce.set(Ne.materia_prima_id,Ye.quantity)}for(const Ne of me){if(de&&de.length>0){const Xe=v.find(Qe=>Qe.id===Ne.materia_prima_id);if(Xe&&de.includes(Xe.name))continue}if(Ne.is_variable){const Xe=De==null?void 0:De.find(Qe=>Qe.materia_prima_id===Ne.materia_prima_id);if(Xe){const Qe=te.get(Ne.materia_prima_id)||0;te.set(Ne.materia_prima_id,Qe+Xe.quantity*se)}continue}if(Ne.linked_to&&Ne.linked_multiplier){const Xe=Ce.get(Ne.linked_to);if(Xe!==void 0){const Qe=(Xe*Ne.linked_multiplier+(Ne.quantity||0))*se,At=te.get(Ne.materia_prima_id)||0;te.set(Ne.materia_prima_id,At+Qe)}continue}const Ye=te.get(Ne.materia_prima_id)||0;te.set(Ne.materia_prima_id,Ye+Ne.quantity*se)}};for(const G of _)if(!G.isCombo)if(G.uses_materia_prima)ye(G.id,G.quantity,G.removedIngredients,G.variableIngredients);else{const se=F.get(G.id)||0;F.set(G.id,se+G.quantity)}const ee=_.filter(G=>G.isCombo&&G.comboSelections);for(const G of ee)for(const se of G.comboSelections){const de=e.find(De=>De.id===se.productId);if(de)if(de.uses_materia_prima)ye(se.productId,G.quantity,se.removedIngredients||[],se.variableIngredients);else{const De=F.get(se.productId)||0;F.set(se.productId,De+G.quantity)}}for(const[G,se]of F)await n(G,-se);for(const[G,se]of te){const de=await q.get("materia_prima",G);if(de){const De=de.stock-se;De>=0&&await q.put("materia_prima",{...de,stock:De,updated_at:new Date().toISOString()})}}if(B==="cash"&&A){const G=await u(M,A.id);H&&H.length>0&&await c(H,A.id);const se={...A,bills_received:G};await q.init(),await q.put("sales",se)}A&&(await x0(A.sale_number,j,un,L,Ns||void 0,Mr,Es||void 0),await S()),await t(),await p(),fi&&(await Xc(fi,"completed"),Jx(null)),N([]),Y(0),ae(null),I(!1),P("cash"),V([]),ui(""),Ps(""),di("pickup"),Os(""),ue(G=>G!==null?G+1:G),ve.success(fi?"Pedido actualizado!":"Venta completada!")}catch(j){console.error("Error completing sale:",j),ve.error("Error al completar la venta")}finally{ie(!1)}}},pA=async()=>{if(_.length!==0){ie(!0);try{const j=[];for(const ee of _)if(ee.isCombo&&ee.comboSelections)for(let G=0;G<ee.quantity;G++){const se=`${ee.cartItemId}-${G}`;for(let de=0;de<ee.comboSelections.length;de++){const De=ee.comboSelections[de],me=e.find(Ce=>Ce.id===De.productId);j.push({product_id:De.productId,product_name:De.productName,product_price:De.productPrice,production_cost:(me==null?void 0:me.production_cost)||0,quantity:1,removedIngredients:De.removedIngredients||[],category:(me==null?void 0:me.category)||"otros",combo_name:ee.comboName,combo_instance_id:se,combo_slot_index:de,combo_unit_price:ee.price})}}else j.push({product_id:ee.id,product_name:ee.name,product_price:ee.price,production_cost:ee.production_cost,quantity:ee.quantity,removedIngredients:ee.removedIngredients||[],category:ee.category,variableIngredients:ee.variableIngredients});let T;if(xr){const ee=new Date,[G,se]=xr.split(":").map(Number);ee.setHours(G,se,0,0),ee<new Date&&ee.setDate(ee.getDate()+1),T=ee.toISOString()}const L=await a(j,"unpaid",void 0,void 0,void 0,T,Ns||void 0,Mr,Mr==="delivery"&&Es||void 0,io>0?io:void 0),A=new Map,F=new Map,te=(ee,G,se,de)=>{const De=m(ee),me=new Map;for(const Ce of De)if(Ce.is_variable){const Ne=de==null?void 0:de.find(Ye=>Ye.materia_prima_id===Ce.materia_prima_id);Ne&&me.set(Ce.materia_prima_id,Ne.quantity)}for(const Ce of De){if(se&&se.length>0){const Ye=v.find(Xe=>Xe.id===Ce.materia_prima_id);if(Ye&&se.includes(Ye.name))continue}if(Ce.is_variable){const Ye=de==null?void 0:de.find(Xe=>Xe.materia_prima_id===Ce.materia_prima_id);if(Ye){const Xe=F.get(Ce.materia_prima_id)||0;F.set(Ce.materia_prima_id,Xe+Ye.quantity*G)}continue}if(Ce.linked_to&&Ce.linked_multiplier){const Ye=me.get(Ce.linked_to);if(Ye!==void 0){const Xe=(Ye*Ce.linked_multiplier+(Ce.quantity||0))*G,Qe=F.get(Ce.materia_prima_id)||0;F.set(Ce.materia_prima_id,Qe+Xe)}continue}const Ne=F.get(Ce.materia_prima_id)||0;F.set(Ce.materia_prima_id,Ne+Ce.quantity*G)}};for(const ee of _)if(!ee.isCombo)if(ee.uses_materia_prima)te(ee.id,ee.quantity,ee.removedIngredients,ee.variableIngredients);else{const G=A.get(ee.id)||0;A.set(ee.id,G+ee.quantity)}const ye=_.filter(ee=>ee.isCombo&&ee.comboSelections);for(const ee of ye)for(const G of ee.comboSelections){const se=e.find(de=>de.id===G.productId);if(se)if(se.uses_materia_prima)te(G.productId,ee.quantity,G.removedIngredients||[],G.variableIngredients);else{const de=A.get(G.productId)||0;A.set(G.productId,de+ee.quantity)}}for(const[ee,G]of A)await n(ee,-G);for(const[ee,G]of F){const se=await q.get("materia_prima",ee);if(se){const de=se.stock-G;de>=0&&await q.put("materia_prima",{...se,stock:de,updated_at:new Date().toISOString()})}}L&&await x0(L.sale_number,j,un,T,Ns,Mr,Es),N([]),Y(0),ae(null),I(!1),P("cash"),V([]),ui(""),Ps(""),di("pickup"),Os(""),ue(ee=>ee!==null?ee+1:ee),await t(),await p(),ve.success("Pedido enviado sin pago!")}catch(j){console.error("Error sending unpaid order:",j),ve.error("Error al enviar el pedido")}finally{ie(!1)}}},mA=()=>{Y(0),ae(null),I(!1),P("cash"),V([])},Wo=h.useMemo(()=>{if(!tr)return 0;const j=qe[tr];return j?$e-j.total_amount:0},[tr,$e,qe]),vi=h.useMemo(()=>{if(Wo<=0)return null;let j=Wo;const T=[];for(const L of Lm.slice().reverse())if(j>=L){const A=Math.floor(j/L);T.push({bill_value:L,quantity:A}),j=j%L}return j>0?null:T},[Wo]),hA=j=>{Fe(T=>T+j),jt(T=>[...T,j])},vA=()=>{if(Ue.length>0){const j=Ue[Ue.length-1];Fe(T=>T-j),jt(T=>T.slice(0,-1))}},gA=()=>{Fe(0),jt([])},yA=j=>{kt(j),Se("cash"),Fe(0),jt([])},S0=()=>{kt(null),Se("cash"),Fe(0),jt([])},C0=()=>{if(!tr)return!1;const j=qe[tr];return j?lt!=="cash"?!0:!($e<j.total_amount||Wo>0&&!vi):!1},xA=async()=>{if(!tr||!C0())return;const j=qe[tr];if(j)try{const T={payment_method:lt};if(lt==="cash"){if(T.cash_received=$e,T.change_given=Wo,vi){const A={};vi.forEach(F=>{A[F.bill_value.toString()]=F.quantity}),T.bills_change=A}const L={};Ue.forEach(A=>{L[A.toString()]=(L[A.toString()]||0)+1}),T.bills_received=L}await i(j.id,T),We(L=>{const A={...L};return delete A[tr],A}),S0(),ve.success("Pago registrado correctamente!")}catch(T){console.error("Error marking sale as paid:",T),ve.error("Error al registrar el pago")}};h.useEffect(()=>{if(er&&pe.length>0){const j=pe.map(L=>L.sale_number),T={};o.forEach(L=>{j.includes(L.sale_number)&&L.payment_method==="unpaid"&&(T[L.sale_number]=L)}),We(T)}},[er,pe,o]);const bA=()=>_.length===0||xr&&!Cs(xr)?!1:B==="online"||B==="card"||B==="on_delivery"||B==="unpaid"?!0:B==="cash"?!(R<un||hi>0&&!H):!1,wA=j=>{D(j.active.id)},em=h.useCallback(async j=>{const T=j??Q;try{await Promise.all(T.map((L,A)=>r(L.id,{...L,display_order:A})))}catch(L){console.error("Error saving product order:",L)}},[Q,r]),kA=async j=>{const{active:T,over:L}=j;if(D(null),!L||T.id===L.id)return;const A=T.data.current,F=L.data.current;if((A==null?void 0:A.type)==="category"&&(F==null?void 0:F.type)==="category"){const te=T.id.replace("category-",""),ye=L.id.replace("category-",""),ee=mi.indexOf(te),G=mi.indexOf(ye),se=Sl(mi,ee,G);W(se);try{await q.init();const de=await q.get("app_settings","default")||{id:"default",pos_layout_locked:O,updated_at:new Date().toISOString()};de.category_order=se,de.updated_at=new Date().toISOString(),await q.put("app_settings",de)}catch(de){console.error("Error saving category order:",de)}}else if((A==null?void 0:A.type)==="product"&&(F==null?void 0:F.type)==="product"){const te=Q.findIndex(de=>de.id===T.id),ye=Q.findIndex(de=>de.id===L.id),ee=Q[te],G=Q[ye];if(ee.category!==G.category)return;const se=Sl(Q,te,ye);he(se),await em(se)}else if((A==null?void 0:A.type)==="combo"&&(F==null?void 0:F.type)==="combo"){const te=T.id.replace("combo-",""),ye=L.id.replace("combo-",""),ee=pi.findIndex(se=>se.id===te),G=pi.findIndex(se=>se.id===ye);if(ee!==-1&&G!==-1){const se=Sl(pi,ee,G);a0(se);try{const de=se.map((De,me)=>({id:De.id,display_order:me}));await k(de)}catch(de){console.error("Error saving combo order:",de)}}}},Zc=$&&!$.toString().startsWith("category-")&&!$.toString().startsWith("combo-")?Q.find(j=>j.id===$):null,N0=$&&$.toString().startsWith("category-")?$.toString().replace("category-",""):null,Pa=$&&$.toString().startsWith("combo-")?pi.find(j=>j.id===$.toString().replace("combo-","")):null,P0=h.useCallback(async()=>{try{await q.init();const j=await q.getAll("sales"),T=j.length>0?Math.max(...j.map(L=>{const A=L.sale_number.replace(/^S-/,"");return parseInt(A)||0})):0;ue(T+1)}catch(j){console.error("Error loading next sale number:",j)}},[]),_A=h.useCallback(async()=>{try{await q.init();const j=!O;j&&await em();const T=await q.get("app_settings","default")||{id:"default",pos_layout_locked:!1,category_order:[],updated_at:new Date().toISOString()},L={...T,pos_layout_locked:j,category_order:J.length>0?J:T.category_order,updated_at:new Date().toISOString()};await q.put("app_settings",L),re(j)}catch(j){console.error("Error toggling POS layout lock:",j),ve.error("Error al cambiar el estado del bloqueo")}},[O,J,em]);return h.useEffect(()=>{l0()},[l0]),h.useEffect(()=>{s0(),P0()},[s0,P0]),h.useEffect(()=>{const j=[...e].sort((T,L)=>{const A=T.display_order??999999,F=L.display_order??999999;return A-F});he(j)},[e]),h.useEffect(()=>{Ie!==null&&Ie!=="combos"&&Ie!=="hamburguesas"&&Ar(null)},[Ie]),h.useEffect(()=>{const T=[...y.filter(L=>L.active)].sort((L,A)=>{const F=L.display_order??999999,te=A.display_order??999999;return F-te});a0(T)},[y]),h.useEffect(()=>{if(g.size===0)return;const j=new Set,T={};for(const L of e)if(L.uses_materia_prima){const A=m(L.id),F=[];for(const te of A)if(te.removable){const ye=v.find(ee=>ee.id===te.materia_prima_id);ye&&F.push(ye.name)}F.length>0&&(j.add(L.id),T[L.name]=F)}YO(j),GO(T)},[e,v,g,m]),h.useEffect(()=>{(async()=>{const T={};for(const L of Gp){let A=!0;for(const F of L.slots){const te=F.product_ids||[];let ye=!1;for(const ee of te){const G=e.find(de=>de.id===ee);if(!G||!G.active)continue;if((G.uses_materia_prima?z[ee]||0:G.stock)>0){ye=!0;break}}if(!ye&&te.length>0){A=!1;break}}T[L.id]=A}HO(T)})()},[Gp,e,z]),h.useEffect(()=>(er&&(Gc(),Zp(),Dr.current=setInterval(Gc,1e4)),()=>{Dr.current&&(clearInterval(Dr.current),Dr.current=null),Cn.current&&(Cn.current.close(),Cn.current=null),Uo.current&&(clearTimeout(Uo.current),Uo.current=null)}),[er,Gc,Zp]),h.useEffect(()=>{ln&&Ca.current&&Ca.current.focus()},[ln]),l.jsxs(p3,{sensors:XO,collisionDetection:xT,onDragStart:wA,onDragEnd:kA,children:[l.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"flex-1 overflow-auto scrollbar-hide relative",children:[l.jsxs("div",{className:"sticky top-0 z-20 px-6 pb-1 pt-3 flex items-center justify-between gap-4",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1",children:[l.jsx("button",{onClick:()=>tt(null),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:Ie===null?"var(--color-accent)":"var(--color-background-secondary)",color:Ie===null?"var(--color-on-accent)":"var(--color-text)"},children:"Todos"}),mi.map(j=>l.jsx("button",{onClick:()=>tt(j),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all capitalize",style:{backgroundColor:Ie===j?"var(--color-accent)":"var(--color-background-secondary)",color:Ie===j?"var(--color-on-accent)":"var(--color-text)"},children:j},j))]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[le&&l.jsx("button",{type:"button",onClick:()=>st(!0),className:"p-2 transition-transform","aria-label":"Ver pedidos KDS",children:l.jsx(cI,{size:20,style:{color:"var(--color-accent)"}})}),l.jsx("button",{type:"button",onClick:_A,className:"p-2 transition-transform","aria-label":O?"Desbloquear diseo del POS":"Bloquear diseo del POS",children:O?l.jsx(dI,{size:20,style:{color:"var(--color-accent)"}}):l.jsx(_I,{size:20,style:{color:"var(--color-accent)"}})})]})]}),(Ie===null||Ie==="combos"||Ie==="hamburguesas")&&l.jsxs("div",{className:"sticky top-0 z-20 px-6 pt-1 pb-3 flex gap-2 overflow-x-auto scrollbar-hide",style:{backgroundColor:"var(--color-background)"},children:[l.jsx("button",{onClick:()=>Ar(null),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt===null?"var(--color-accent)":"var(--color-background-secondary)",color:mt===null?"var(--color-on-accent)":"var(--color-text)"},children:"Todos"}),l.jsx("button",{onClick:()=>Ar("simple"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="simple"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="simple"?"var(--color-on-accent)":"var(--color-text)"},children:"Simple"}),l.jsx("button",{onClick:()=>Ar("double"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="double"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="double"?"var(--color-on-accent)":"var(--color-text)"},children:"Doble"}),l.jsx("button",{onClick:()=>Ar("triple"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="triple"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="triple"?"var(--color-on-accent)":"var(--color-text)"},children:"Triple"})]}),l.jsx("div",{className:"p-6 pt-0",children:l.jsx(Tm,{items:mi.map(j=>`category-${j}`),disabled:O,children:mi.filter(j=>Ie===null||j===Ie).map(j=>{if(j==="combos"){let A=pi;mt!==null&&(A=pi.filter(te=>QO(te,mt)));const F=A.map(te=>`combo-${te.id}`);return l.jsx(lw,{category:"combos",isLocked:O,children:l.jsx(Tm,{items:F,strategy:Id,disabled:O,children:l.jsx("div",{className:`grid gap-4 ${C?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-3"}`,children:A.map(te=>l.jsx(R4,{combo:te,isLocked:O,onOpenComboModal:tA,isOutOfStock:KO[te.id]===!1},te.id))})})},"combos")}const T=d0.filter(A=>!(A.category!==j||j==="hamburguesas"&&mt!==null&&u0(A.name)!==mt)),L=T.map(A=>A.id);return l.jsx(lw,{category:j,isLocked:O,children:l.jsx(Tm,{items:L,strategy:Id,disabled:O,children:l.jsx("div",{className:`grid gap-4 ${C?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-3"}`,children:T.map(A=>l.jsx(T4,{product:A,isLocked:O,onAddToCart:F=>Ts(F),onLongPress:ZO,getStock:Is,displayPrice:c0(A),hasRemovableIngredients:VO.has(A.id),isOutOfStock:Is(A)<=0},A.id))})})},j)})})})]}),l.jsxs("div",{className:`shadow-xl p-6 flex flex-col transition-all duration-300 ${C?"w-[600px]":"w-96"}`,style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:fi?l.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--color-accent)"},children:[l.jsx(vu,{size:14}),"Editando Pedido"]}):l.jsxs(l.Fragment,{children:["Venta #",E!==null?E.toLocaleString("es-AR"):"..."]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[fi&&l.jsx("button",{onClick:j0,className:"text-xs px-2 py-1 rounded hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),_.length>0&&l.jsx("button",{onClick:()=>{fi?j0():(N([]),I(!1),Y(0),ae(null),V([]),P("cash"),ui(""),Ps(""),di("pickup"),Os(""))},className:"text-red-500 hover:text-red-700",children:l.jsx(Ja,{size:20})})]})]}),l.jsxs("div",{className:`flex-1 flex ${C?"gap-6":"flex-col"} overflow-hidden`,children:[l.jsx("div",{className:`${C?"w-2/4 border-r pr-4":"flex-1"} overflow-auto scrollbar-hide ${C?"":"mb-6"}`,style:{borderColor:C?"var(--color-background-accent)":"transparent"},children:_.length===0?l.jsx("div",{className:"text-center opacity-60 mt-12",style:{color:"var(--color-text)"},children:"El carrito est vaco"}):l.jsxs("div",{className:"space-y-3",children:[C&&l.jsxs("div",{className:"text-sm font-semibold mb-3 pb-2 border-b",style:{color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:["Resumen del Pedido (",_.reduce((j,T)=>j+T.quantity,0)," ","items)"]}),_.map(j=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`font-semibold ${C?"text-sm":""}`,style:{color:"var(--color-text)"},children:j.name}),j.isCombo&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"COMBO"})]}),!C&&l.jsx("button",{onClick:()=>g0(j.cartItemId),className:"text-red-500",children:l.jsx(wr,{size:18})})]}),j.isCombo&&j.comboSelections&&l.jsx("div",{className:"text-xs mb-2 pl-2 border-l-2",style:{borderColor:"var(--color-accent)",color:"var(--color-text)",opacity:.8},children:j.comboSelections.map((T,L)=>l.jsxs("div",{className:"mb-0.5",children:[l.jsxs("span",{className:"font-medium",children:[T.slotName,":"]})," ",T.productName,T.removedIngredients.length>0&&l.jsxs("span",{className:"italic ml-1",style:{color:"var(--color-primary)"},children:["(sin ",T.removedIngredients.join(", "),")"]})]},L))}),!j.isCombo&&j.removedIngredients.length>0&&l.jsxs("div",{className:"text-xs mb-2 italic",style:{color:"var(--color-primary)"},children:["Sin: ",j.removedIngredients.join(", ")]}),l.jsxs("div",{className:"flex items-center justify-between",children:[C?l.jsxs("span",{className:"text-sm opacity-70",style:{color:"var(--color-text)"},children:["x",at(j.quantity)]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>y0(j.cartItemId,j.quantity-1),className:"w-8 h-8 rounded",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)"},children:"-"}),l.jsx("span",{className:"w-8 text-center",style:{color:"var(--color-text)"},children:at(j.quantity)}),l.jsx("button",{onClick:()=>y0(j.cartItemId,j.quantity+1),className:"w-8 h-8 rounded",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)"},children:"+"})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(j.price*j.quantity)})]})]},j.cartItemId))]})}),C&&l.jsxs("div",{className:"w-3/4 overflow-auto scrollbar-hide flex flex-col",children:[io>0&&l.jsxs("div",{className:"mb-2 text-sm",style:{color:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsx("span",{children:fe(Yc)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cargo por Delivery:"}),l.jsx("span",{children:fe(io)})]})]}),Mr==="delivery"&&Qp&&He>0&&l.jsxs("div",{className:"mb-2 text-sm flex justify-between",style:{color:"var(--color-accent)"},children:[l.jsx("span",{children:"Delivery Gratis"}),l.jsx("span",{className:"line-through opacity-60",children:fe(He)})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold mb-4 pb-3 border-b",style:{color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{style:{color:"var(--color-primary)"},children:fe(un)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm mb-2",style:{color:"var(--color-text)"},children:"Mtodo de Pago:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>{P("cash"),Y(0),ae(null),V([])},className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:B==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Cd,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>P("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:B==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Pd,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>P("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:B==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>P("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:B==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(dr,{size:16}),"En Entrega"]})]})]}),B==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsxs("div",{className:"flex gap-2",children:[M.length>0&&l.jsx("button",{onClick:aA,className:"text-xs px-2 py-1 rounded border flex items-center gap-1",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-accent)",color:"var(--color-accent)"},children:l.jsx(kI,{size:12})}),R>0&&l.jsx("button",{onClick:iA,className:"text-xs px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:l.jsx(gI,{size:12})})]})]}),l.jsx("div",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-accent)"},children:fe(R)}),l.jsxs("div",{className:"text-sm mb-2",style:{color:"var(--color-text)"},children:["Cambio:"," ",l.jsx("span",{className:"font-bold",children:hi>=0?fe(hi):"$0"})]}),H&&hi>0&&l.jsxs("div",{className:"mt-2 p-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:[l.jsx("div",{className:"text-xs font-semibold mb-1",style:{color:"var(--color-accent)"},children:"Entregar cambio:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:H.map(j=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[at(j.quantity),"x"," ",fe(j.bill_value)]},j.bill_value))})]}),hi>0&&!H&&R>=un&&l.jsx("div",{className:"mt-2 p-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-primary)"},children:l.jsx("div",{className:"text-xs",style:{color:"var(--color-primary)"},children:"No se puede dar cambio exacto"})}),l.jsx("div",{className:"mt-3",children:l.jsx("div",{className:"grid grid-cols-5 gap-1",children:Lm.map(j=>l.jsxs("button",{onClick:()=>oA(j),className:"py-1.5 px-1 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:["+",fe(j)]},j))})})]}),B!=="cash"&&l.jsx("div",{className:"mb-4 p-3 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"text-center",style:{color:"var(--color-accent)"},children:[l.jsx(xl,{size:24,className:"mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-semibold",children:B==="online"?"Transferencia":B==="card"?"Tarjeta":"Contra Entrega"})]})}),l.jsxs("div",{className:"space-y-2 mt-auto",children:[l.jsx("button",{onClick:fA,disabled:!bA()||oe,className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:oe?"Procesando...":"Completar Venta"}),l.jsx("button",{onClick:pA,disabled:_.length===0||oe||xr!==""&&!Cs(xr),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:oe?"Procesando...":"Enviar Sin Pago"}),l.jsx("button",{onClick:mA,className:"w-full py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Volver"})]})]})]}),!C&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(yl,{size:16}),l.jsx("span",{children:"Hora programada (opcional)"})]}),l.jsx("input",{type:"text",inputMode:"numeric",placeholder:"HH:MM (ej: 20:30)",value:xr,onChange:j=>qO(j.target.value),className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:xr&&!Cs(xr)?"#ef4444":"var(--color-background-accent)",color:"var(--color-text)"}}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[xr&&!Cs(xr)&&l.jsx("span",{className:"text-xs",style:{color:"#ef4444"},children:"Hora invlida"}),xr&&Cs(xr)&&l.jsx("button",{onClick:()=>ui(""),className:"text-xs hover:underline",style:{color:"var(--color-accent)"},children:"Limpiar hora"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(wl,{size:16}),l.jsx("span",{children:"Nombre del cliente (opcional)"})]}),l.jsx("input",{type:"text",value:Ns,onChange:j=>Ps(j.target.value),placeholder:"Ej: Juan",className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-background-accent)",color:"var(--color-text)"}})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:l.jsx("span",{children:"Tipo de entrega"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>di("pickup"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:Mr==="pickup"?"var(--color-accent)":"var(--color-background)",color:Mr==="pickup"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(bl,{size:16}),"Retiro"]}),l.jsxs("button",{onClick:()=>di("delivery"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:Mr==="delivery"?"var(--color-accent)":"var(--color-background)",color:Mr==="delivery"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(dr,{size:16}),"Delivery"]})]})]}),Mr==="delivery"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(dr,{size:16}),l.jsx("span",{children:"Direccin de entrega"})]}),l.jsx("input",{type:"text",value:Es,onChange:j=>Os(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-background-accent)",color:"var(--color-text)"}})]}),io>0&&l.jsxs("div",{className:"mb-2 text-sm",style:{color:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsx("span",{children:fe(Yc)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cargo por Delivery:"}),l.jsx("span",{children:fe(io)})]})]}),Mr==="delivery"&&Qp&&He>0&&l.jsxs("div",{className:"mb-2 text-sm flex justify-between",style:{color:"var(--color-accent)"},children:[l.jsx("span",{children:"Delivery Gratis"}),l.jsx("span",{className:"line-through opacity-60",children:fe(He)})]}),l.jsxs("div",{className:"flex justify-between text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{style:{color:"var(--color-primary)"},children:fe(un)})]}),l.jsx("button",{onClick:()=>I(!0),disabled:_.length===0,className:"w-full py-4 rounded-lg text-white font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Proceder al Pago"})]})]})]}),er&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Pm,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Pedidos en Cocina (KDS)"}),l.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-medium",style:{backgroundColor:Ve==="connected"?"#10b981":Ve==="connecting"?"#f59e0b":Ve==="error"?"#ef4444":"#6b7280",color:"white"},children:Ve==="connected"?"Conectado":Ve==="connecting"?"Conectando...":Ve==="error"?"Error":"Desconectado"})]}),l.jsx("button",{onClick:()=>st(!1),className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:pe.length===0?l.jsxs("div",{className:"text-center py-12 opacity-60",style:{color:"var(--color-text)"},children:[l.jsx(Pm,{size:48,className:"mx-auto mb-4 opacity-40"}),l.jsx("p",{children:"No hay pedidos en cocina"})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:pe.map(j=>l.jsxs("div",{className:`rounded-lg p-4 border-2 transition-all duration-300 ${j.status==="completed"?"opacity-50 scale-95":""}`,style:{backgroundColor:"var(--color-background)",borderColor:j.scheduled_time&&new Date(j.scheduled_time).getTime()<Date.now()?"#ef4444":j.status==="pending"?"var(--color-accent)":"var(--color-primary)"},children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:["#",j.sale_number]}),j.customer_name&&l.jsxs("div",{className:"flex items-center gap-1 text-xs mt-0.5",style:{color:"var(--color-text)"},children:[l.jsx(wl,{size:12}),j.customer_name]}),j.order_type&&l.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold mt-1",style:{backgroundColor:j.order_type==="delivery"?"#3b82f6":"#10b981",color:"white"},children:j.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(dr,{size:10,className:"inline mr-1"}),"Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(bl,{size:10,className:"inline mr-1"}),"Retiro"]})}),j.order_type==="delivery"&&l.jsxs("div",{className:"mt-1 text-xs italic flex items-center gap-1 cursor-pointer hover:opacity-80",style:{color:"var(--color-text)",opacity:.8},onClick:()=>{gr(j.id),ct(j.delivery_address||"")},children:[" ",j.delivery_address||"Sin direccin",l.jsx(vu,{size:10})]}),j.scheduled_time&&l.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1 font-medium",style:{color:new Date(j.scheduled_time).getTime()<Date.now()?"#ef4444":"var(--color-accent)"},children:[l.jsx(yl,{size:12}),new Date(j.scheduled_time).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),new Date(j.scheduled_time).getTime()<Date.now()&&l.jsx("span",{className:"ml-1",children:"(ATRASADO)"})]})]}),l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",style:{backgroundColor:j.status==="pending"?"var(--color-accent)":j.status==="on_delivery"?"#3b82f6":"var(--color-primary)",color:j.status==="pending"?"var(--color-on-accent)":"white"},children:j.status==="pending"?l.jsxs(l.Fragment,{children:[l.jsx(Pm,{size:12}),"Pendiente"]}):j.status==="on_delivery"?l.jsxs(l.Fragment,{children:[l.jsx(dr,{size:12}),"En Camino"]}):l.jsxs(l.Fragment,{children:[l.jsx(nI,{size:12}),"Entregado"]})})]}),l.jsx("div",{className:"space-y-2 mb-4",children:(()=>{const T=me=>{const Ce=(me.removed_ingredients||[]).slice().sort().join(",");return`${me.product_name}|${Ce}`},L=me=>{if(me.length<=1)return me.length;const Ce=me[0].product_name;for(let Ne=1;Ne<me.length;Ne++)if(me[Ne].product_name===Ce)return Ne;return me.length},A=me=>me.map(T).join("::"),F={},te=[];j.items.forEach((me,Ce)=>{me.combo_name?(F[me.combo_name]||(F[me.combo_name]=[]),F[me.combo_name].push(me)):te.push({item:me,originalIndex:Ce})});const ye=[];let ee=0;const G=[];j.items.forEach((me,Ce)=>{me.combo_name&&G.push(Ce)}),Object.entries(F).forEach(([me,Ce])=>{const Ne=L(Ce),Ye=[];for(let Qe=0;Qe<Ce.length;Qe+=Ne){const At=Ce.slice(Qe,Qe+Ne).map((Ir,Ko)=>({item:Ir,originalIndex:G[ee+Qe+Ko]}));Ye.push(At)}ee+=Ce.length;const Xe=new Map;Ye.forEach(Qe=>{const At=A(Qe.map(Ko=>Ko.item)),Ir=Xe.get(At);Ir?Ir.count++:Xe.set(At,{items:Qe,count:1})}),Xe.forEach(({items:Qe,count:At})=>{ye.push({comboName:me,items:Qe,quantity:At})})});const se=[];ye.forEach((me,Ce)=>{se.push(l.jsxs("div",{className:"text-xs font-bold px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)",marginTop:Ce>0?"0.5rem":"0"},children:[me.quantity>1?`${me.quantity}x COMBO`:"COMBO"," ",me.comboName]},`combo-header-${Ce}`)),me.items.forEach(({item:Ne,originalIndex:Ye},Xe)=>{const Qe=Qc(Ne.product_name),At=(Bt==null?void 0:Bt.orderId)===j.id&&(Bt==null?void 0:Bt.itemIndex)===Ye;se.push(l.jsxs("div",{className:"text-sm rounded-lg p-2",style:{color:"var(--color-text)",backgroundColor:At?"var(--color-background-accent)":"transparent",marginLeft:"0.75rem"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[me.quantity>1?`${me.quantity}x`:`${Ne.quantity}x`," ",Ne.product_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"opacity-60",children:fe(Ne.product_price*Ne.quantity*me.quantity)}),Qe.length>0&&l.jsx("button",{onClick:()=>ci(At?null:{orderId:j.id,itemIndex:Ye}),className:"flex items-center justify-center rounded hover:opacity-80",style:{backgroundColor:At?"var(--color-accent)":"var(--color-background-accent)",color:At?"var(--color-on-accent)":"var(--color-text)"},title:"Editar ingredientes",children:l.jsx(fa,{size:18})})]})]}),Ne.removed_ingredients&&Ne.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic ml-4",style:{color:"var(--color-primary)"},children:["Sin:"," ",Ne.removed_ingredients.join(", ")]}),At&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Qe.map(Ir=>{const Ko=(Ne.removed_ingredients||[]).includes(Ir);return l.jsxs("button",{onClick:()=>b0(j.id,Ye,Ir),className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:Ko?"var(--color-primary)":"var(--color-background)",color:Ko?"var(--color-on-primary)":"var(--color-text)",textDecoration:Ko?"line-through":"none"},children:[Ko?"SIN ":"",Ir]},Ir)})})]},`combo-${Ce}-item-${Xe}`))})});const de=new Map;te.forEach(({item:me,originalIndex:Ce})=>{const Ne=T(me),Ye=de.get(Ne);Ye?(Ye.items.push({item:me,originalIndex:Ce}),Ye.count+=me.quantity):de.set(Ne,{items:[{item:me,originalIndex:Ce}],count:me.quantity})});let De=0;return de.forEach(({items:me,count:Ce})=>{const{item:Ne,originalIndex:Ye}=me[0],Xe=Qc(Ne.product_name),Qe=(Bt==null?void 0:Bt.orderId)===j.id&&(Bt==null?void 0:Bt.itemIndex)===Ye;se.push(l.jsxs("div",{className:"text-sm rounded-lg p-2",style:{color:"var(--color-text)",backgroundColor:Qe?"var(--color-background-accent)":"transparent"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[Ce,"x ",Ne.product_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"opacity-60",children:fe(Ne.product_price*Ce)}),Xe.length>0&&l.jsx("button",{onClick:()=>ci(Qe?null:{orderId:j.id,itemIndex:Ye}),className:"flex items-center justify-center  rounded hover:opacity-80",style:{backgroundColor:Qe?"var(--color-accent)":"var(--color-background-accent)",color:Qe?"var(--color-on-accent)":"var(--color-text)"},title:"Editar ingredientes",children:l.jsx(fa,{size:18})})]})]}),Ne.removed_ingredients&&Ne.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic ml-4",style:{color:"var(--color-primary)"},children:["Sin: ",Ne.removed_ingredients.join(", ")]}),Qe&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Xe.map(At=>{const Ir=(Ne.removed_ingredients||[]).includes(At);return l.jsxs("button",{onClick:()=>b0(j.id,Ye,At),className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:Ir?"var(--color-primary)":"var(--color-background)",color:Ir?"var(--color-on-primary)":"var(--color-text)",textDecoration:Ir?"line-through":"none"},children:[Ir?"SIN ":"",At]},At)})})]},`standalone-${De++}`))}),se})()}),l.jsxs("div",{className:"flex flex-col justify-between items-center pt-3 border-t gap-2",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex w-full justify-between items-center",children:[l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:fe(j.total)}),j.status==="pending"&&l.jsx("button",{onClick:()=>sA(j),className:"flex rounded-lg transition-all hover:opacity-80 items-center justify-center",style:{backgroundColor:"var(--color-background-accent)"},title:"Editar pedido",children:l.jsx(vu,{size:18,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{children:(j.status==="pending"||j.status==="on_delivery")&&l.jsxs("div",{className:"flex items-center gap-2",children:[j.order_type==="delivery"?j.status==="pending"?l.jsxs("button",{onClick:()=>Xc(j.id,"on_delivery"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"#3b82f6",color:"white"},children:[l.jsx(dr,{size:14}),"Enviar"]}):l.jsx("button",{onClick:()=>Xc(j.id,"completed"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Entregado"}):l.jsx("button",{onClick:()=>Xc(j.id,"completed"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Marcar Entregado"}),qe[j.sale_number]&&l.jsxs("button",{onClick:()=>yA(j.sale_number),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx(Nd,{size:14}),"Cobrar"]})]})})]})]},j.id))})})]})}),ln&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(dr,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Direccin de Entrega"})]}),l.jsx("button",{onClick:()=>gr(null),className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("input",{ref:Ca,type:"text",value:rr,onChange:j=>ct(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full p-3 rounded-lg text-lg mb-4",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"},onKeyDown:j=>{j.key==="Enter"&&w0(ln,rr)}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>gr(null),className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:()=>w0(ln,rr),className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Guardar"})]})]})]})}),tr&&qe[tr]&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Nd,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Cobrar Pedido"})]}),l.jsx("button",{onClick:S0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"font-bold mb-1",style:{color:"var(--color-text)"},children:["Pedido #",tr]}),l.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:fe(qe[tr].total_amount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>Se("cash"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:lt==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Cd,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>Se("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:lt==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Pd,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>Se("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:lt==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>Se("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:lt==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(dr,{size:16}),"En Entrega"]})]}),lt==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe($e)})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Lm.slice().reverse().map(j=>l.jsx("button",{onClick:()=>hA(j),className:"py-2 rounded-lg text-xs font-semibold transition-all hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:fe(j)},j))}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{onClick:vA,disabled:Ue.length===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Deshacer"}),l.jsx("button",{onClick:gA,disabled:$e===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Reiniciar"})]}),$e>=qe[tr].total_amount&&l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Cambio:"}),l.jsx("span",{className:"font-bold",children:fe(Wo)})]}),vi&&Wo>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:vi.map((j,T)=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[j.quantity,"x ",fe(j.bill_value)]},T))}),!vi&&Wo>0&&l.jsx("div",{className:"text-xs text-center opacity-70",style:{color:"var(--color-text)"},children:"No se puede dar cambio exacto"})]})]}),l.jsx("button",{onClick:xA,disabled:!C0(),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Confirmar Pago"})]})]})}),yt&&Ot&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:Ot.name}),l.jsx("p",{className:"text-lg font-bold",style:{color:"var(--color-accent)"},children:fe(Ot.price+Yr.filter(j=>j.is_variable).reduce((j,T)=>j+(T.selected_quantity??0)*(T.price_per_unit??0),0))})]}),l.jsx("button",{onClick:m0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[Yr.filter(j=>!j.is_variable).length>0&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Selecciona los ingredientes a quitar:"}),l.jsx("div",{className:"space-y-3 mb-6",children:Yr.filter(j=>!j.is_variable).map(j=>l.jsxs("button",{onClick:()=>JO(j.id),className:"w-full flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:j.removed?"var(--color-primary)":"var(--color-background)",color:j.removed?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx("span",{className:j.removed?"line-through":"",children:j.name}),j.removed&&l.jsx("span",{className:"text-sm font-semibold",children:"SIN"})]},j.id))})]}),Yr.filter(j=>j.is_variable).length>0&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Cantidad de extras:"}),l.jsx("div",{className:"space-y-3 mb-6",children:Yr.filter(j=>j.is_variable).map(j=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--color-text)"},children:j.name}),l.jsxs("span",{className:"ml-2 text-sm opacity-70",style:{color:"var(--color-text)"},children:["(+",fe(j.price_per_unit??0),"/u)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>p0(j.id,-1),disabled:(j.selected_quantity??0)<=(j.min_quantity??0),className:"w-8 h-8 flex items-center justify-center rounded-lg font-bold transition-opacity disabled:opacity-30",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"-"}),l.jsx("span",{className:"w-8 text-center font-bold",style:{color:"var(--color-text)"},children:j.selected_quantity??0}),l.jsx("button",{onClick:()=>p0(j.id,1),disabled:(j.selected_quantity??0)>=(j.max_quantity??99),className:"w-8 h-8 flex items-center justify-center rounded-lg font-bold transition-opacity disabled:opacity-30",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"+"})]})]},j.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:m0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:eA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Agregar"})]})]})]})}),UO&&yr&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] overflow-auto rounded-xl shadow-2xl",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b sticky top-0 z-10",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:yr.name}),l.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:fe(Kp)})]}),l.jsx("button",{onClick:v0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{className:"p-6 space-y-6",children:yr.slots.map(j=>{const T=Zx[j.id]||[],L=js.filter(A=>A.slotId===j.id);return l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2",style:{color:"var(--color-text)"},children:[j.name," ",j.quantity>1&&`(x${j.quantity})`]}),L.map((A,F)=>l.jsxs("div",{className:"mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[j.quantity>1&&l.jsxs("p",{className:"text-xs mb-2 opacity-60",style:{color:"var(--color-text)"},children:["Opcin ",F+1]}),j.is_dynamic&&T.length>1?l.jsx("select",{value:A.productId,onChange:te=>rA(j.id,F,te.target.value),className:"w-full p-2 rounded mb-2",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"},children:T.map(te=>l.jsxs("option",{value:te.id,children:[te.name," - ",fe(te.price)]},te.id))}):l.jsx("p",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:A.productName}),(()=>{const te=i0[A.productName]||[];return te.length===0?null:l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-xs mb-1 opacity-60",style:{color:"var(--color-text)"},children:"Ingredientes:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:te.map(ye=>{const ee=A.removedIngredients.includes(ye);return l.jsxs("button",{onClick:()=>{Ss(G=>G.map(se=>{const De=G.filter(me=>me.slotId===j.id).indexOf(se);if(se.slotId===j.id&&De===F){const me=ee?se.removedIngredients.filter(Ce=>Ce!==ye):[...se.removedIngredients,ye];return{...se,removedIngredients:me}}return se}))},className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:ee?"var(--color-primary)":"var(--color-background-secondary)",color:ee?"var(--color-on-primary)":"var(--color-text)",textDecoration:ee?"line-through":"none"},children:[ee?"SIN ":"",ye]},ye)})})]})})()]},`${j.id}-${F}`))]},j.id)})}),l.jsx("div",{className:"px-6 py-4 border-t sticky bottom-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:v0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsxs("button",{onClick:nA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:["Agregar - ",fe(Kp)]})]})})]})}),WO&&As&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full h-full md:max-w-2xl md:max-h-[90vh] md:rounded-xl flex flex-col overflow-hidden",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b shrink-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(vu,{size:24,style:{color:"var(--color-primary)"}}),l.jsxs("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:["Editar Pedido #",As.sale_number]})]}),l.jsx("button",{onClick:Jp,className:"flex justify-center items-center p-2 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:24,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(yl,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Hora de Entrega"]}),l.jsx("input",{type:"time",value:Kc,onChange:j=>Ds(j.target.value),className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}}),Kc&&l.jsx("button",{onClick:()=>Ds(""),className:"mt-2 text-sm underline",style:{color:"var(--color-primary)"},children:"Quitar hora programada (ASAP)"})]}),l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(wl,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Nombre del Cliente"]}),l.jsx("input",{type:"text",value:r0,onChange:j=>Hp(j.target.value),placeholder:"Ej: Juan",className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}})]}),l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:"Tipo de Entrega"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>Hc("pickup"),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg font-semibold text-lg transition-all",style:{backgroundColor:Na==="pickup"?"var(--color-accent)":"var(--color-background)",color:Na==="pickup"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(bl,{size:20}),"Retiro"]}),l.jsxs("button",{onClick:()=>Hc("delivery"),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg font-semibold text-lg transition-all",style:{backgroundColor:Na==="delivery"?"var(--color-accent)":"var(--color-background)",color:Na==="delivery"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(dr,{size:20}),"Delivery"]})]})]}),Na==="delivery"&&l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(dr,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Direccin de Entrega"]}),l.jsx("input",{type:"text",value:n0,onChange:j=>Vp(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}})]}),l.jsx("div",{className:"space-y-4",children:qo.length===0?l.jsx("div",{className:"text-center py-8 opacity-60",style:{color:"var(--color-text)"},children:"No hay productos en este pedido"}):qo.map((j,T)=>{const L=Qc(j.product_name);return l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:j.product_name}),l.jsxs("span",{className:"ml-2 opacity-60",style:{color:"var(--color-text)"},children:[fe(j.product_price)," c/u"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>k0(T,-1),className:"w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"-"}),l.jsx("span",{className:"text-xl font-bold w-8 text-center",style:{color:"var(--color-text)"},children:j.quantity}),l.jsx("button",{onClick:()=>k0(T,1),className:"w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"+"})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-opacity-20 flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:j.removed_ingredients&&j.removed_ingredients.length>0?l.jsxs("div",{className:"text-sm italic",style:{color:"var(--color-primary)"},children:["Sin: ",j.removed_ingredients.join(", ")]}):l.jsx("div",{className:"text-sm opacity-50",style:{color:"var(--color-text)"},children:"Sin modificaciones"})}),L.length>0&&l.jsxs("button",{onClick:()=>cA(T),className:"px-3 py-1.5 rounded-lg text-sm font-semibold flex items-center gap-1",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx(fa,{size:14}),"Personalizar"]})]}),l.jsx("div",{className:"mt-3 text-right font-bold",style:{color:"var(--color-accent)"},children:fe(j.product_price*j.quantity)})]},T)})})]}),l.jsxs("div",{className:"px-6 py-4 border-t shrink-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Total"}),l.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:fe(qo.reduce((j,T)=>j+T.product_price*T.quantity,0))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:Jp,className:"flex-1 py-4 rounded-lg font-bold text-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:lA,disabled:qo.length===0,className:"flex-1 py-4 rounded-lg font-bold text-lg disabled:opacity-50",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Guardar Cambios"})]})]}),Ms!==null&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:(E0=qo[Ms])==null?void 0:E0.product_name}),l.jsx("button",{onClick:_0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Selecciona los ingredientes a quitar:"}),l.jsx("div",{className:"space-y-3 mb-6",children:o0.map(j=>l.jsxs("button",{onClick:()=>uA(j.name),className:"w-full flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:j.removed?"var(--color-primary)":"var(--color-background)",color:j.removed?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx("span",{className:j.removed?"line-through":"",children:j.name}),j.removed&&l.jsx("span",{className:"text-sm font-semibold",children:"SIN"})]},j.name))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:_0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:dA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Confirmar"})]})]})]})})]})}),l.jsx(D3,{children:Zc?l.jsx("div",{className:"opacity-80 rotate-3 scale-105 shadow-2xl",children:l.jsxs("button",{className:"w-full p-6 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-lg font-bold mb-2",children:Zc.name}),l.jsx("div",{className:"text-2xl font-bold mb-1",children:fe(c0(Zc))}),l.jsxs("div",{className:"text-sm opacity-90",children:["Stock: ",at(Is(Zc))]})]})}):Pa?l.jsx("div",{className:"opacity-80 rotate-3 scale-105 shadow-2xl",children:l.jsxs("button",{className:"w-full p-6 rounded-lg",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx("div",{className:"text-lg font-bold mb-2",children:Pa.name}),l.jsx("div",{className:"text-2xl font-bold mb-1",children:Pa.price_type==="fixed"?fe(Pa.fixed_price||0):Pa.discount_type==="percentage"?`-${Pa.discount_value}%`:`-${fe(Pa.discount_value||0)}`}),l.jsx("div",{className:"text-sm opacity-90",children:"COMBO"})]})}):N0?l.jsx("div",{className:"opacity-80 scale-105 shadow-2xl backdrop-blur-sm rounded-lg px-4 py-2",style:{backgroundColor:"var(--color-background-secondary)"},children:l.jsx("h2",{className:"text-xl font-semibold capitalize",style:{color:"var(--color-text)"},children:N0})}):null})]})}function z4(){const{combos:e,addCombo:t,updateCombo:r,deleteCombo:n,loading:o}=oC(),{products:a}=Xf(),{getProductMateriaPrima:i,materiaPrima:s}=bc(),[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState({name:"",description:"",price_type:"fixed",fixed_price:"",discount_type:"percentage",discount_value:"",active:!0}),[v,g]=h.useState([]),y=a.filter(P=>P.active),x=async P=>{if(P.preventDefault(),v.length===0){ve.error("Agreg al menos un slot al combo");return}for(const R of v){if(R.product_ids.length===0){ve.error(`El slot "${R.name}" debe tener al menos un producto`);return}if(!R.default_product_id){ve.error(`El slot "${R.name}" debe tener un producto por defecto`);return}}try{const R=v.map(Y=>({id:Y.id,name:Y.name,is_dynamic:Y.is_dynamic,product_ids:Y.product_ids,default_product_id:Y.default_product_id,quantity:Y.quantity}));d?(await r(d,{name:p.name,description:p.description,price_type:p.price_type,fixed_price:p.price_type==="fixed"?parseFloat(p.fixed_price):void 0,discount_type:p.price_type==="calculated"?p.discount_type:void 0,discount_value:p.price_type==="calculated"?parseFloat(p.discount_value):void 0,slots:R,active:p.active}),ve.success("Combo actualizado exitosamente")):(await t({name:p.name,description:p.description,price_type:p.price_type,fixed_price:p.price_type==="fixed"?parseFloat(p.fixed_price):void 0,discount_type:p.price_type==="calculated"?p.discount_type:void 0,discount_value:p.price_type==="calculated"?parseFloat(p.discount_value):void 0,slots:R,active:p.active}),ve.success("Combo creado exitosamente")),k()}catch(R){ve.error("Error al guardar el combo"),console.error(R)}},b=P=>{var R,Y;m({name:P.name,description:P.description||"",price_type:P.price_type,fixed_price:((R=P.fixed_price)==null?void 0:R.toString())||"",discount_type:P.discount_type||"percentage",discount_value:((Y=P.discount_value)==null?void 0:Y.toString())||"",active:P.active}),g(P.slots.map(H=>({id:H.id,name:H.name,is_dynamic:H.is_dynamic,product_ids:H.product_ids,default_product_id:H.default_product_id,quantity:H.quantity}))),f(P.id),u(!0)},w=async P=>{ve("Eliminar Combo",{description:"Ests seguro de que deseas eliminar este combo?",action:{label:"Eliminar",onClick:async()=>{try{await n(P),ve.success("Combo eliminado exitosamente")}catch(R){ve.error("Error al eliminar el combo"),console.error(R)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},k=()=>{m({name:"",description:"",price_type:"fixed",fixed_price:"",discount_type:"percentage",discount_value:"",active:!0}),g([]),u(!1),f(null)},S=()=>{g([...v,{id:crypto.randomUUID(),name:"",is_dynamic:!1,product_ids:[],default_product_id:"",quantity:1}])},_=P=>{g(v.filter((R,Y)=>Y!==P))},N=(P,R,Y)=>{const H=[...v];if(H[P][R]=Y,R==="product_ids"){const ae=Y;ae.includes(H[P].default_product_id)||(H[P].default_product_id=ae[0]||"")}g(H)},C=(P,R)=>{const Y=v[P],H=Y.product_ids.includes(R)?Y.product_ids.filter(ae=>ae!==R):[...Y.product_ids,R];N(P,"product_ids",H)},I=async()=>{try{const P=await Promise.all(e.filter(oe=>oe.active).map(async oe=>{const ie=await Promise.all(oe.slots.map(async M=>{const V=await Promise.all(M.product_ids.map(async z=>{const Z=a.find(K=>K.id===z);if(!Z)return null;let U=[];return Z.uses_materia_prima&&(U=(await i(z)).filter(Q=>Q.removable||Q.is_variable).map(Q=>{const he=s.find(re=>re.id===Q.materia_prima_id),O={id:Q.materia_prima_id,name:(he==null?void 0:he.name)||"Desconocido"};return Q.is_variable?{...O,is_variable:!0,min_quantity:Q.min_quantity??1,max_quantity:Q.max_quantity??5,default_quantity:Q.default_quantity??1,price_per_unit:Q.price_per_unit??0}:O})),{id:Z.id,name:Z.name,price:Z.price,ingredients:U}}));return{id:M.id,name:M.name,is_dynamic:M.is_dynamic,quantity:M.quantity,default_product_id:M.default_product_id,products:V.filter(Boolean)}}));return{id:oe.id,name:oe.name,description:oe.description||"",price_type:oe.price_type,fixed_price:oe.fixed_price,discount_type:oe.discount_type,discount_value:oe.discount_value,slots:ie}})),R=JSON.stringify(P,null,2),Y=new Blob([R],{type:"application/json"}),H=URL.createObjectURL(Y),ae=document.createElement("a");ae.href=H,ae.download="combos.json",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(H),ve.success("Combos exportados exitosamente")}catch(P){console.error("Error exporting combos:",P),ve.error("Error al exportar combos")}},B=P=>{const R=a.find(Y=>Y.id===P);return(R==null?void 0:R.name)||"Producto no encontrado"};return o?l.jsx("div",{className:"p-6 dark:text-white",children:"Cargando..."}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(wo,{style:{color:"var(--color-primary)"}}),"Combos"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Cre combos de productos con descuentos"})]}),!c&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},title:"Exportar combos para la web de clientes",children:[l.jsx(Jg,{size:20}),"Exportar Web"]}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(Ji,{size:20}),"Nuevo Combo"]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:d?"Editar Combo":"Nuevo Combo"}),l.jsxs("form",{onSubmit:x,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre del Combo"}),l.jsx("input",{type:"text",required:!0,value:p.name,onChange:P=>m({...p,name:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:"Ej: Combo Familiar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Descripcin (opcional)"}),l.jsx("textarea",{value:p.description,onChange:P=>m({...p,description:P.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg resize-none",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Tipo de Precio"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"price_type",value:"fixed",checked:p.price_type==="fixed",onChange:()=>m({...p,price_type:"fixed"}),className:"w-4 h-4"}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Precio Fijo"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"price_type",value:"calculated",checked:p.price_type==="calculated",onChange:()=>m({...p,price_type:"calculated"}),className:"w-4 h-4"}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Calculado con Descuento"})]})]})]}),p.price_type==="fixed"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Precio del Combo"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.fixed_price,onChange:P=>m({...p,fixed_price:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),p.price_type==="calculated"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Tipo de Descuento"}),l.jsxs("select",{value:p.discount_type,onChange:P=>m({...p,discount_type:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"percentage",children:"Porcentaje (%)"}),l.jsx("option",{value:"fixed",children:"Monto Fijo ($)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Valor del Descuento"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.discount_value,onChange:P=>m({...p,discount_value:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:p.discount_type==="percentage"?"10":"500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"combo_active",checked:p.active,onChange:P=>m({...p,active:P.target.checked}),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"combo_active",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Combo activo"})]}),l.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Slots del Combo"}),l.jsxs("button",{type:"button",onClick:S,className:"flex items-center gap-1 px-3 py-1 rounded text-sm text-white",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(Ji,{size:16}),"Agregar Slot"]})]}),v.length===0?l.jsx("p",{className:"text-sm opacity-60 text-center py-4",style:{color:"var(--color-text)"},children:"No hay slots. Agreg al menos uno."}):l.jsx("div",{className:"space-y-4",children:v.map((P,R)=>l.jsxs("div",{className:"border rounded-lg p-3",style:{borderColor:"var(--color-text)",opacity:.9},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:["Slot ",R+1]}),l.jsx("button",{type:"button",onClick:()=>_(R),className:"text-red-500 hover:text-red-700",children:l.jsx(Ja,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Nombre del Slot"}),l.jsx("input",{type:"text",required:!0,value:P.name,onChange:Y=>N(R,"name",Y.target.value),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:"Ej: Hamburguesa"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Cantidad"}),l.jsx("input",{type:"number",required:!0,min:"1",value:P.quantity,onChange:Y=>N(R,"quantity",parseInt(Y.target.value)||1),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("input",{type:"checkbox",id:`dynamic_${P.id}`,checked:P.is_dynamic,onChange:Y=>N(R,"is_dynamic",Y.target.checked),className:"w-4 h-4"}),l.jsx("label",{htmlFor:`dynamic_${P.id}`,className:"text-sm",style:{color:"var(--color-text)"},children:"Permitir elegir entre opciones"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:P.is_dynamic?"Productos disponibles":"Producto"}),l.jsx("div",{className:"max-h-32 overflow-y-auto border rounded p-2",style:{borderColor:"var(--color-text)"},children:y.length===0?l.jsx("p",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:"No hay productos activos"}):y.map(Y=>l.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer hover:bg-black/5 rounded px-1",children:[l.jsx("input",{type:P.is_dynamic?"checkbox":"radio",name:`slot_product_${P.id}`,checked:P.product_ids.includes(Y.id),onChange:()=>{P.is_dynamic?C(R,Y.id):(N(R,"product_ids",[Y.id]),N(R,"default_product_id",Y.id))},className:"w-3 h-3"}),l.jsxs("span",{className:"text-sm",style:{color:"var(--color-text)"},children:[Y.name," -"," ",fe(Y.price)]})]},Y.id))})]}),P.is_dynamic&&P.product_ids.length>1&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Producto por defecto"}),l.jsx("select",{value:P.default_product_id,onChange:Y=>N(R,"default_product_id",Y.target.value),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:P.product_ids.map(Y=>l.jsx("option",{value:Y,children:B(Y)},Y))})]})]},P.id))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs("button",{type:"button",onClick:k,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border rounded-lg",style:{borderColor:"var(--color-text)",color:"var(--color-text)"},children:[l.jsx(wr,{size:18}),"Cancelar"]}),l.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(ry,{size:18}),d?"Guardar":"Crear Combo"]})]})]})]})}),e.length===0?l.jsxs("div",{className:"text-center py-12 rounded-xl",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(wo,{size:48,className:"mx-auto mb-4 opacity-50",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"opacity-60",style:{color:"var(--color-text)"},children:"No hay combos creados"}),l.jsx("button",{onClick:()=>u(!0),className:"mt-4 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:"Crear primer combo"})]}):l.jsx("div",{className:"grid gap-4",children:e.map(P=>l.jsx("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--color-background-secondary)",opacity:P.active?1:.6},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:P.name}),!P.active&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Inactivo"})]}),P.description&&l.jsx("p",{className:"text-sm opacity-70 mt-1",style:{color:"var(--color-text)"},children:P.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:P.slots.map(R=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[R.quantity,"x ",R.name,R.is_dynamic&&` (${R.product_ids.length} opc.)`]},R.id))})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-right",children:P.price_type==="fixed"?l.jsx("p",{className:"font-bold text-lg",style:{color:"var(--color-primary)"},children:fe(P.fixed_price||0)}):l.jsx("p",{className:"font-bold",style:{color:"var(--color-primary)"},children:P.discount_type==="percentage"?`-${P.discount_value}%`:`-${fe(P.discount_value||0)}`})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>b(P),className:"flex justify-center items-center p-2 rounded-lg transition-colors",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:l.jsx(ty,{size:18})}),l.jsx("button",{onClick:()=>w(P.id),className:"flex justify-center items-center p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:l.jsx(Ja,{size:18})})]})]})]})},P.id))})]})}function L4(){const[e,t]=h.useState("products"),{products:r,addProduct:n,updateProduct:o,deleteProduct:a,loading:i}=Xf(),{materiaPrima:s,getProductMateriaPrima:c,getProductMateriaPrimaCached:u,setProductMateriaPrima:d,calculateProductCost:f,calculateAvailableStock:p,productMPCache:m}=bc(),[v,g]=h.useState({}),[y,x]=h.useState({}),[b,w]=h.useState(!1),[k,S]=h.useState(null),[_,N]=h.useState({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),[C,I]=h.useState([]),B=[{value:"hamburguesas",label:"Hamburguesas"},{value:"papas fritas",label:"Papas Fritas"},{value:"bebidas",label:"Bebidas"}];h.useEffect(()=>{if(!r.length){g({});return}(async()=>{const Z=r.filter(K=>K.uses_materia_prima);if(!Z.length){g({});return}const U=await Promise.all(Z.map(async K=>{const Q=await p(K.id);return[K.id,Q]}));g(Object.fromEntries(U))})()},[r,p]),h.useEffect(()=>{if(!r.length||m.size===0){x({});return}const z={};for(const Z of r){if(!Z.uses_materia_prima)continue;const U=u(Z.id);let K=0;for(const Q of U)Q.is_variable&&Q.min_quantity&&Q.price_per_unit&&(K+=Q.min_quantity*Q.price_per_unit);K>0&&(z[Z.id]=Z.price+K)}x(z)},[r,m,u]);const P=async z=>{z.preventDefault();try{const Z=_.uses_materia_prima,U=parseFloat(_.production_cost);if(Z&&C.length===0){ve.error("Agreg al menos un ingrediente de materia prima");return}let K=k;if(k?await o(k,{name:_.name,description:_.description,price:parseFloat(_.price),production_cost:Z?0:U,stock:Z?0:parseInt(_.stock),category:_.category,active:_.active,uses_materia_prima:Z}):K=await n({name:_.name,description:_.description,price:parseFloat(_.price),production_cost:Z?0:U,stock:Z?0:parseInt(_.stock||"0"),category:_.category,active:_.active,uses_materia_prima:Z}),Z&&K){const Q=C.map(O=>({materia_prima_id:O.materia_prima_id,quantity:parseFloat(O.quantity||"0"),removable:O.removable,is_variable:O.is_variable,min_quantity:O.is_variable?parseFloat(O.min_quantity):void 0,max_quantity:O.is_variable?parseFloat(O.max_quantity):void 0,default_quantity:O.is_variable?parseFloat(O.default_quantity):void 0,price_per_unit:O.is_variable?parseFloat(O.price_per_unit):void 0,linked_to:O.linked_to||void 0,linked_multiplier:O.linked_to?parseFloat(O.linked_multiplier):void 0}));await d(K,Q);const he=await f(K);await o(K,{production_cost:he})}N({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),I([]),w(!1),S(null),ve.success(k?"Producto actualizado exitosamente":"Producto agregado exitosamente")}catch(Z){ve.error("Error al guardar el producto"),console.error(Z)}},R=async z=>{if(N({name:z.name,description:z.description||"",price:z.price.toString(),production_cost:z.production_cost.toString(),stock:z.stock.toString(),category:z.category,active:z.active,uses_materia_prima:z.uses_materia_prima||!1}),S(z.id),z.uses_materia_prima){const Z=await c(z.id);I(Z.map(U=>({materia_prima_id:U.materia_prima_id,quantity:(U.quantity??0).toString(),removable:U.removable??!0,is_variable:U.is_variable??!1,min_quantity:(U.min_quantity??1).toString(),max_quantity:(U.max_quantity??5).toString(),default_quantity:(U.default_quantity??1).toString(),price_per_unit:(U.price_per_unit??0).toString(),linked_to:U.linked_to??"",linked_multiplier:(U.linked_multiplier??1).toString()})))}else I([]);w(!0)},Y=async z=>{ve("Eliminar Producto",{description:"Ests seguro de que deseas eliminar este producto?",action:{label:"Eliminar",onClick:async()=>{try{await a(z),ve.success("Producto eliminado exitosamente")}catch(Z){ve.error("Error al eliminar el producto"),console.error(Z)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},H=()=>{N({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),I([]),w(!1),S(null)},ae=async()=>{try{const z=await Promise.all(r.filter(he=>he.active).map(async he=>{let O=[];return he.uses_materia_prima&&(O=(await c(he.id)).filter($=>$.removable||$.is_variable).map($=>{const D=s.find(W=>W.id===$.materia_prima_id),J={id:$.materia_prima_id,name:(D==null?void 0:D.name)||"Desconocido"};return $.is_variable?{...J,is_variable:!0,min_quantity:$.min_quantity??1,max_quantity:$.max_quantity??5,default_quantity:$.default_quantity??1,price_per_unit:$.price_per_unit??0}:J})),{id:he.id,name:he.name,description:he.description||"",price:he.price,category:he.category,ingredients:O}})),Z=JSON.stringify(z,null,2),U=new Blob([Z],{type:"application/json"}),K=URL.createObjectURL(U),Q=document.createElement("a");Q.href=K,Q.download="products.json",document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(K),ve.success("Productos exportados exitosamente")}catch(z){console.error("Error exporting products:",z),ve.error("Error al exportar productos")}},oe=()=>{I([...C,{materia_prima_id:"",quantity:"",removable:!0,is_variable:!1,min_quantity:"1",max_quantity:"5",default_quantity:"1",price_per_unit:"",linked_to:"",linked_multiplier:"1"}])},ie=z=>{I(C.filter((Z,U)=>U!==z))},M=(z,Z,U)=>{const K=[...C];Z==="removable"||Z==="is_variable"?(K[z][Z]=U,Z==="is_variable"&&U===!0&&(K[z].linked_to="",K[z].linked_multiplier="1")):K[z][Z]=U,I(K)};if(i)return l.jsx("div",{className:"p-6 dark:text-white",children:"Cargando..."});const V=()=>l.jsxs("div",{className:"flex gap-1 p-1 rounded-lg mb-6",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("button",{onClick:()=>t("products"),className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:e==="products"?"var(--color-primary)":"transparent",color:e==="products"?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Productos"]}),l.jsxs("button",{onClick:()=>t("combos"),className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:e==="combos"?"var(--color-primary)":"transparent",color:e==="combos"?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx(uI,{size:18}),"Combos"]})]});return e==="combos"?l.jsxs("div",{className:"p-6",children:[l.jsx(V,{}),l.jsx(z4,{})]}):l.jsxs("div",{className:"p-6",children:[l.jsx(V,{}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(wo,{style:{color:"var(--color-primary)"}}),"Productos"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Administr tu catlogo de productos, precios y categoras"})]}),!b&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},title:"Exportar productos para la web de clientes",children:[l.jsx(Jg,{size:20}),"Exportar Web"]}),l.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(Ji,{size:20}),"Aadir Producto"]})]})]}),b&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:k?"Editar Producto":"Nuevo Producto"}),l.jsxs("form",{onSubmit:P,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre"}),l.jsx("input",{type:"text",required:!0,value:_.name,onChange:z=>N({..._,name:z.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Descripcin (opcional)"}),l.jsx("textarea",{value:_.description,onChange:z=>N({..._,description:z.target.value}),rows:2,placeholder:"Descripcin del producto para la tienda web...",className:"w-full px-3 py-2 border rounded-lg resize-none",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"uses_materia_prima",checked:_.uses_materia_prima,onChange:z=>{N({..._,uses_materia_prima:z.target.checked}),z.target.checked||I([])},className:"w-4 h-4"}),l.jsx("label",{htmlFor:"uses_materia_prima",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Usa Materia Prima (el costo se calcular automticamente)"})]}),_.uses_materia_prima&&l.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Ingredientes de Materia Prima"}),l.jsxs("button",{type:"button",onClick:oe,className:"flex items-center gap-1 px-3 py-1 rounded text-sm text-white",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(Ji,{size:16}),"Agregar"]})]}),C.length===0?l.jsx("p",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:'No hay ingredientes. Hac clic en "Agregar" para aadir.'}):l.jsx("div",{className:"space-y-3",children:C.map((z,Z)=>l.jsxs("div",{className:"p-3 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:z.is_variable?"var(--color-primary)":"transparent"},children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("select",{value:z.materia_prima_id,onChange:U=>M(Z,"materia_prima_id",U.target.value),required:!0,className:"flex-1 px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"",children:"Seleccionar ingrediente"}),s.map(U=>l.jsxs("option",{value:U.id,children:[U.name," (",U.unit==="units"?"unidades":"kg",")"]},U.id))]}),l.jsx("input",{type:"number",step:"0.001",required:!z.is_variable,disabled:z.is_variable,value:z.is_variable?"":z.quantity,onChange:U=>M(Z,"quantity",U.target.value),placeholder:z.is_variable?"Variable":"Cantidad",className:"w-28 px-3 py-2 border rounded-lg",style:{backgroundColor:z.is_variable?"var(--color-background-accent)":"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)",opacity:z.is_variable?.5:1}}),l.jsxs("label",{className:"flex items-center gap-1 px-2 cursor-pointer",title:"Puede quitarse en POS",children:[l.jsx("input",{type:"checkbox",checked:z.removable,onChange:U=>M(Z,"removable",U.target.checked),className:"w-4 h-4"}),l.jsx("span",{className:"text-xs whitespace-nowrap",style:{color:"var(--color-text)"},children:"Removible"})]}),l.jsx("button",{type:"button",onClick:()=>ie(Z),className:"px-3 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",children:l.jsx(wr,{size:18})})]}),l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:`variable_${Z}`,checked:z.is_variable,onChange:U=>M(Z,"is_variable",U.target.checked),className:"w-4 h-4"}),l.jsx("label",{htmlFor:`variable_${Z}`,className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Cantidad Variable (cliente elige al comprar)"})]}),z.is_variable&&l.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Mnimo"}),l.jsx("input",{type:"number",step:"1",min:"0",required:!0,value:z.min_quantity,onChange:U=>M(Z,"min_quantity",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Mximo"}),l.jsx("input",{type:"number",step:"1",min:"1",required:!0,value:z.max_quantity,onChange:U=>M(Z,"max_quantity",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Por defecto"}),l.jsx("input",{type:"number",step:"1",min:"0",required:!0,value:z.default_quantity,onChange:U=>M(Z,"default_quantity",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Precio/unidad ($)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:z.price_per_unit,onChange:U=>M(Z,"price_per_unit",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),!z.is_variable&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Vincular a ingrediente variable:"}),l.jsxs("select",{value:z.linked_to,onChange:U=>M(Z,"linked_to",U.target.value),className:"flex-1 px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"",children:"Sin vincular"}),C.filter((U,K)=>U.is_variable&&K!==Z&&U.materia_prima_id).map(U=>{const K=s.find(Q=>Q.id===U.materia_prima_id);return l.jsx("option",{value:U.materia_prima_id,children:(K==null?void 0:K.name)||"Desconocido"},U.materia_prima_id)})]})]}),z.linked_to&&l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--color-text)"},children:"Multiplicador:"}),l.jsx("input",{type:"number",step:"0.1",min:"0.1",required:!0,value:z.linked_multiplier,onChange:U=>M(Z,"linked_multiplier",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--color-text)"},children:"Offset (ej: -1):"}),l.jsx("input",{type:"number",step:"1",value:z.quantity,onChange:U=>M(Z,"quantity",U.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]})]})]},Z))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Precio de Venta ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:_.price,onChange:z=>N({..._,price:z.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),!_.uses_materia_prima&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Costo ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:_.production_cost,onChange:z=>N({..._,production_cost:z.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),!_.uses_materia_prima&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Stock"}),l.jsx("input",{type:"number",required:!0,value:_.stock,onChange:z=>N({..._,stock:z.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),_.uses_materia_prima&&l.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-text)"},children:l.jsx("p",{className:"text-sm opacity-80",style:{color:"var(--color-text)"},children:"El stock de este producto se calcula automticamente segn la disponibilidad de materia prima."})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Categora"}),l.jsx("select",{value:_.category,onChange:z=>N({..._,category:z.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:B.map(z=>l.jsx("option",{value:z.value,children:z.label},z.value))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"active",checked:_.active,onChange:z=>N({..._,active:z.target.checked}),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"active",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Activo"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ry,{size:18}),k?"Actualizar":"Guardar"]}),l.jsxs("button",{type:"button",onClick:H,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 dark:text-white font-semibold",children:[l.jsx(wr,{size:18}),"Cancelar"]})]})]})]})}),r.length===0?l.jsxs("div",{className:"text-center py-12 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(wo,{size:48,className:"mx-auto mb-4 opacity-40",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"text-lg opacity-60",style:{color:"var(--color-text)"},children:"No hay productos registrados"}),l.jsx("p",{className:"text-sm opacity-40 mt-2",style:{color:"var(--color-text)"},children:"Puedes empezar a agregarlos para verlos aqu"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(z=>l.jsxs("div",{className:"rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow border-2 relative",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-primary)"},children:[z.uses_materia_prima&&l.jsx("div",{className:"absolute top-3 right-3 p-1.5 rounded-lg",style:{backgroundColor:"var(--color-primary)",opacity:.9},title:"Usa Materia Prima",children:l.jsx(fa,{size:16,style:{color:"var(--color-on-primary)"}})}),l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:z.name}),l.jsx("p",{className:"text-sm opacity-60 capitalize",style:{color:"var(--color-text)"},children:z.category})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Precio de Venta:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(y[z.id]||z.price)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Costo:"}),l.jsxs("span",{className:"font-bold opacity-60",style:{color:"var(--color-text)"},children:[fe(z.production_cost),z.uses_materia_prima&&l.jsx("span",{className:"text-xs ml-1",children:"(auto)"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Margen:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:fe((y[z.id]||z.price)-z.production_cost)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Stock:"}),l.jsx("span",{className:"font-bold",style:{color:(z.uses_materia_prima?(v[z.id]||0)<10:z.stock<10)?"#ef4444":"var(--color-text)"},children:z.uses_materia_prima?`${at(v[z.id]||0)} (auto)`:at(z.stock)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Estado:"}),l.jsx("span",{className:"font-semibold",style:{color:"var(--color-primary)"},children:z.active?"Activo":"Inactivo"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>R(z),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ty,{size:14}),"Editar"]}),l.jsxs("button",{onClick:()=>Y(z.id),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Ja,{size:14}),"Eliminar"]})]})]},z.id))})]})}const uw={cash:"Efectivo",online:"Transferencia",card:"Tarjeta",on_delivery:"Contra Entrega",unpaid:"Sin Pagar"},dw=[2e4,1e4,5e3,2e3,1e3,500,200,100];function $4(){const{theme:e}=hc(),{sales:t,getSaleItems:r,loading:n,updateSale:o,refresh:a}=Qf(),[i,s]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(""),[y,x]=h.useState(new Set),[b,w]=h.useState("all"),[k,S]=h.useState("all"),[_,N]=h.useState("cash"),[C,I]=h.useState(0),[B,P]=h.useState([]),R=h.useMemo(()=>t.filter(O=>{if(p){const re=new Date(O.completed_at),[$,D,J]=p.split("-").map(Number),W=new Date($,D-1,J,0,0,0,0);if(re<W)return!1}if(v){const re=new Date(O.completed_at),[$,D,J]=v.split("-").map(Number),W=new Date($,D-1,J,23,59,59,999);if(re>W)return!1}if(y.size>0&&!y.has(O.payment_method)||b!=="all"&&O.order_type!==b)return!1;if(k!=="all"){const re=O.payment_method!=="unpaid";if(k==="paid"&&!re||k==="unpaid"&&re)return!1}return!0}),[t,p,v,y,b,k]),Y=O=>{x(re=>{const $=new Set(re);return $.has(O)?$.delete(O):$.add(O),$})},H=()=>{m(""),g(""),x(new Set),w("all"),S("all")},ae=p||v||y.size>0||b!=="all"||k!=="all",oe=h.useCallback(async O=>{const re=await r(O);u(re)},[r]),ie=O=>new Date(O).toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});h.useEffect(()=>{i&&(oe(i.id),N("cash"),I(0),P([]))},[oe,i]);const M=h.useMemo(()=>i?C-i.total_amount:0,[i,C]),V=h.useMemo(()=>{if(M<=0)return null;let O=M;const re=[];for(const $ of dw)if(O>=$){const D=Math.floor(O/$);re.push({bill_value:$,quantity:D}),O=O%$}return O>0?null:re},[M]),z=O=>{I(re=>re+O),P(re=>[...re,O])},Z=()=>{if(B.length>0){const O=B[B.length-1];I(re=>re-O),P(re=>re.slice(0,-1))}},U=()=>{I(0),P([])},K=()=>!i||i.payment_method!=="unpaid"?!1:_!=="cash"?!0:!(C<i.total_amount||M>0&&!V),Q=async()=>{if(!(!i||!K()))try{const O={payment_method:_};if(_==="cash"){if(O.cash_received=C,O.change_given=M,V){const J={};V.forEach(W=>{J[W.bill_value.toString()]=W.quantity}),O.bills_change=J}const D={};B.forEach(J=>{D[J.toString()]=(D[J.toString()]||0)+1}),O.bills_received=D}await o(i.id,O);const $=t.map(D=>D.id===i.id?{...D,...O}:D).find(D=>D.id===i.id);$&&s($),await a(),I(0),P([]),N("cash"),ve.success("Pago registrado correctamente!")}catch(O){console.error("Error marking sale as paid:",O),ve.error("Error al registrar el pago")}},he=async()=>{if(!i||c.length===0){ve.error("No hay venta seleccionada o la venta no tiene artculos");return}try{await q.init();const O=await q.get("app_settings","default");if(!(O!=null&&O.kds_enabled)||!(O!=null&&O.kds_url)){ve.error("KDS no est habilitado o no hay URL configurada");return}const re=await Promise.all(c.map(async D=>{let J="otros";try{const W=await q.get("products",D.product_id);W!=null&&W.category&&(J=W.category)}catch(W){console.warn(`Could not fetch category for product ${D.product_id}:`,W)}return{product_name:D.product_name,quantity:D.quantity,product_price:D.product_price,removed_ingredients:D.removed_ingredients||[],combo_name:D.combo_name||null,category:J,variable_ingredients:D.variable_ingredients?D.variable_ingredients.map(W=>({name:W.name,quantity:W.quantity})):null}})),$=await fetch(`${O.kds_url}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sale_number:i.sale_number,items:re,total:i.total_amount,payment_method:i.payment_method,scheduled_time:i.scheduled_time||null,customer_name:i.customer_name||null,order_type:i.order_type||null,delivery_address:i.order_type==="delivery"&&i.delivery_address||null,created_at:new Date().toISOString()})});if(!$.ok){const D=await $.text();console.error("Failed to send order to KDS:",$.statusText,D),ve.error(`Error al enviar a KDS: ${$.statusText}`);return}ve.success(`Venta #${i.sale_number} enviada a KDS correctamente`)}catch(O){console.error("Error sending sale to KDS:",O),ve.error("Error al enviar la venta a KDS")}};return n?l.jsx("div",{className:"p-6 dark:text-white",children:"Cargando..."}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(ey,{style:{color:"var(--color-primary)"}}),"Historial de Ventas"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Consult el registro completo de todas las transacciones realizadas"})]}),l.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:ae?"var(--color-accent)":"var(--color-background-secondary)",color:ae?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(_S,{size:18}),"Filtros",ae&&l.jsx("span",{className:"w-5 h-5 rounded-full text-xs flex items-center justify-center",style:{backgroundColor:"var(--color-on-accent)",color:"var(--color-accent)"},children:(p?1:0)+(v?1:0)+y.size+(b!=="all"?1:0)+(k!=="all"?1:0)})]})]}),d&&l.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Filtros"}),ae&&l.jsxs("button",{onClick:H,className:"text-sm flex items-center gap-1 hover:opacity-80",style:{color:"var(--color-primary)"},children:[l.jsx(wr,{size:14}),"Limpiar filtros"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Fecha desde"}),l.jsx("input",{type:"date",value:p,onChange:O=>m(O.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Fecha hasta"}),l.jsx("input",{type:"date",value:v,onChange:O=>g(O.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Tipo de pedido"}),l.jsx("div",{className:"flex gap-1",children:["all","pickup","delivery"].map(O=>l.jsx("button",{onClick:()=>w(O),className:"flex-1 px-2 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:b===O?"var(--color-accent)":"var(--color-background)",color:b===O?"var(--color-on-accent)":"var(--color-text)"},children:O==="all"?"Todos":O==="pickup"?"Retiro":"Delivery"},O))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Estado de pago"}),l.jsx("div",{className:"flex gap-1",children:["all","paid","unpaid"].map(O=>l.jsx("button",{onClick:()=>S(O),className:"flex-1 px-2 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:k===O?"var(--color-accent)":"var(--color-background)",color:k===O?"var(--color-on-accent)":"var(--color-text)"},children:O==="all"?"Todos":O==="paid"?"Pagado":"Sin pagar"},O))})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Mtodo de pago"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"cash",label:"Efectivo",icon:Cd},{key:"online",label:"Transferencia",icon:Pd},{key:"card",label:"Tarjeta",icon:xl},{key:"on_delivery",label:"Contra Entrega",icon:dr}].map(({key:O,label:re,icon:$})=>l.jsxs("button",{onClick:()=>Y(O),className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all",style:{backgroundColor:y.has(O)?"var(--color-accent)":"var(--color-background)",color:y.has(O)?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx($,{size:14}),re]},O))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Ventas Recientes"}),l.jsxs("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[R.length," ",R.length===1?"venta":"ventas",ae&&` (de ${t.length})`]})]}),l.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-auto scrollbar-hide",children:R.length===0?l.jsx("div",{className:"text-center text-gray-400 py-8",children:ae?"No hay ventas que coincidan con los filtros":"An no hay ventas"}):R.map(O=>l.jsxs("div",{onClick:()=>s(O),className:`p-4 rounded-lg cursor-pointer transition-all ${(i==null?void 0:i.id)===O.id?"":"hover:opacity-70"} ${O.payment_method==="unpaid"?"border-l-4":""}`,style:{backgroundColor:(i==null?void 0:i.id)===O.id?"var(--color-primary)":O.payment_method==="unpaid"?"var(--color-accent-light, rgba(239, 68, 68, 0.1))":"var(--color-background-accent)",color:(i==null?void 0:i.id)===O.id?"var(--color-on-primary)":"var(--color-text)",borderLeftColor:O.payment_method==="unpaid"?"#ef4444":void 0},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-2xl font-bold",style:{color:(i==null?void 0:i.id)===O.id?"var(--color-on-primary)":"var(--color-text)"},children:["#",parseInt(O.sale_number.replace(/^S-/,"")).toLocaleString("es-AR")]}),O.payment_method==="unpaid"&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-bold",style:{backgroundColor:"#ef4444",color:"white"},children:"SIN PAGAR"})]}),l.jsx("div",{className:"text-lg font-bold",children:fe(O.total_amount)})]}),l.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[l.jsx(rI,{size:14}),ie(O.completed_at)]}),l.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["Pago:"," ",uw[O.payment_method]||O.payment_method,O.cash_received&&` | Recibido: ${fe(O.cash_received)}`]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[O.customer_name&&l.jsxs("span",{className:"text-xs flex items-center gap-1 opacity-80",children:[l.jsx(wl,{size:12}),O.customer_name]}),O.order_type&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium flex items-center gap-1",style:{backgroundColor:O.order_type==="delivery"?"#3b82f6":"#10b981",color:"white"},children:O.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(dr,{size:10})," Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(bl,{size:10})," Retiro"]})})]})]},O.id))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Detalles de Venta"}),i?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Venta"}),l.jsxs("div",{className:"text-2xl font-bold mb-3",children:["#",parseInt(i.sale_number.replace(/^S-/,"")).toLocaleString("es-AR")]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Fecha"}),l.jsx("div",{className:"font-semibold",children:ie(i.completed_at)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Pago"}),l.jsx("div",{className:"font-semibold",children:uw[i.payment_method]||i.payment_method})]}),i.customer_name&&l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Cliente"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(wl,{size:12}),i.customer_name]})]}),i.order_type&&l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Tipo"}),l.jsx("div",{className:"font-semibold flex items-center gap-1",children:i.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(dr,{size:12})," Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(bl,{size:12})," Retiro"]})})]})]}),i.delivery_address&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Direccin"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(fI,{size:12}),i.delivery_address]})]}),i.scheduled_time&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Hora programada"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(yl,{size:12}),new Date(i.scheduled_time).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]}),i.delivered_at&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Entregado"}),l.jsx("div",{className:"font-semibold",children:ie(i.delivered_at)})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Artculos"]}),l.jsx("div",{className:"space-y-2",children:(()=>{const O=new Map,re=[];c.forEach(E=>{if(E.combo_instance_id&&E.combo_name){const ue=O.get(E.combo_instance_id);ue?ue.items.push(E):O.set(E.combo_instance_id,{comboName:E.combo_name,items:[E]})}else if(E.combo_name&&!E.combo_instance_id){let ue=!1;O.forEach((le,ge)=>{ge.startsWith("legacy-")&&le.comboName===E.combo_name&&(le.items.push(E),ue=!0)}),ue||O.set(`legacy-${E.combo_name}-${crypto.randomUUID()}`,{comboName:E.combo_name,items:[E]})}else re.push(E)});const $=E=>{const ue=(E.removed_ingredients||[]).sort().join(",");return`${E.product_name}|${ue}`},D=E=>[...E].sort((le,ge)=>(le.combo_slot_index??0)-(ge.combo_slot_index??0)).map($).join("::"),J=[],W=new Map;return O.forEach(({comboName:E,items:ue})=>{var He;const le=`${E}::${D(ue)}`,ge=(He=ue[0])==null?void 0:He.combo_unit_price,we=ge!==void 0?ge:ue.reduce((Re,Le)=>Re+Le.subtotal,0),Me=W.get(le);if(Me)Me.quantity++,Me.total+=we;else{const Re={comboName:E,items:ue,quantity:1,unitPrice:we,total:we};W.set(le,Re),J.push(Re)}}),l.jsxs(l.Fragment,{children:[J.map((E,ue)=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("div",{className:"font-bold flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:E.quantity>1?`${E.quantity}x COMBO`:"COMBO"}),E.comboName]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:E.quantity>1?l.jsxs("span",{children:[fe(E.unitPrice),"  ",E.quantity," = ",fe(E.total)]}):l.jsx("span",{children:fe(E.total)})})]}),l.jsx("div",{className:"pl-3 border-l-2 space-y-1",style:{borderColor:"var(--color-accent)"},children:[...E.items].sort((le,ge)=>(le.combo_slot_index??0)-(ge.combo_slot_index??0)).map((le,ge)=>l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)"},children:le.product_name}),le.removed_ingredients&&le.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic",style:{color:"var(--color-primary)"},children:["Sin:"," ",le.removed_ingredients.join(", ")]})]},ge))})]},`${E.comboName}-${ue}`)),re.map(E=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:E.product_name}),l.jsxs("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[fe(E.product_price)," "," ",at(E.quantity)]})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(E.subtotal)})]}),E.removed_ingredients&&E.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic mt-1",style:{color:"var(--color-primary)"},children:["Sin: ",E.removed_ingredients.join(", ")]})]},E.id))]})})()})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-lg",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"font-bold",children:fe(i.total_amount)})]}),i.cash_received&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",children:fe(i.cash_received)})]}),i.bills_received&&Object.keys(i.bills_received).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(i.bills_received).sort(([O],[re])=>Number(re)-Number(O)).map(([O,re])=>l.jsxs("span",{className:`text-xs px-2 py-1 rounded ${e==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}`,children:[at(re),"x"," ",fe(Number(O))]},O))})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-300 mb-2",children:[l.jsx("span",{className:"font-semibold",children:"Cambio Entregado:"}),l.jsx("span",{className:"font-bold",children:fe(i.change_given||0)})]}),i.bills_change&&Object.keys(i.bills_change).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(i.bills_change).sort(([O],[re])=>Number(re)-Number(O)).map(([O,re])=>l.jsxs("span",{className:`text-xs px-2 py-1 rounded ${e==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}`,children:[at(re),"x"," ",fe(Number(O))]},O))})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:he,disabled:!i||c.length===0,className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(dr,{size:18}),"Enviar a KDS"]})}),i.payment_method==="unpaid"&&l.jsxs("div",{className:"mt-6 p-4 rounded-lg border-2 border-dashed",style:{borderColor:"var(--color-accent)"},children:[l.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(Nd,{size:18}),"Marcar como Pagado"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>N("cash"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Cd,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>N("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Pd,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>N("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>N("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(dr,{size:16}),"Contra Entrega"]})]}),_==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(C)})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:dw.map(O=>l.jsx("button",{onClick:()=>z(O),className:"py-2 rounded-lg text-xs font-semibold transition-all hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:fe(O)},O))}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{onClick:Z,disabled:B.length===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Deshacer"}),l.jsx("button",{onClick:U,disabled:C===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Reiniciar"})]}),C>=i.total_amount&&l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Cambio:"}),l.jsx("span",{className:"font-bold",children:fe(M)})]}),V&&M>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:V.map((O,re)=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[O.quantity,"x ",fe(O.bill_value)]},re))}),!V&&M>0&&l.jsx("div",{className:"text-xs text-center opacity-70",style:{color:"var(--color-text)"},children:"No se puede dar cambio exacto"})]})]}),l.jsx("button",{onClick:Q,disabled:!K(),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Confirmar Pago"})]})]}):l.jsx("div",{className:"text-center text-gray-400 py-12",children:"Selecciona una venta para ver detalles"})]})]})]})}var F4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function fy(e){if(typeof e!="string")return!1;var t=F4;return t.includes(e)}var B4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],U4=new Set(B4);function yC(e){return typeof e!="string"?!1:U4.has(e)}function xC(e){return typeof e=="string"&&e.startsWith("data-")}function Jn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yC(r)||xC(r))&&(t[r]=e[r]);return t}function Zf(e){if(e==null)return null;if(h.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Jn(t)}return typeof e=="object"&&!Array.isArray(e)?Jn(e):null}function Sr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yC(r)||xC(r)||fy(r))&&(t[r]=e[r]);return t}function q4(e){return e==null?null:h.isValidElement(e)?Sr(e.props):typeof e=="object"&&!Array.isArray(e)?Sr(e):null}var W4=["children","width","height","viewBox","className","style","title","desc"];function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}function K4(e,t){if(e==null)return{};var r,n,o=H4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function H4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bC=h.forwardRef((e,t)=>{var{children:r,width:n,height:o,viewBox:a,className:i,style:s,title:c,desc:u}=e,d=K4(e,W4),f=a||{width:n,height:o,x:0,y:0},p=et("recharts-surface",i);return h.createElement("svg",lv({},Sr(d),{className:p,width:n,height:o,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,u),r)}),V4=["children","className"];function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function Y4(e,t){if(e==null)return{};var r,n,o=G4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function G4(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var va=h.forwardRef((e,t)=>{var{children:r,className:n}=e,o=Y4(e,V4),a=et("recharts-layer",n);return h.createElement("g",cv({className:a},Sr(o),{ref:t}),r)}),X4=h.createContext(null);function ot(e){return function(){return e}}const wC=Math.cos,zd=Math.sin,Bn=Math.sqrt,Ld=Math.PI,Jf=2*Ld,uv=Math.PI,dv=2*uv,Da=1e-6,Q4=dv-Da;function kC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Z4(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return kC;const r=10**t;return function(n){this._+=n[0];for(let o=1,a=n.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class J4{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?kC:Z4(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,a,i){this._append`C${+t},${+r},${+n},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,o,a){if(t=+t,r=+r,n=+n,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,c=n-t,u=o-r,d=i-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Da)if(!(Math.abs(f*c-u*d)>Da)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,v=o-s,g=c*c+u*u,y=m*m+v*v,x=Math.sqrt(g),b=Math.sqrt(p),w=a*Math.tan((uv-Math.acos((g+p-y)/(2*x*b)))/2),k=w/b,S=w/x;Math.abs(k-1)>Da&&this._append`L${t+k*d},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,o,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(o),c=n*Math.sin(o),u=t+s,d=r+c,f=1^i,p=i?o-a:a-o;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Da||Math.abs(this._y1-d)>Da)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%dv+dv),p>Q4?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Da&&this._append`A${n},${n},0,${+(p>=uv)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function py(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new J4(t)}function my(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _C(e){this._context=e}_C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ep(e){return new _C(e)}function jC(e){return e[0]}function SC(e){return e[1]}function CC(e,t){var r=ot(!0),n=null,o=ep,a=null,i=py(s);e=typeof e=="function"?e:e===void 0?jC:ot(e),t=typeof t=="function"?t:t===void 0?SC:ot(t);function s(c){var u,d=(c=my(c)).length,f,p=!1,m;for(n==null&&(a=o(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:ot(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:ot(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ot(!!c),s):r},s.curve=function(c){return arguments.length?(o=c,n!=null&&(a=o(n)),s):o},s.context=function(c){return arguments.length?(c==null?n=a=null:a=o(n=c),s):n},s}function wu(e,t,r){var n=null,o=ot(!0),a=null,i=ep,s=null,c=py(u);e=typeof e=="function"?e:e===void 0?jC:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?SC:ot(+r);function u(f){var p,m,v,g=(f=my(f)).length,y,x=!1,b,w=new Array(g),k=new Array(g);for(a==null&&(s=i(b=c())),p=0;p<=g;++p){if(!(p<g&&o(y=f[p],p,f))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(w[v],k[v]);s.lineEnd(),s.areaEnd()}x&&(w[p]=+e(y,p,f),k[p]=+t(y,p,f),s.point(n?+n(y,p,f):w[p],r?+r(y,p,f):k[p]))}if(b)return s=null,b+""||null}function d(){return CC().defined(o).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ot(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ot(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ot(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ot(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(o=typeof f=="function"?f:ot(!!f),u):o},u.curve=function(f){return arguments.length?(i=f,a!=null&&(s=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=s=null:s=i(a=f),u):a},u}class NC{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function eR(e){return new NC(e,!0)}function tR(e){return new NC(e,!1)}const hy={draw(e,t){const r=Bn(t/Ld);e.moveTo(r,0),e.arc(0,0,r,0,Jf)}},rR={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},PC=Bn(1/3),nR=PC*2,oR={draw(e,t){const r=Bn(t/nR),n=r*PC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},aR={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},iR=.8908130915292852,EC=zd(Ld/10)/zd(7*Ld/10),sR=zd(Jf/10)*EC,lR=-wC(Jf/10)*EC,cR={draw(e,t){const r=Bn(t*iR),n=sR*r,o=lR*r;e.moveTo(0,-r),e.lineTo(n,o);for(let a=1;a<5;++a){const i=Jf*a/5,s=wC(i),c=zd(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*o,c*n+s*o)}e.closePath()}},$m=Bn(3),uR={draw(e,t){const r=-Bn(t/($m*3));e.moveTo(0,r*2),e.lineTo(-$m*r,-r),e.lineTo($m*r,-r),e.closePath()}},dn=-.5,fn=Bn(3)/2,fv=1/Bn(12),dR=(fv/2+1)*3,fR={draw(e,t){const r=Bn(t/dR),n=r/2,o=r*fv,a=n,i=r*fv+r,s=-a,c=i;e.moveTo(n,o),e.lineTo(a,i),e.lineTo(s,c),e.lineTo(dn*n-fn*o,fn*n+dn*o),e.lineTo(dn*a-fn*i,fn*a+dn*i),e.lineTo(dn*s-fn*c,fn*s+dn*c),e.lineTo(dn*n+fn*o,dn*o-fn*n),e.lineTo(dn*a+fn*i,dn*i-fn*a),e.lineTo(dn*s+fn*c,dn*c-fn*s),e.closePath()}};function pR(e,t){let r=null,n=py(o);e=typeof e=="function"?e:ot(e||hy),t=typeof t=="function"?t:ot(t===void 0?64:+t);function o(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return o.type=function(a){return arguments.length?(e=typeof a=="function"?a:ot(a),o):e},o.size=function(a){return arguments.length?(t=typeof a=="function"?a:ot(+a),o):t},o.context=function(a){return arguments.length?(r=a??null,o):r},o}function $d(){}function Fd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OC(e){this._context=e}OC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Fd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mR(e){return new OC(e)}function AC(e){this._context=e}AC.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hR(e){return new AC(e)}function DC(e){this._context=e}DC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Fd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vR(e){return new DC(e)}function MC(e){this._context=e}MC.prototype={areaStart:$d,areaEnd:$d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function gR(e){return new MC(e)}function fw(e){return e<0?-1:1}function pw(e,t,r){var n=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(r-e._y1)/(o||n<0&&-0),s=(a*o+i*n)/(n+o);return(fw(a)+fw(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function mw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Fm(e,t,r){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,o+s*t,a-s,i-s*r,a,i)}function Bd(e){this._context=e}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fm(this,this._t0,mw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Fm(this,mw(this,r=pw(this,e,t)),r);break;default:Fm(this,this._t0,r=pw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function IC(e){this._context=new TC(e)}(IC.prototype=Object.create(Bd.prototype)).point=function(e,t){Bd.prototype.point.call(this,t,e)};function TC(e){this._context=e}TC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,a){this._context.bezierCurveTo(t,e,n,r,a,o)}};function yR(e){return new Bd(e)}function xR(e){return new IC(e)}function RC(e){this._context=e}RC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hw(e),o=hw(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hw(e){var t,r=e.length-1,n,o=new Array(r),a=new Array(r),i=new Array(r);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(o[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function bR(e){return new RC(e)}function tp(e,t){this._context=e,this._t=t}tp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function wR(e){return new tp(e,.5)}function kR(e){return new tp(e,0)}function _R(e){return new tp(e,1)}function es(e,t){if((i=e.length)>1)for(var r=1,n,o,a=e[t[0]],i,s=a.length;r<i;++r)for(o=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function pv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jR(e,t){return e[t]}function SR(e){const t=[];return t.key=e,t}function CR(){var e=ot([]),t=pv,r=es,n=jR;function o(a){var i=Array.from(e.apply(this,arguments),SR),s,c=i.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(i[s][u]=[0,+n(f,i[s].key,u,a)]).data=f;for(s=0,d=my(t(i));s<c;++s)i[d[s]].index=s;return r(i,d),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ot(Array.from(a)),o):e},o.value=function(a){return arguments.length?(n=typeof a=="function"?a:ot(+a),o):n},o.order=function(a){return arguments.length?(t=a==null?pv:typeof a=="function"?a:ot(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(r=a??es,o):r},o}function NR(e,t){if((n=e.length)>0){for(var r,n,o=0,a=e[0].length,i;o<a;++o){for(i=r=0;r<n;++r)i+=e[r][o][1]||0;if(i)for(r=0;r<n;++r)e[r][o][1]/=i}es(e,t)}}function PR(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,a=n.length;r<a;++r){for(var i=0,s=0;i<o;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}es(e,t)}}function ER(e,t){if(!(!((i=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,a,i;n<a;++n){for(var s=0,c=0,u=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,m=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;m+=y-x}c+=f,u+=m*f}o[n-1][1]+=o[n-1][0]=r,c&&(r-=u/c)}o[n-1][1]+=o[n-1][0]=r,es(e,t)}}var rp={},zC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(zC);var vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(vy);var np={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(np);var op={},LC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(LC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LC,r=np;function n(o){if(Array.isArray(o))return o.map(r.toKey);if(typeof o=="symbol")return[o];o=t.toString(o);const a=[],i=o.length;if(i===0)return a;let s=0,c="",u="",d=!1;for(o.charCodeAt(0)===46&&(a.push(""),s++);s<i;){const f=o[s];u?f==="\\"&&s+1<i?(s++,c+=o[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,s++}return c&&a.push(c),a}e.toPath=n})(op);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zC,r=vy,n=np,o=op;function a(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?a(s,o.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function i(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(rp);var OR=rp.get;const ap=oo(OR);var yn=e=>e===0?0:e>0?1:-1,eo=e=>typeof e=="number"&&e!=+e,Po=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!eo(e),to=e=>Ee(e)||typeof e=="string",AR=0,Yl=e=>{var t=++AR;return"".concat(e||"").concat(t)},ga=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return n;var a;if(Po(t)){if(r==null)return n;var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return eo(a)&&(a=n),o&&r!=null&&a>r&&(a=r),a},$C=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Lr(e,t,r){return Ee(e)&&Ee(t)?e+r*(t-e):t}function FC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ap(n,t))===r)}var Gt=e=>e===null||typeof e>"u",wc=e=>Gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function DR(e){return e!=null}function kc(){}var MR=["type","size","sizeType"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function vw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vw(Object(r),!0).forEach(function(n){IR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IR(e,t,r){return(t=TR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TR(e){var t=RR(e,"string");return typeof t=="symbol"?t:t+""}function RR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zR(e,t){if(e==null)return{};var r,n,o=LR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function LR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BC={symbolCircle:hy,symbolCross:rR,symbolDiamond:oR,symbolSquare:aR,symbolStar:cR,symbolTriangle:uR,symbolWye:fR},$R=Math.PI/180,FR=e=>{var t="symbol".concat(wc(e));return BC[t]||hy},BR=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*$R;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},UR=(e,t)=>{BC["symbol".concat(wc(e))]=t},UC=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,o=zR(e,MR),a=gw(gw({},o),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var s=()=>{var p=FR(i),m=pR().type(p).size(BR(r,n,i)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=a,f=Sr(a);return Ee(u)&&Ee(d)&&Ee(r)?h.createElement("path",mv({},f,{className:et("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};UC.registerSymbol=UR;var qC=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,gy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(o=>{fy(o)&&(n[o]=a=>r[o](r,a))}),n},qR=(e,t,r)=>n=>(e(t,r,n),null),WR=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(o=>{var a=e[o];fy(o)&&typeof a=="function"&&(n||(n={}),n[o]=qR(a,t,r))}),n};function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function KR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){HR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HR(e,t,r){return(t=VR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VR(e){var t=YR(e,"string");return typeof t=="symbol"?t:t+""}function YR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wr(e,t){var r=KR({},e),n=t,o=Object.keys(t),a=o.reduce((i,s)=>(i[s]===void 0&&n[s]!==void 0&&(i[s]=n[s]),i),r);return a}var WC={},KC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const o=new Map;for(let a=0;a<r.length;a++){const i=r[a],s=n(i);o.has(s)||o.set(s,i)}return Array.from(o.values())}e.uniqBy=t})(KC);var yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(yy);var HC={},ip={},VC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(VC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VC;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ip);var YC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(YC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ip,r=YC;function n(o){return r.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=n})(HC);var GC={},XC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rp;function r(n){return function(o){return t.get(o,n)}}e.property=r})(XC);var QC={},xy={},ZC={},by={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(by);var wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(wy);var ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(ky);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=by,r=wy,n=ky;function o(d,f,p){return typeof p!="function"?o(d,f,()=>{}):a(d,f,function m(v,g,y,x,b,w){const k=p(v,g,y,x,b,w);return k!==void 0?!!k:a(v,g,m,w)},new Map)}function a(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,p,m);case"function":return Object.keys(f).length>0?a(d,{...f},p,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const v=Object.keys(f);if(d==null)return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<v.length;g++){const y=v[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!p(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const y=d.get(v);if(p(y,g,v,d,f,m)===!1)return!1}return!0}function c(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(v.has(b))continue;const w=d[b];let k=!1;if(p(w,y,g,d,f,m)&&(k=!0),k){v.add(b),x=!0;break}}if(!x)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],p,m):!1}e.isMatchWith=o,e.isSetMatch=u})(ZC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZC;function r(n,o){return t.isMatchWith(n,o,()=>{})}e.isMatch=r})(xy);var JC={},_y={},e2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(e2);var jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(jy);var Sy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",o="[object Boolean]",a="[object Arguments]",i="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",S="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",C="[object BigInt64Array]",I="[object Float32Array]",B="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=k,e.booleanTag=o,e.dataViewTag=g,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=I,e.float64ArrayTag=B,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(Sy);var t2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(t2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e2,r=jy,n=Sy,o=wy,a=t2;function i(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,v=void 0){const g=v==null?void 0:v(d,f,p,m);if(g!==void 0)return g;if(o.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=s(d[x],x,p,m,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,s(b,x,p,m,v));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(s(x,void 0,p,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=s(d[x],x,p,m,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,p,m,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,p,m,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,p,m,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,p,m,v),y}return d}function c(d,f,p=d,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=s(f[x],x,p,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=s,e.copyProperties=c})(_y);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(JC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy,r=JC;function n(o){return o=r.cloneDeep(o),a=>t.isMatch(a,o)}e.matches=n})(QC);var r2={},n2={},o2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_y,r=Sy;function n(o,a){return t.cloneDeepWith(o,(i,s,c,u)=>{const d=a==null?void 0:a(i,s,c,u);if(d!==void 0)return d;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(f,o),f}case r.argumentsTag:{const f={};return t.copyProperties(f,o),f.length=o.length,f[Symbol.iterator]=o[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(o2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(n2);var a2={},Cy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,o=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<o;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Cy);var i2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(i2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vy,r=Cy,n=i2,o=op;function a(i,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(i==null?void 0:i[s])==null?c=o.toPath(s):c=[s],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(a2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xy,r=np,n=n2,o=rp,a=a2;function i(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=o.get(u,s);return d===void 0?a.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(r2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yy,r=XC,n=QC,o=r2;function a(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?o.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=a})(GC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KC,r=yy,n=HC,o=GC;function a(i,s=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),o.iteratee(s)):[]}e.uniqBy=a})(WC);var GR=WC.uniqBy;const xw=oo(GR);function XR(e,t,r){return t===!0?xw(e,r):typeof t=="function"?xw(e,t):e}var s2={exports:{}},l2={},c2={exports:{}},u2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ts=h;function QR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZR=typeof Object.is=="function"?Object.is:QR,JR=ts.useState,e5=ts.useEffect,t5=ts.useLayoutEffect,r5=ts.useDebugValue;function n5(e,t){var r=t(),n=JR({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return t5(function(){o.value=r,o.getSnapshot=t,Bm(o)&&a({inst:o})},[e,r,t]),e5(function(){return Bm(o)&&a({inst:o}),e(function(){Bm(o)&&a({inst:o})})},[e]),r5(r),r}function Bm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ZR(e,r)}catch{return!0}}function o5(e,t){return t()}var a5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o5:n5;u2.useSyncExternalStore=ts.useSyncExternalStore!==void 0?ts.useSyncExternalStore:a5;c2.exports=u2;var i5=c2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=h,s5=i5;function l5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c5=typeof Object.is=="function"?Object.is:l5,u5=s5.useSyncExternalStore,d5=sp.useRef,f5=sp.useEffect,p5=sp.useMemo,m5=sp.useDebugValue;l2.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=d5(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=p5(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return f=v}return f=m}if(v=f,c5(d,m))return v;var g=n(m);return o!==void 0&&o(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var s=u5(e,a[0],a[1]);return f5(function(){i.hasValue=!0,i.value=s},[s]),m5(s),s};s2.exports=l2;var h5=s2.exports,Ny=h.createContext(null),v5=e=>e,Qt=()=>{var e=h.useContext(Ny);return e?e.store.dispatch:v5},Xu=()=>{},g5=()=>Xu,y5=(e,t)=>e===t;function Oe(e){var t=h.useContext(Ny);return h5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:g5,t?t.store.getState:Xu,t?t.store.getState:Xu,t?e:Xu,y5)}function x5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function b5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function w5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var bw=e=>Array.isArray(e)?e:[e];function k5(e){const t=Array.isArray(e[0])?e[0]:e;return w5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function _5(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var j5=class{constructor(e){this.value=e}deref(){return this.value}},S5=typeof WeakRef<"u"?WeakRef:j5,C5=0,ww=1;function ku(){return{s:C5,v:void 0,o:null,p:null}}function d2(e,t={}){let r=ku();const{resultEqualityCheck:n}=t;let o,a=0;function i(){var f;let s=r;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(v);y===void 0?(s=ku(),g.set(v,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(v);y===void 0?(s=ku(),g.set(v,s)):s=y}}const u=s;let d;if(s.s===ww)d=s.v;else if(d=e.apply(null,arguments),a++,n){const p=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;p!=null&&n(p,d)&&(d=p,a!==0&&a--),o=typeof d=="object"&&d!==null||typeof d=="function"?new S5(d):d}return u.s=ww,u.v=d,d}return i.clearCache=()=>{r=ku(),i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function N5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let a=0,i=0,s,c={},u=o.pop();typeof u=="object"&&(c=u,u=o.pop()),x5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=d2,argsMemoizeOptions:v=[]}=d,g=bw(p),y=bw(v),x=k5(o),b=f(function(){return a++,u.apply(null,arguments)},...g),w=m(function(){i++;const S=_5(x,arguments);return s=b.apply(null,S),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var X=N5(d2),P5=Object.assign((e,t=X)=>{b5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((i,s,c)=>(i[r[c]]=s,i),{}))},{withTypes:()=>P5}),f2={},p2={},m2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,o,a)=>{if(n!==o){const i=t(n),s=t(o);if(i===s&&i===0){if(n<o)return a==="desc"?1:-1;if(n>o)return a==="desc"?-1:1}return a==="desc"?s-i:i-s}return 0};e.compareValues=r})(m2);var h2={},Py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Py);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Py,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(a,i){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||i!=null&&Object.hasOwn(i,a)}e.isKey=o})(h2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m2,r=h2,n=op;function o(a,i,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let g=m;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],v.criteria[g],s[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=o})(p2);var v2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const o=[],a=Math.floor(n),i=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<a?i(d,c+1):o.push(d)}};return i(r,0),o}e.flatten=t})(v2);var Ey={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy,r=ip,n=by,o=ky;function a(i,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?o.eq(c[s],i):!1}e.isIterateeCall=a})(Ey);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p2,r=v2,n=Ey;function o(a,...i){const s=i.length;return s>1&&n.isIterateeCall(a,i[0],i[1])?i=[]:s>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(a,r.flatten(i),["asc"])}e.sortBy=o})(f2);var E5=f2.sortBy;const lp=oo(E5);var g2=e=>e.legend.settings,O5=e=>e.legend.size,A5=e=>e.legend.payload;X([A5,g2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?lp(n,r):n});var _u=1;function D5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),n=h.useCallback(o=>{if(o!=null){var a=o.getBoundingClientRect(),i={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(i.height-t.height)>_u||Math.abs(i.left-t.left)>_u||Math.abs(i.top-t.top)>_u||Math.abs(i.width-t.width)>_u)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var M5=typeof Symbol=="function"&&Symbol.observable||"@@observable",kw=M5,Um=()=>Math.random().toString(36).substring(7).split("").join("."),I5={INIT:`@@redux/INIT${Um()}`,REPLACE:`@@redux/REPLACE${Um()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Um()}`},Ud=I5;function Oy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function y2(e,t,r){if(typeof e!="function")throw new Error(nr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nr(1));return r(y2)(e,t)}let n=e,o=t,a=new Map,i=a,s=0,c=!1;function u(){i===a&&(i=new Map,a.forEach((y,x)=>{i.set(x,y)}))}function d(){if(c)throw new Error(nr(3));return o}function f(y){if(typeof y!="function")throw new Error(nr(4));if(c)throw new Error(nr(5));let x=!0;u();const b=s++;return i.set(b,y),function(){if(x){if(c)throw new Error(nr(6));x=!1,u(),i.delete(b),a=null}}}function p(y){if(!Oy(y))throw new Error(nr(7));if(typeof y.type>"u")throw new Error(nr(8));if(typeof y.type!="string")throw new Error(nr(17));if(c)throw new Error(nr(9));try{c=!0,o=n(o,y)}finally{c=!1}return(a=i).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(nr(10));n=y,p({type:Ud.REPLACE})}function v(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(nr(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:y(b)}},[kw](){return this}}}return p({type:Ud.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[kw]:v}}function T5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ud.INIT})>"u")throw new Error(nr(12));if(typeof r(void 0,{type:Ud.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function x2(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const i=t[a];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let o;try{T5(r)}catch(a){o=a}return function(i={},s){if(o)throw o;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],m=i[f],v=p(m,s);if(typeof v>"u")throw s&&s.type,new Error(nr(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function qd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function R5(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(nr(15))};const i={getState:o.getState,dispatch:(c,...u)=>a(c,...u)},s=e.map(c=>c(i));return a=qd(...s)(o.dispatch),{...o,dispatch:a}}}function b2(e){return Oy(e)&&"type"in e&&typeof e.type=="string"}var w2=Symbol.for("immer-nothing"),_w=Symbol.for("immer-draftable"),Cr=Symbol.for("immer-state");function An(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jr=Object,rs=Jr.getPrototypeOf,Wd="constructor",cp="prototype",hv="configurable",Kd="enumerable",Qu="writable",Gl="value",Eo=e=>!!e&&!!e[Cr];function Fn(e){var t;return e?k2(e)||up(e)||!!e[_w]||!!((t=e[Wd])!=null&&t[_w])||dp(e)||fp(e):!1}var z5=Jr[cp][Wd].toString(),jw=new WeakMap;function k2(e){if(!e||!Ay(e))return!1;const t=rs(e);if(t===null||t===Jr[cp])return!0;const r=Jr.hasOwnProperty.call(t,Wd)&&t[Wd];if(r===Object)return!0;if(!ki(r))return!1;let n=jw.get(r);return n===void 0&&(n=Function.toString.call(r),jw.set(r,n)),n===z5}function _c(e,t,r=!0){jc(e)===0?(r?Reflect.ownKeys(e):Jr.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((n,o)=>t(o,n,e))}function jc(e){const t=e[Cr];return t?t.type_:up(e)?1:dp(e)?2:fp(e)?3:0}var Sw=(e,t,r=jc(e))=>r===2?e.has(t):Jr[cp].hasOwnProperty.call(e,t),vv=(e,t,r=jc(e))=>r===2?e.get(t):e[t],Hd=(e,t,r,n=jc(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function L5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var up=Array.isArray,dp=e=>e instanceof Map,fp=e=>e instanceof Set,Ay=e=>typeof e=="object",ki=e=>typeof e=="function",qm=e=>typeof e=="boolean",fo=e=>e.copy_||e.base_,Dy=e=>e.modified_?e.copy_:e.base_;function gv(e,t){if(dp(e))return new Map(e);if(fp(e))return new Set(e);if(up(e))return Array[cp].slice.call(e);const r=k2(e);if(t===!0||t==="class_only"&&!r){const n=Jr.getOwnPropertyDescriptors(e);delete n[Cr];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const i=o[a],s=n[i];s[Qu]===!1&&(s[Qu]=!0,s[hv]=!0),(s.get||s.set)&&(n[i]={[hv]:!0,[Qu]:!0,[Kd]:s[Kd],[Gl]:e[i]})}return Jr.create(rs(e),n)}else{const n=rs(e);if(n!==null&&r)return{...e};const o=Jr.create(n);return Jr.assign(o,e)}}function My(e,t=!1){return pp(e)||Eo(e)||!Fn(e)||(jc(e)>1&&Jr.defineProperties(e,{set:ju,add:ju,clear:ju,delete:ju}),Jr.freeze(e),t&&_c(e,(r,n)=>{My(n,!0)},!1)),e}function $5(){An(2)}var ju={[Gl]:$5};function pp(e){return e===null||!Ay(e)?!0:Jr.isFrozen(e)}var Vd="MapSet",yv="Patches",_2={};function ns(e){const t=_2[e];return t||An(0,e),t}var F5=e=>!!_2[e],Xl,j2=()=>Xl,B5=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:F5(Vd)?ns(Vd):void 0});function Cw(e,t){t&&(e.patchPlugin_=ns(yv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function xv(e){bv(e),e.drafts_.forEach(U5),e.drafts_=null}function bv(e){e===Xl&&(Xl=e.parent_)}var Nw=e=>Xl=B5(Xl,e);function U5(e){const t=e[Cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Pw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Cr].modified_&&(xv(t),An(4)),Fn(e)&&(e=Ew(t,e));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(r[Cr].base_,e,t)}else e=Ew(t,r);return q5(t,e,!0),xv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==w2?e:void 0}function Ew(e,t){if(pp(t))return t;const r=t[Cr];if(!r)return Iy(t,e.handledSet_,e);if(!mp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);N2(r,e)}return r.copy_}function q5(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&My(t,r)}function S2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mp=(e,t)=>e.scope_===t,W5=[];function C2(e,t,r,n){const o=fo(e),a=e.type_;if(n!==void 0&&vv(o,n,a)===t){Hd(o,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;_c(o,(c,u)=>{if(Eo(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const i=e.draftLocations_.get(t)??W5;for(const s of i)Hd(o,s,r,a)}function K5(e,t,r){e.callbacks_.push(function(o){var s;const a=t;if(!a||!mp(a,o))return;(s=o.mapSetPlugin_)==null||s.fixSetContents(a);const i=Dy(a);C2(e,a.draft_??a,i,r),N2(a,o)})}function N2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:o}=t;if(o){const a=o.getPath(e);a&&o.generatePatches_(e,a,t)}S2(e)}}function H5(e,t,r){const{scope_:n}=e;if(Eo(r)){const o=r[Cr];mp(o,n)&&o.callbacks_.push(function(){Zu(e);const i=Dy(o);C2(e,r,i,t)})}else Fn(r)&&e.callbacks_.push(function(){const a=fo(e);vv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Iy(vv(e.copy_,t,e.type_),n.handledSet_,n)})}function Iy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Eo(e)||t.has(e)||!Fn(e)||pp(e)||(t.add(e),_c(e,(n,o)=>{if(Eo(o)){const a=o[Cr];if(mp(a,r)){const i=Dy(a);Hd(e,n,i,e.type_),S2(a)}}else Fn(o)&&Iy(o,t,r)})),e}function V5(e,t){const r=up(e),n={type_:r?1:0,scope_:t?t.scope_:j2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=n,a=Ty;r&&(o=[n],a=Ql);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,[s,n]}var Ty={get(e,t){if(t===Cr)return e;const r=fo(e);if(!Sw(r,t,e.type_))return Y5(e,r,t);const n=r[t];if(e.finalized_||!Fn(n))return n;if(n===Wm(e.base_,t)){Zu(e);const o=e.type_===1?+t:t,a=kv(e.scope_,n,e,o);return e.copy_[o]=a}return n},has(e,t){return t in fo(e)},ownKeys(e){return Reflect.ownKeys(fo(e))},set(e,t,r){const n=P2(fo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Wm(fo(e),t),a=o==null?void 0:o[Cr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(L5(r,o)&&(r!==void 0||Sw(e.base_,t,e.type_)))return!0;Zu(e),wv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),H5(e,t,r)),!0},deleteProperty(e,t){return Zu(e),Wm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),wv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Qu]:!0,[hv]:e.type_!==1||t!=="length",[Kd]:n[Kd],[Gl]:r[t]}},defineProperty(){An(11)},getPrototypeOf(e){return rs(e.base_)},setPrototypeOf(){An(12)}},Ql={};_c(Ty,(e,t)=>{Ql[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Ql.deleteProperty=function(e,t){return Ql.set.call(this,e,t,void 0)};Ql.set=function(e,t,r){return Ty.set.call(this,e[0],t,r,e[0])};function Wm(e,t){const r=e[Cr];return(r?fo(r):e)[t]}function Y5(e,t,r){var o;const n=P2(t,r);return n?Gl in n?n[Gl]:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function P2(e,t){if(!(t in e))return;let r=rs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=rs(r)}}function wv(e){e.modified_||(e.modified_=!0,e.parent_&&wv(e.parent_))}function Zu(e){e.copy_||(e.assigned_=new Map,e.copy_=gv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var G5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,o)=>{if(ki(r)&&!ki(n)){const i=n;n=r;const s=this;return function(u=i,...d){return s.produce(u,f=>n.call(this,f,...d))}}ki(n)||An(6),o!==void 0&&!ki(o)&&An(7);let a;if(Fn(r)){const i=Nw(this),s=kv(i,r,void 0);let c=!0;try{a=n(s),c=!1}finally{c?xv(i):bv(i)}return Cw(i,o),Pw(a,i)}else if(!r||!Ay(r)){if(a=n(r),a===void 0&&(a=r),a===w2&&(a=void 0),this.autoFreeze_&&My(a,!0),o){const i=[],s=[];ns(yv).generateReplacementPatches_(r,a,{patches_:i,inversePatches_:s}),o(i,s)}return a}else An(1,r)},this.produceWithPatches=(r,n)=>{if(ki(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let o,a;return[this.produce(r,n,(s,c)=>{o=s,a=c}),o,a]},qm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),qm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),qm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fn(t)||An(8),Eo(t)&&(t=Rn(t));const r=Nw(this),n=kv(r,t,void 0);return n[Cr].isManual_=!0,bv(r),n}finishDraft(t,r){const n=t&&t[Cr];(!n||!n.isManual_)&&An(9);const{scope_:o}=n;return Cw(o,r),Pw(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const o=ns(yv).applyPatches_;return Eo(t)?o(t,r):this.produce(t,a=>o(a,r))}};function kv(e,t,r,n){const[o,a]=dp(t)?ns(Vd).proxyMap_(t,r):fp(t)?ns(Vd).proxySet_(t,r):V5(t,r);return((r==null?void 0:r.scope_)??j2()).drafts_.push(o),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?K5(r,a,n):a.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),o}function Rn(e){return Eo(e)||An(10,e),E2(e)}function E2(e){if(!Fn(e)||pp(e))return e;const t=e[Cr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=gv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=gv(e,!0);return _c(r,(o,a)=>{Hd(r,o,E2(a))},n),t&&(t.finalized_=!1),r}var X5=new G5,O2=X5.produce;function A2(e){return({dispatch:r,getState:n})=>o=>a=>typeof a=="function"?a(r,n,e):o(a)}var Q5=A2(),Z5=A2,J5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qd:qd.apply(null,arguments)};function _n(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(tn(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>b2(n)&&n.type===e,r}var D2=class nl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,nl.prototype)}static get[Symbol.species](){return nl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new nl(...t[0].concat(this)):new nl(...t.concat(this))}};function Ow(e){return Fn(e)?O2(e,()=>{}):e}function Su(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function ez(e){return typeof e=="boolean"}var tz=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let i=new D2;return r&&(ez(r)?i.push(Q5):i.push(Z5(r.extraArgument))),i},M2="RTK_autoBatch",ht=()=>e=>({payload:e,meta:{[M2]:!0}}),Aw=e=>t=>{setTimeout(t,e)},I2=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,a=!1,i=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Aw(10):e.type==="callback"?e.queueNotification:Aw(e.timeout),u=()=>{i=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>o&&d(),p=n.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return o=!((f=d==null?void 0:d.meta)!=null&&f[M2]),a=!o,a&&(i||(i=!0,c(u))),n.dispatch(d)}finally{o=!0}}})},rz=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new D2(e);return n&&o.push(I2(typeof n=="object"?n:void 0)),o};function nz(e){const t=tz(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:a=void 0,enhancers:i=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Oy(r))s=x2(r);else throw new Error(tn(1));let c;typeof n=="function"?c=n(t):c=t();let u=qd;o&&(u=J5({trace:!1,...typeof o=="object"&&o}));const d=R5(...c),f=rz(d);let p=typeof i=="function"?i(f):f();const m=u(...p);return y2(s,a,m)}function T2(e){const t={},r=[];let n;const o={addCase(a,i){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(tn(28));if(s in t)throw new Error(tn(29));return t[s]=i,o},addAsyncThunk(a,i){return i.pending&&(t[a.pending.type]=i.pending),i.rejected&&(t[a.rejected.type]=i.rejected),i.fulfilled&&(t[a.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:a.settled,reducer:i.settled}),o},addMatcher(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function oz(e){return typeof e=="function"}function az(e,t){let[r,n,o]=T2(t),a;if(oz(e))a=()=>Ow(e());else{const s=Ow(e);a=()=>s}function i(s=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[o]),u.reduce((d,f)=>{if(f)if(Eo(d)){const m=f(d,c);return m===void 0?d:m}else{if(Fn(d))return O2(d,p=>f(p,c));{const p=f(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return i.getInitialState=a,i}var iz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sz=(e=21)=>{let t="",r=e;for(;r--;)t+=iz[Math.random()*64|0];return t},lz=Symbol.for("rtk-slice-createasyncthunk");function cz(e,t){return`${e}/${t}`}function uz({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[lz];return function(o){const{name:a,reducerPath:i=a}=o;if(!a)throw new Error(tn(11));const s=(typeof o.reducers=="function"?o.reducers(fz()):o.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,S){const _=typeof k=="string"?k:k.type;if(!_)throw new Error(tn(12));if(_ in u.sliceCaseReducersByType)throw new Error(tn(13));return u.sliceCaseReducersByType[_]=S,d},addMatcher(k,S){return u.sliceMatchers.push({matcher:k,reducer:S}),d},exposeAction(k,S){return u.actionCreators[k]=S,d},exposeCaseReducer(k,S){return u.sliceCaseReducersByName[k]=S,d}};c.forEach(k=>{const S=s[k],_={reducerName:k,type:cz(a,k),createNotation:typeof o.reducers=="function"};mz(S)?vz(_,S,d,t):pz(_,S,d)});function f(){const[k={},S=[],_=void 0]=typeof o.extraReducers=="function"?T2(o.extraReducers):[o.extraReducers],N={...k,...u.sliceCaseReducersByType};return az(o.initialState,C=>{for(let I in N)C.addCase(I,N[I]);for(let I of u.sliceMatchers)C.addMatcher(I.matcher,I.reducer);for(let I of S)C.addMatcher(I.matcher,I.reducer);_&&C.addDefaultCase(_)})}const p=k=>k,m=new Map,v=new WeakMap;let g;function y(k,S){return g||(g=f()),g(k,S)}function x(){return g||(g=f()),g.getInitialState()}function b(k,S=!1){function _(C){let I=C[k];return typeof I>"u"&&S&&(I=Su(v,_,x)),I}function N(C=p){const I=Su(m,S,()=>new WeakMap);return Su(I,C,()=>{const B={};for(const[P,R]of Object.entries(o.selectors??{}))B[P]=dz(R,C,()=>Su(v,C,x),S);return B})}return{reducerPath:k,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(k,{reducerPath:S,..._}={}){const N=S??i;return k.inject({reducerPath:N,reducer:y},_),{...w,...b(N,!0)}}};return w}}function dz(e,t,r,n){function o(a,...i){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...i)}return o.unwrapped=e,o}var Kr=uz();function fz(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function pz({type:e,reducerName:t,createNotation:r},n,o){let a,i;if("reducer"in n){if(r&&!hz(n))throw new Error(tn(17));a=n.reducer,i=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,i?_n(e,i):_n(e))}function mz(e){return e._reducerDefinitionType==="asyncThunk"}function hz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function vz({type:e,reducerName:t},r,n,o){if(!o)throw new Error(tn(18));const{payloadCreator:a,fulfilled:i,pending:s,rejected:c,settled:u,options:d}=r,f=o(e,a,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||Cu,pending:s||Cu,rejected:c||Cu,settled:u||Cu})}function Cu(){}var gz="task",R2="listener",z2="completed",Ry="cancelled",yz=`task-${Ry}`,xz=`task-${z2}`,_v=`${R2}-${Ry}`,bz=`${R2}-${z2}`,hp=class{constructor(e){Rs(this,"name","TaskAbortError");Rs(this,"message");this.code=e,this.message=`${gz} ${Ry} (reason: ${e})`}},zy=(e,t)=>{if(typeof e!="function")throw new TypeError(tn(32))},Yd=()=>{},L2=(e,t=Yd)=>(e.catch(t),e),$2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wa=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ka=e=>{if(e.aborted){const{reason:t}=e;throw new hp(t)}};function F2(e,t){let r=Yd;return new Promise((n,o)=>{const a=()=>o(new hp(e.reason));if(e.aborted){a();return}r=$2(e,a),t.finally(()=>r()).then(n,o)}).finally(()=>{r=Yd})}var wz=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof hp?"cancelled":"rejected",error:r}}finally{t==null||t()}},Gd=e=>t=>L2(F2(e,t).then(r=>(Ka(e),r))),B2=e=>{const t=Gd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Wi}=Object,Dw={},vp="listenerMiddleware",kz=(e,t)=>{const r=n=>$2(e,()=>Wa(n,e.reason));return(n,o)=>{zy(n);const a=new AbortController;r(a);const i=wz(async()=>{Ka(e),Ka(a.signal);const s=await n({pause:Gd(a.signal),delay:B2(a.signal),signal:a.signal});return Ka(a.signal),s},()=>Wa(a,xz));return o!=null&&o.autoJoin&&t.push(i.catch(Yd)),{result:Gd(e)(i),cancel(){Wa(a,yz)}}}},_z=(e,t)=>{const r=async(n,o)=>{Ka(t);let a=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});a=()=>{d(),u()}})];o!=null&&s.push(new Promise(c=>setTimeout(c,o,null)));try{const c=await F2(t,Promise.race(s));return Ka(t),c}finally{a()}};return(n,o)=>L2(r(n,o))},U2=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:a}=e;if(t)o=_n(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(tn(21));return zy(a),{predicate:o,type:t,effect:a}},q2=Wi(e=>{const{type:t,predicate:r,effect:n}=U2(e);return{id:sz(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(tn(22))}}},{withTypes:()=>q2}),Mw=(e,t)=>{const{type:r,effect:n,predicate:o}=U2(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===o)&&a.effect===n)},jv=e=>{e.pending.forEach(t=>{Wa(t,_v)})},jz=(e,t)=>()=>{for(const r of t.keys())jv(r);e.clear()},Iw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},W2=Wi(_n(`${vp}/add`),{withTypes:()=>W2}),Sz=_n(`${vp}/removeAll`),K2=Wi(_n(`${vp}/remove`),{withTypes:()=>K2}),Cz=(...e)=>{console.error(`${vp}/error`,...e)},Sc=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},o=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:i=Cz}=e;zy(i);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&jv(m)}),c=m=>{const v=Mw(t,m)??q2(m);return s(v)};Wi(c,{withTypes:()=>c});const u=m=>{const v=Mw(t,m);return v&&(v.unsubscribe(),m.cancelActive&&jv(v)),!!v};Wi(u,{withTypes:()=>u});const d=async(m,v,g,y)=>{const x=new AbortController,b=_z(c,x.signal),w=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(v,Wi({},g,{getOriginalState:y,condition:(k,S)=>b(k,S).then(Boolean),take:b,delay:B2(x.signal),pause:Gd(x.signal),extra:a,signal:x.signal,fork:kz(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,S,_)=>{k!==x&&(Wa(k,_v),_.delete(k))})},cancel:()=>{Wa(x,_v),m.pending.delete(x)},throwIfCancelled:()=>{Ka(x.signal)}})))}catch(k){k instanceof hp||Iw(i,k,{raisedBy:"effect"})}finally{await Promise.all(w),Wa(x,bz),o(m),m.pending.delete(x)}},f=jz(t,r);return{middleware:m=>v=>g=>{if(!b2(g))return v(g);if(W2.match(g))return c(g.payload);if(Sz.match(g)){f();return}if(K2.match(g))return u(g.payload);let y=m.getState();const x=()=>{if(y===Dw)throw new Error(tn(23));return y};let b;try{if(b=v(g),t.size>0){const w=m.getState(),k=Array.from(t.values());for(const S of k){let _=!1;try{_=S.predicate(g,w,y)}catch(N){_=!1,Iw(i,N,{raisedBy:"predicate"})}_&&d(S,g,m,x)}}}finally{y=Dw}return b},startListening:c,stopListening:u,clearListeners:f}};function tn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},H2=Kr({name:"chartLayout",initialState:Nz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,o,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Pz,setLayout:Ez,setChartSize:Oz,setScale:Az}=H2.actions,Dz=H2.reducer;function V2(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){Mz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mz(e,t,r){return(t=Iz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iz(e){var t=Tz(e,"string");return typeof t=="symbol"?t:t+""}function Tz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t,r){return Gt(e)||Gt(t)?r:to(t)?ap(e,t,r):typeof t=="function"?t(e):r}var Rz=(e,t,r)=>{if(t&&r){var{width:n,height:o}=r,{align:a,verticalAlign:i,layout:s}=t;if((s==="vertical"||s==="horizontal"&&i==="middle")&&a!=="center"&&Ee(e[a]))return Ti(Ti({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&i!=="middle"&&Ee(e[i]))return Ti(Ti({},e),{},{[i]:e[i]+(o||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",Y2=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var o,a,i=e.map(s=>(s.coordinate===t&&(o=!0),s.coordinate===r&&(a=!0),s.coordinate));return o||i.push(t),a||i.push(r),i},G2=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:o,range:a,scale:i,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!i)return null;var v=s==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=o==="category"&&i.bandwidth?i.bandwidth()/v:0;if(g=m==="angleAxis"&&a&&a.length>=2?yn(a[0]-a[1])*2*g:g,f||p){var y=(f||p||[]).map((x,b)=>{var w=n?n.indexOf(x):x;return{coordinate:i(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!eo(x.coordinate))}return c&&u?u.map((x,b)=>({coordinate:i(x)+g,value:x,index:b,offset:g})):i.ticks&&d!=null?i.ticks(d).map((x,b)=>({coordinate:i(x)+g,value:x,offset:g,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+g,value:n?n[x]:x,index:b,offset:g}))},Rw=1e-4,zz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),o=Math.min(n[0],n[1])-Rw,a=Math.max(n[0],n[1])+Rw,i=e(t[0]),s=e(t[r-1]);(i<o||i>a||s<o||s>a)&&e.domain([t[0],t[r-1]])}},Lz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0,i=0;i<t;++i){var s=eo(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1]):(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1])}},$z=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0;a<t;++a){var i=eo(e[a][r][1])?e[a][r][0]:e[a][r][1];i>=0?(e[a][r][0]=o,e[a][r][1]=o+i,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Fz={sign:Lz,expand:NR,none:es,silhouette:PR,wiggle:ER,positive:$z},Bz=(e,t,r)=>{var n=Fz[r],o=CR().keys(t).value((a,i)=>Number(hr(a,i,0))).order(pv).offset(n);return o(e)};function zw(e){var{axis:t,ticks:r,bandSize:n,entry:o,index:a,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Gt(o[t.dataKey])){var s=FC(r,"value",o[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=hr(o,Gt(i)?t.dataKey:i);return Gt(c)?null:t.scale(c)}var Uz=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},qz=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Wz=(e,t,r)=>{if(e!=null)return qz(Object.keys(e).reduce((n,o)=>{var a=e[o],{stackedData:i}=a,s=i.reduce((c,u)=>{var d=V2(u,t,r),f=Uz(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Lw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$w=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var o=lp(t,d=>d.coordinate),a=1/0,i=1,s=o.length;i<s;i++){var c=o[i],u=o[i-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Fw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:o,name:a}=e;return Ti(Ti({},t),{},{dataKey:r,payload:n,value:o,name:a})}function X2(e,t){if(e)return String(e);if(typeof t=="string")return t}var Kz=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},Hz=(e,t)=>t==="centric"?e.angle:e.radius,To=e=>e.layout.width,Ro=e=>e.layout.height,Vz=e=>e.layout.scale,Q2=e=>e.layout.margin,gp=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yp=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Yz="data-recharts-item-index",Gz="data-recharts-item-data-key",Cc=60;function Bw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bw(Object(r),!0).forEach(function(n){Xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Zz(e,"string");return typeof t=="symbol"?t:t+""}function Zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jz=e=>e.brush.height;function eL(e){var t=yp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var o=typeof n.width=="number"?n.width:Cc;return r+o}return r},0)}function tL(e){var t=yp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var o=typeof n.width=="number"?n.width:Cc;return r+o}return r},0)}function rL(e){var t=gp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function nL(e){var t=gp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var lr=X([To,Ro,Q2,Jz,eL,tL,rL,nL,g2,O5],(e,t,r,n,o,a,i,s,c,u)=>{var d={left:(r.left||0)+o,right:(r.right||0)+a},f={top:(r.top||0)+i,bottom:(r.bottom||0)+s},p=Nu(Nu({},f),d),m=p.bottom;p.bottom+=n,p=Rz(p,c,u);var v=e-p.left-p.right,g=t-p.top-p.bottom;return Nu(Nu({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(g,0)})}),oL=X(lr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Z2=X(To,Ro,(e,t)=>({x:0,y:0,width:e,height:t})),aL=h.createContext(null),Hr=()=>h.useContext(aL)!=null,xp=e=>e.brush,bp=X([xp,lr,Q2],(e,t,r)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Ee(e.width)?e.width:t.width})),J2={},eN={},tN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:o,edges:a}={}){let i,s=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{s!==null&&(r.apply(i,s),i=void 0,s=null)},f=()=>{u&&d(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},v=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{v(),i=void 0,s=null},y=()=>{d()},x=function(...b){if(o!=null&&o.aborted)return;i=this,s=b;const w=p==null;m(),c&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,o==null||o.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(tN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tN;function r(n,o=0,a={}){typeof a!="object"&&(a={});const{leading:i=!1,trailing:s=!0,maxWait:c}=a,u=Array(2);i&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...g){d=n.apply(this,g),f=null},o,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},v=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=v,m}e.debounce=r})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN;function r(n,o=0,a={}){const{leading:i=!0,trailing:s=!0}=a;return t.debounce(n,o,{leading:i,maxWait:o,trailing:s})}e.throttle=r})(J2);var iL=J2.throttle;const sL=oo(iL);var Qd=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>o[i++]))}},rN=(e,t,r)=>{var{width:n="100%",height:o="100%",aspect:a,maxHeight:i}=r,s=Po(n)?e:Number(n),c=Po(o)?t:Number(o);return a&&a>0&&(s?c=s/a:c&&(s=c*a),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:s,calculatedHeight:c}},lL={width:0,height:0,overflow:"visible"},cL={width:0,overflowX:"visible"},uL={height:0,overflowY:"visible"},dL={},fL=e=>{var{width:t,height:r}=e,n=Po(t),o=Po(r);return n&&o?lL:n?cL:o?uL:dL};function pL(e){var{width:t,height:r,aspect:n}=e,o=t,a=r;return o===void 0&&a===void 0?(o="100%",a="100%"):o===void 0?o=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:o,height:a}}function Xt(e){return Number.isFinite(e)}function ro(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sv.apply(null,arguments)}function Uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function qw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uw(Object(r),!0).forEach(function(n){mL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mL(e,t,r){return(t=hL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hL(e){var t=vL(e,"string");return typeof t=="symbol"?t:t+""}function vL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nN=h.createContext({width:-1,height:-1});function gL(e){return ro(e.width)&&ro(e.height)}function oN(e){var{children:t,width:r,height:n}=e,o=h.useMemo(()=>({width:r,height:n}),[r,n]);return gL(o)?h.createElement(nN.Provider,{value:o},t):null}var Ly=()=>h.useContext(nN),yL=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:o,height:a,minWidth:i=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:p,onResize:m,style:v={}}=e,g=h.useRef(null),y=h.useRef();y.current=m,h.useImperativeHandle(t,()=>g.current);var[x,b]=h.useState({containerWidth:n.width,containerHeight:n.height}),w=h.useCallback((C,I)=>{b(B=>{var P=Math.round(C),R=Math.round(I);return B.containerWidth===P&&B.containerHeight===R?B:{containerWidth:P,containerHeight:R}})},[]);h.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return kc;var C=R=>{var Y,{width:H,height:ae}=R[0].contentRect;w(H,ae),(Y=y.current)===null||Y===void 0||Y.call(y,H,ae)};d>0&&(C=sL(C,d,{trailing:!0,leading:!1}));var I=new ResizeObserver(C),{width:B,height:P}=g.current.getBoundingClientRect();return w(B,P),I.observe(g.current),()=>{I.disconnect()}},[w,d]);var{containerWidth:k,containerHeight:S}=x;Qd(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=rN(k,S,{width:o,height:a,aspect:r,maxHeight:c});return Qd(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,o,a,i,s,r),h.createElement("div",{id:f?"".concat(f):void 0,className:et("recharts-responsive-container",p),style:qw(qw({},v),{},{width:o,height:a,minWidth:i,minHeight:s,maxHeight:c}),ref:g},h.createElement("div",{style:fL({width:o,height:a})},h.createElement(oN,{width:_,height:N},u)))}),xL=h.forwardRef((e,t)=>{var r=Ly();if(ro(r.width)&&ro(r.height))return e.children;var{width:n,height:o}=pL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:i}=rN(void 0,void 0,{width:n,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return Ee(a)&&Ee(i)?h.createElement(oN,{width:a,height:i},e.children):h.createElement(yL,Sv({},e,{width:n,height:o,ref:t}))});function aN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var wp=()=>{var e,t=Hr(),r=Oe(oL),n=Oe(bp),o=(e=Oe(xp))===null||e===void 0?void 0:e.padding;return!t||!n||!o?r:{width:n.width-o.left-o.right,height:n.height-o.top-o.bottom,x:o.left,y:o.top}},bL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iN=()=>{var e;return(e=Oe(lr))!==null&&e!==void 0?e:bL},sN=()=>Oe(To),lN=()=>Oe(Ro),pt=e=>e.layout.layoutType,kp=()=>Oe(pt),wL=()=>{var e=kp();return e!==void 0},_p=e=>{var t=Qt(),r=Hr(),{width:n,height:o}=e,a=Ly(),i=n,s=o;return a&&(i=a.width>0?a.width:n,s=a.height>0?a.height:o),h.useEffect(()=>{!r&&ro(i)&&ro(s)&&t(Oz({width:i,height:s}))},[t,r,i,s]),null},cN=Symbol.for("immer-nothing"),Ww=Symbol.for("immer-draftable"),nn=Symbol.for("immer-state");function Dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zl=Object.getPrototypeOf;function os(e){return!!e&&!!e[nn]}function ei(e){var t;return e?uN(e)||Array.isArray(e)||!!e[Ww]||!!((t=e.constructor)!=null&&t[Ww])||Nc(e)||Sp(e):!1}var kL=Object.prototype.constructor.toString(),Kw=new WeakMap;function uN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Kw.get(r);return n===void 0&&(n=Function.toString.call(r),Kw.set(r,n)),n===kL}function Zd(e,t,r=!0){jp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((n,o)=>t(o,n,e))}function jp(e){const t=e[nn];return t?t.type_:Array.isArray(e)?1:Nc(e)?2:Sp(e)?3:0}function Cv(e,t){return jp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dN(e,t,r){const n=jp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function _L(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nc(e){return e instanceof Map}function Sp(e){return e instanceof Set}function Ma(e){return e.copy_||e.base_}function Nv(e,t){if(Nc(e))return new Map(e);if(Sp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=uN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[nn];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const i=o[a],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Zl(e),n)}else{const n=Zl(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function $y(e,t=!1){return Cp(e)||os(e)||!ei(e)||(jp(e)>1&&Object.defineProperties(e,{set:Pu,add:Pu,clear:Pu,delete:Pu}),Object.freeze(e),t&&Object.values(e).forEach(r=>$y(r,!0))),e}function jL(){Dn(2)}var Pu={value:jL};function Cp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var SL={};function ti(e){const t=SL[e];return t||Dn(0,e),t}var Jl;function fN(){return Jl}function CL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hw(e,t){t&&(ti("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pv(e){Ev(e),e.drafts_.forEach(NL),e.drafts_=null}function Ev(e){e===Jl&&(Jl=e.parent_)}function Vw(e){return Jl=CL(Jl,e)}function NL(e){const t=e[nn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Yw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[nn].modified_&&(Pv(t),Dn(4)),ei(e)&&(e=Jd(t,e),t.parent_||ef(t,e)),t.patches_&&ti("Patches").generateReplacementPatches_(r[nn].base_,e,t.patches_,t.inversePatches_)):e=Jd(t,r,[]),Pv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cN?e:void 0}function Jd(e,t,r){if(Cp(t))return t;const n=e.immer_.shouldUseStrictIteration(),o=t[nn];if(!o)return Zd(t,(a,i)=>Gw(e,o,t,a,i,r),n),t;if(o.scope_!==e)return t;if(!o.modified_)return ef(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const a=o.copy_;let i=a,s=!1;o.type_===3&&(i=new Set(a),a.clear(),s=!0),Zd(i,(c,u)=>Gw(e,o,a,c,u,r,s),n),ef(e,a,!1),r&&e.patches_&&ti("Patches").generatePatches_(o,r,e.patches_,e.inversePatches_)}return o.copy_}function Gw(e,t,r,n,o,a,i){if(o==null||typeof o!="object"&&!i)return;const s=Cp(o);if(!(s&&!i)){if(os(o)){const c=a&&t&&t.type_!==3&&!Cv(t.assigned_,n)?a.concat(n):void 0,u=Jd(e,o,c);if(dN(r,n,u),os(u))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(ei(o)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===o&&s)return;Jd(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Nc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&ef(e,o)}}}function ef(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$y(t,r)}function PL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=Fy;r&&(o=[n],a=ec);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,s}var Fy={get(e,t){if(t===nn)return e;const r=Ma(e);if(!Cv(r,t))return EL(e,r,t);const n=r[t];return e.finalized_||!ei(n)?n:n===Km(e.base_,t)?(Hm(e),e.copy_[t]=Av(n,e)):n},has(e,t){return t in Ma(e)},ownKeys(e){return Reflect.ownKeys(Ma(e))},set(e,t,r){const n=pN(Ma(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Km(Ma(e),t),a=o==null?void 0:o[nn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(_L(r,o)&&(r!==void 0||Cv(e.base_,t)))return!0;Hm(e),Ov(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Km(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hm(e),Ov(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ma(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Dn(11)},getPrototypeOf(e){return Zl(e.base_)},setPrototypeOf(){Dn(12)}},ec={};Zd(Fy,(e,t)=>{ec[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ec.deleteProperty=function(e,t){return ec.set.call(this,e,t,void 0)};ec.set=function(e,t,r){return Fy.set.call(this,e[0],t,r,e[0])};function Km(e,t){const r=e[nn];return(r?Ma(r):e)[t]}function EL(e,t,r){var o;const n=pN(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function pN(e,t){if(!(t in e))return;let r=Zl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Zl(r)}}function Ov(e){e.modified_||(e.modified_=!0,e.parent_&&Ov(e.parent_))}function Hm(e){e.copy_||(e.copy_=Nv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const i=this;return function(c=a,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Dn(6),n!==void 0&&typeof n!="function"&&Dn(7);let o;if(ei(t)){const a=Vw(this),i=Av(t,void 0);let s=!0;try{o=r(i),s=!1}finally{s?Pv(a):Ev(a)}return Hw(a,n),Yw(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===cN&&(o=void 0),this.autoFreeze_&&$y(o,!0),n){const a=[],i=[];ti("Patches").generateReplacementPatches_(t,o,a,i),n(a,i)}return o}else Dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...s)=>this.produceWithPatches(i,c=>t(c,...s));let n,o;return[this.produce(t,r,(i,s)=>{n=i,o=s}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ei(e)||Dn(8),os(e)&&(e=AL(e));const t=Vw(this),r=Av(e,void 0);return r[nn].isManual_=!0,Ev(t),r}finishDraft(e,t){const r=e&&e[nn];(!r||!r.isManual_)&&Dn(9);const{scope_:n}=r;return Hw(n,t),Yw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=ti("Patches").applyPatches_;return os(e)?n(e,t):this.produce(e,o=>n(o,t))}};function Av(e,t){const r=Nc(e)?ti("MapSet").proxyMap_(e,t):Sp(e)?ti("MapSet").proxySet_(e,t):PL(e,t);return(t?t.scope_:fN()).drafts_.push(r),r}function AL(e){return os(e)||Dn(10,e),mN(e)}function mN(e){if(!ei(e)||Cp(e))return e;const t=e[nn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nv(e,!0);return Zd(r,(o,a)=>{dN(r,o,mN(a))},n),t&&(t.finalized_=!1),r}var DL=new OL;DL.produce;var ML={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hN=Kr({name:"legend",initialState:ML,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ht()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).payload.indexOf(r);o>-1&&(e.payload[o]=n)},prepare:ht()},removeLegendPayload:{reducer(e,t){var r=Rn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ht()}}}),{setLegendSize:LV,setLegendSettings:$V,addLegendPayload:IL,replaceLegendPayload:TL,removeLegendPayload:RL}=hN.actions,zL=hN.reducer;function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Vm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){LL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LL(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=FL(e,"string");return typeof t=="symbol"?t:t+""}function FL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BL(e){return Array.isArray(e)&&to(e[0])&&to(e[1])?e.join(" ~ "):e}var UL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:o={},payload:a,formatter:i,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var S={padding:0,margin:0},_=(s?lp(a,s):a).map((N,C)=>{if(N.type==="none")return null;var I=N.formatter||i||BL,{value:B,name:P}=N,R=B,Y=P;if(I){var H=I(B,P,N,C,a);if(Array.isArray(H))[R,Y]=H;else if(H!=null)R=H;else return null}var ae=Vm({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:ae},to(Y)?h.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,to(Y)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},R),h.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:S},_)}return null},v=Vm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Vm({margin:0},o),y=!Gt(d),x=y?d:"",b=et("recharts-default-tooltip",c),w=et("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var k=p?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",Dv({className:b,style:v},k),h.createElement("p",{className:w,style:g},h.isValidElement(x)?x:"".concat(x)),m())},Hs="recharts-tooltip-wrapper",qL={visibility:"hidden"};function WL(e){var{coordinate:t,translateX:r,translateY:n}=e;return et(Hs,{["".concat(Hs,"-right")]:Ee(r)&&t&&Ee(t.x)&&r>=t.x,["".concat(Hs,"-left")]:Ee(r)&&t&&Ee(t.x)&&r<t.x,["".concat(Hs,"-bottom")]:Ee(n)&&t&&Ee(t.y)&&n>=t.y,["".concat(Hs,"-top")]:Ee(n)&&t&&Ee(t.y)&&n<t.y})}function Qw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:o,position:a,reverseDirection:i,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(a&&Ee(a[n]))return a[n];var d=r[n]-s-(o>0?o:0),f=r[n]+o;if(t[n])return i[n]?d:f;var p=c[n];if(p==null)return 0;if(i[n]){var m=d,v=p;return m<v?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var g=f+s,y=p+u;return g>y?Math.max(d,p):Math.max(f,p)}function KL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function HL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:o,reverseDirection:a,tooltipBox:i,useTranslate3d:s,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=Qw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=Qw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=KL({translateX:d,translateY:f,useTranslate3d:s})):u=qL,{cssProperties:u,cssClasses:WL({translateX:d,translateY:f,coordinate:r})}}function Zw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zw(Object(r),!0).forEach(function(n){Mv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mv(e,t,r){return(t=VL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VL(e){var t=YL(e,"string");return typeof t=="symbol"?t:t+""}function YL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GL extends h.PureComponent{constructor(){super(...arguments),Mv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Mv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,o,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(o=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:o,children:a,coordinate:i,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=HL({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),k=x?{}:Eu(Eu({transition:c&&t?"transform ".concat(n,"ms ").concat(o):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=Eu(Eu({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:y},a)}}var vN=()=>{var e;return(e=Oe(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Iv(){return Iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iv.apply(null,arguments)}function Jw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(r),!0).forEach(function(n){XL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XL(e,t,r){return(t=QL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QL(e){var t=ZL(e,"string");return typeof t=="symbol"?t:t+""}function ZL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t1={curveBasisClosed:hR,curveBasisOpen:vR,curveBasis:mR,curveBumpX:eR,curveBumpY:tR,curveLinearClosed:gR,curveLinear:ep,curveMonotoneX:yR,curveMonotoneY:xR,curveNatural:bR,curveStep:wR,curveStepAfter:_R,curveStepBefore:kR},tf=e=>Xt(e.x)&&Xt(e.y),r1=e=>e.base!=null&&tf(e.base)&&tf(e),Vs=e=>e.x,Ys=e=>e.y,JL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(wc(e));return(r==="curveMonotone"||r==="curveBump")&&t?t1["".concat(r).concat(t==="vertical"?"Y":"X")]:t1[r]||ep},e6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:o,connectNulls:a=!1}=e,i=JL(t,o),s=a?r.filter(tf):r,c;if(Array.isArray(n)){var u=r.map((m,v)=>e1(e1({},m),{},{base:n[v]}));o==="vertical"?c=wu().y(Ys).x1(Vs).x0(m=>m.base.x):c=wu().x(Vs).y1(Ys).y0(m=>m.base.y);var d=c.defined(r1).curve(i),f=a?u.filter(r1):u;return d(f)}o==="vertical"&&Ee(n)?c=wu().y(Ys).x1(Vs).x0(n):Ee(n)?c=wu().x(Vs).y1(Ys).y0(n):c=CC().x(Vs).y(Ys);var p=c.defined(tf).curve(i);return p(s)},gN=e=>{var{className:t,points:r,path:n,pathRef:o}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?e6(e):n;return h.createElement("path",Iv({},Jn(e),gy(e),{className:et("recharts-curve",t),d:a===null?void 0:a,ref:o}))},t6=["x","y","top","left","width","height","className"];function Tv(){return Tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tv.apply(null,arguments)}function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function r6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){n6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t,r){return(t=o6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o6(e){var t=a6(e,"string");return typeof t=="symbol"?t:t+""}function a6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i6(e,t){if(e==null)return{};var r,n,o=s6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l6=(e,t,r,n,o,a)=>"M".concat(e,",").concat(o,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),c6=e=>{var{x:t=0,y:r=0,top:n=0,left:o=0,width:a=0,height:i=0,className:s}=e,c=i6(e,t6),u=r6({x:t,y:r,top:n,left:o,width:a,height:i},c);return!Ee(t)||!Ee(r)||!Ee(a)||!Ee(i)||!Ee(n)||!Ee(o)?null:h.createElement("path",Tv({},Sr(u),{className:et("recharts-cross",s),d:l6(t,r,a,i,n,o)}))};function u6(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-o,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function o1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(r),!0).forEach(function(n){d6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d6(e,t,r){return(t=f6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f6(e){var t=p6(e,"string");return typeof t=="symbol"?t:t+""}function p6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yN=(e,t,r)=>e.map(n=>"".concat(m6(n)," ").concat(t,"ms ").concat(r)).join(","),h6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(o=>n.includes(o))),tc=(e,t)=>Object.keys(t).reduce((r,n)=>a1(a1({},r),{},{[n]:e(n,t[n])}),{});function i1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(r),!0).forEach(function(n){v6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v6(e,t,r){return(t=g6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=y6(e,"string");return typeof t=="symbol"?t:t+""}function y6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rf=(e,t,r)=>e+(t-e)*r,Rv=e=>{var{from:t,to:r}=e;return t!==r},xN=(e,t,r)=>{var n=tc((o,a)=>{if(Rv(a)){var[i,s]=e(a.from,a.to,a.velocity);return It(It({},a),{},{from:i,velocity:s})}return a},t);return r<1?tc((o,a)=>Rv(a)?It(It({},a),{},{velocity:rf(a.velocity,n[o].velocity,r),from:rf(a.from,n[o].from,r)}):a,t):xN(e,n,r-1)};function x6(e,t,r,n,o,a){var i,s=n.reduce((p,m)=>It(It({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>tc((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Rv).length,d=null,f=p=>{i||(i=p);var m=p-i,v=m/r.dt;s=xN(r,s,v),o(It(It(It({},e),t),c())),i=p,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function b6(e,t,r,n,o,a,i){var s=null,c=o.reduce((f,p)=>It(It({},f),{},{[p]:[e[p],t[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/n,m=tc((g,y)=>rf(...y,r(p)),c);if(a(It(It(It({},e),t),m)),p<1)s=i.setTimeout(d);else{var v=tc((g,y)=>rf(...y,r(1)),c);a(It(It(It({},e),t),v))}};return()=>(s=i.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const w6=(e,t,r,n,o,a)=>{var i=h6(e,t);return r==null?()=>(o(It(It({},e),t)),()=>{}):r.isStepper===!0?x6(e,t,r,i,o,a):b6(e,t,r,n,i,o,a)};var nf=1e-4,bN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],wN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),s1=(e,t)=>r=>{var n=bN(e,t);return wN(n,r)},k6=(e,t)=>r=>{var n=bN(e,t),o=[...n.map((a,i)=>a*i).slice(1),0];return wN(o,r)},_6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var o,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((o=a[1])===null||o===void 0?void 0:o.split(")")[0].split(",").length)===4){var i=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},j6=(e,t,r,n)=>{var o=s1(e,r),a=s1(t,n),i=k6(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=o(f)-d,v=i(f);if(Math.abs(m-d)<nf||v<nf)return a(f);f=s(f-m/v)}return a(f)};return c.isStepper=!1,c},l1=function(){return j6(..._6(...arguments))},S6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:o=17}=t,a=(i,s,c)=>{var u=-(i-s)*r,d=c*n,f=c+(u-d)*o/1e3,p=c*o/1e3+i;return Math.abs(p-s)<nf&&Math.abs(f)<nf?[s,0]:[p,f]};return a.isStepper=!0,a.dt=o,a},C6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l1(e);case"spring":return S6();default:if(e.split("(")[0]==="cubic-bezier")return l1(e)}return typeof e=="function"?e:null};function N6(e){var t,r=()=>null,n=!1,o=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,[c,...u]=s;if(typeof c=="number"){o=e.setTimeout(a.bind(null,u),c);return}a(c),o=e.setTimeout(a.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,o&&(o(),o=null),a(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class P6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),o=null,a=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(a))};return o=requestAnimationFrame(a),()=>{o!=null&&cancelAnimationFrame(o)}}}function E6(){return N6(new P6)}var O6=h.createContext(E6);function A6(e,t){var r=h.useContext(O6);return h.useMemo(()=>t??r(e),[e,t,r])}var D6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Pc={devToolsEnabled:!1,isSsr:D6()},M6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},c1={t:0},Ym={t:1};function By(e){var t=Wr(e,M6),{isActive:r,canBegin:n,duration:o,easing:a,begin:i,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!Pc.isSsr:r,f=A6(t.animationId,t.animationManager),[p,m]=h.useState(d?c1:Ym),v=h.useRef(null);return h.useEffect(()=>{d||m(Ym)},[d]),h.useEffect(()=>{if(!d||!n)return kc;var g=w6(c1,Ym,C6(a),o,m,f.getTimeoutController()),y=()=>{v.current=g()};return f.start([c,i,y,o,s]),()=>{f.stop(),v.current&&v.current(),s()}},[d,n,o,a,i,c,s,f]),u(p.t)}function Uy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(Yl(t)),n=h.useRef(e);return n.current!==e&&(r.current=Yl(t),n.current=e),r.current}var I6=["radius"],T6=["radius"];function u1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u1(Object(r),!0).forEach(function(n){R6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R6(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z6(e){var t=L6(e,"string");return typeof t=="symbol"?t:t+""}function L6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}function f1(e,t){if(e==null)return{};var r,n,o=$6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function $6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var p1=(e,t,r,n,o)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+s*d[0],",").concat(t)),u+="L ".concat(e+r-s*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-s*d[2],",").concat(t+n)),u+="L ".concat(e+s*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},m1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kN=e=>{var t=Wr(e,m1),r=h.useRef(null),[n,o]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ie=r.current.getTotalLength();ie&&o(ie)}catch{}},[]);var{x:a,y:i,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=h.useRef(s),x=h.useRef(c),b=h.useRef(a),w=h.useRef(i),k=h.useMemo(()=>({x:a,y:i,width:s,height:c,radius:u}),[a,i,s,c,u]),S=Uy(k,"rectangle-");if(a!==+a||i!==+i||s!==+s||c!==+c||s===0||c===0)return null;var _=et("recharts-rectangle",d);if(!g){var N=Sr(t),{radius:C}=N,I=f1(N,I6);return h.createElement("path",of({},I,{radius:typeof u=="number"?u:void 0,className:_,d:p1(a,i,s,c,u)}))}var B=y.current,P=x.current,R=b.current,Y=w.current,H="0px ".concat(n===-1?1:n,"px"),ae="".concat(n,"px 0px"),oe=yN(["strokeDasharray"],p,typeof f=="string"?f:m1.animationEasing);return h.createElement(By,{animationId:S,key:S,canBegin:n>0,duration:p,easing:f,isActive:g,begin:m},ie=>{var M=Lr(B,s,ie),V=Lr(P,c,ie),z=Lr(R,a,ie),Z=Lr(Y,i,ie);r.current&&(y.current=M,x.current=V,b.current=z,w.current=Z);var U;v?ie>0?U={transition:oe,strokeDasharray:ae}:U={strokeDasharray:H}:U={strokeDasharray:ae};var K=Sr(t),{radius:Q}=K,he=f1(K,T6);return h.createElement("path",of({},he,{radius:typeof u=="number"?u:void 0,className:_,d:p1(z,Z,M,V,u),ref:r,style:d1(d1({},U),t.style)}))})};function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function v1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){F6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F6(e,t,r){return(t=B6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B6(e){var t=U6(e,"string");return typeof t=="symbol"?t:t+""}function U6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var af=Math.PI/180,q6=e=>e*180/Math.PI,ar=(e,t,r,n)=>({x:e+Math.cos(-af*n)*r,y:t+Math.sin(-af*n)*r}),W6=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},K6=(e,t)=>{var{x:r,y:n}=e,{x:o,y:a}=t;return Math.sqrt((r-o)**2+(n-a)**2)},H6=(e,t)=>{var{x:r,y:n}=e,{cx:o,cy:a}=t,i=K6({x:r,y:n},{x:o,y:a});if(i<=0)return{radius:i,angle:0};var s=(r-o)/i,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:i,angle:q6(c),angleInRadian:c}},V6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),o=Math.floor(r/360),a=Math.min(n,o);return{startAngle:t-a*360,endAngle:r-a*360}},Y6=(e,t)=>{var{startAngle:r,endAngle:n}=t,o=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(o,a);return e+i*360},G6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:o,angle:a}=H6({x:r,y:n},t),{innerRadius:i,outerRadius:s}=t;if(o<i||o>s||o===0)return null;var{startAngle:c,endAngle:u}=V6(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?v1(v1({},t),{},{radius:o,angle:Y6(d,t)}):null};function _N(e){var{cx:t,cy:r,radius:n,startAngle:o,endAngle:a}=e,i=ar(t,r,n,o),s=ar(t,r,n,a);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:o,endAngle:a}}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}var X6=(e,t)=>{var r=yn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ou=e=>{var{cx:t,cy:r,radius:n,angle:o,sign:a,isExternal:i,cornerRadius:s,cornerIsExternal:c}=e,u=s*(i?1:-1)+n,d=Math.asin(s/u)/af,f=c?o:o+a*d,p=ar(t,r,u,f),m=ar(t,r,n,f),v=c?o-a*d:o,g=ar(t,r,u*Math.cos(d*af),v);return{center:p,circleTangency:m,lineTangency:g,theta:d}},jN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:a,endAngle:i}=e,s=X6(a,i),c=a+s,u=ar(t,r,o,a),d=ar(t,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=ar(t,r,n,a),m=ar(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Q6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,cornerRadius:a,forceCornerRadius:i,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=yn(u-c),{circleTangency:f,lineTangency:p,theta:m}=Ou({cx:t,cy:r,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:v,lineTangency:g,theta:y}=Ou({cx:t,cy:r,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(c-u):Math.abs(c-u)-m-y;if(x<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):jN({cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:c,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:k,theta:S}=Ou({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:N,theta:C}=Ou({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),I=s?Math.abs(c-u):Math.abs(c-u)-S-C;if(I<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(I>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},Z6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},SN=e=>{var t=Wr(e,Z6),{cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<o||u===d)return null;var p=et("recharts-sector",f),m=a-o,v=ga(i,m,0,!0),g;return v>0&&Math.abs(u-d)<360?g=Q6({cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):g=jN({cx:r,cy:n,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),h.createElement("path",zv({},Sr(t),{className:p,d:g}))};function J6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(qC(t)){if(e==="centric"){var{cx:n,cy:o,innerRadius:a,outerRadius:i,angle:s}=t,c=ar(n,o,a,s),u=ar(n,o,i,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return _N(t)}}var CN={},NN={},PN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Py;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(PN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(NN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ey,r=NN;function n(o,a,i){i&&typeof i!="number"&&t.isIterateeCall(o,a,i)&&(a=i=void 0),o=r.toFinite(o),a===void 0?(a=o,o=0):a=r.toFinite(a),i=i===void 0?o<a?1:-1:r.toFinite(i);const s=Math.max(Math.ceil((a-o)/(i||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=o,o+=i;return c}e.range=n})(CN);var e$=CN.range;const EN=oo(e$);function pa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function t$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qy(e){let t,r,n;e.length!==2?(t=pa,r=(s,c)=>pa(e(s),c),n=(s,c)=>e(s)-c):(t=e===pa||e===t$?e:r$,r=e,n=e);function o(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){const f=o(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:o,center:i,right:a}}function r$(){return 0}function ON(e){return e===null?NaN:+e}function*n$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o$=qy(pa),Ec=o$.right;qy(ON).center;class g1 extends Map{constructor(t,r=s$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(y1(this,t))}has(t){return super.has(y1(this,t))}set(t,r){return super.set(a$(this,t),r)}delete(t){return super.delete(i$(this,t))}}function y1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function a$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function i$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function s$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function l$(e=pa){if(e===pa)return AN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const c$=Math.sqrt(50),u$=Math.sqrt(10),d$=Math.sqrt(2);function sf(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=c$?10:a>=u$?5:a>=d$?2:1;let s,c,u;return o<0?(u=Math.pow(10,-o)/i,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,o)*i,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?sf(e,t,r*2):[s,c,u]}function Lv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,a,i]=n?sf(t,e,r):sf(e,t,r);if(!(a>=o))return[];const s=a-o+1,c=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)c[u]=(a-u)/-i;else for(let u=0;u<s;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<s;++u)c[u]=(o+u)/-i;else for(let u=0;u<s;++u)c[u]=(o+u)*i;return c}function $v(e,t,r){return t=+t,e=+e,r=+r,sf(e,t,r)[2]}function Fv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?$v(t,e,r):$v(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function x1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function b1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DN(e,t,r=0,n=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=o===void 0?AN:l$(o);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+p)),v=Math.min(n,Math.floor(t+(c-u)*f/c+p));DN(e,t,m,v,o)}const a=e[t];let i=r,s=n;for(Gs(e,r,t),o(e[n],a)>0&&Gs(e,r,n);i<s;){for(Gs(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}o(e[r],a)===0?Gs(e,r,s):(++s,Gs(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Gs(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function f$(e,t,r){if(e=Float64Array.from(n$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return b1(e);if(t>=1)return x1(e);var n,o=(n-1)*t,a=Math.floor(o),i=x1(DN(e,a).subarray(0,a+1)),s=b1(e.subarray(a+1));return i+(s-i)*(o-a)}}function p$(e,t,r=ON){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,a=Math.floor(o),i=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return i+(s-i)*(o-a)}}function m$(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++n<o;)a[n]=e+n*r;return a}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Bv=Symbol("implicit");function Wy(){var e=new g1,t=[],r=[],n=Bv;function o(a){let i=e.get(a);if(i===void 0){if(n!==Bv)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new g1;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return Wy(t,r).unknown(n)},Sn.apply(o,arguments),o}function Ky(){var e=Wy().unknown(void 0),t=e.domain,r=e.range,n=0,o=1,a,i,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=o<n,v=m?o:n,g=m?n:o;a=(g-v)/Math.max(1,p-c+u*2),s&&(a=Math.floor(a)),v+=(g-v-a*(p-c))*d,i=a*(1-c),s&&(v=Math.round(v),i=Math.round(i));var y=m$(p).map(function(x){return v+a*x});return r(m?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,o]=p,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(p){return[n,o]=p,n=+n,o=+o,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return Ky(t(),[n,o]).round(s).paddingInner(c).paddingOuter(u).align(d)},Sn.apply(f(),arguments)}function MN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MN(t())},e}function h$(){return MN(Ky.apply(null,arguments).paddingInner(1))}function Hy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function IN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Oc(){}var rc=.7,lf=1/rc,Ki="\\s*([+-]?\\d+)\\s*",nc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v$=/^#([0-9a-f]{3,8})$/,g$=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),y$=new RegExp(`^rgb\\(${Qn},${Qn},${Qn}\\)$`),x$=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${nc}\\)$`),b$=new RegExp(`^rgba\\(${Qn},${Qn},${Qn},${nc}\\)$`),w$=new RegExp(`^hsl\\(${nc},${Qn},${Qn}\\)$`),k$=new RegExp(`^hsla\\(${nc},${Qn},${Qn},${nc}\\)$`),w1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hy(Oc,oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k1,formatHex:k1,formatHex8:_$,formatHsl:j$,formatRgb:_1,toString:_1});function k1(){return this.rgb().formatHex()}function _$(){return this.rgb().formatHex8()}function j$(){return TN(this).formatHsl()}function _1(){return this.rgb().formatRgb()}function oc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=v$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?j1(t):r===3?new Fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Au(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Au(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=g$.exec(e))?new Fr(t[1],t[2],t[3],1):(t=y$.exec(e))?new Fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x$.exec(e))?Au(t[1],t[2],t[3],t[4]):(t=b$.exec(e))?Au(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w$.exec(e))?N1(t[1],t[2]/100,t[3]/100,1):(t=k$.exec(e))?N1(t[1],t[2]/100,t[3]/100,t[4]):w1.hasOwnProperty(e)?j1(w1[e]):e==="transparent"?new Fr(NaN,NaN,NaN,0):null}function j1(e){return new Fr(e>>16&255,e>>8&255,e&255,1)}function Au(e,t,r,n){return n<=0&&(e=t=r=NaN),new Fr(e,t,r,n)}function S$(e){return e instanceof Oc||(e=oc(e)),e?(e=e.rgb(),new Fr(e.r,e.g,e.b,e.opacity)):new Fr}function Uv(e,t,r,n){return arguments.length===1?S$(e):new Fr(e,t,r,n??1)}function Fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Hy(Fr,Uv,IN(Oc,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new Fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Fr(Ha(this.r),Ha(this.g),Ha(this.b),cf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:S1,formatHex:S1,formatHex8:C$,formatRgb:C1,toString:C1}));function S1(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}`}function C$(){return`#${$a(this.r)}${$a(this.g)}${$a(this.b)}${$a((isNaN(this.opacity)?1:this.opacity)*255)}`}function C1(){const e=cf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ha(this.r)}, ${Ha(this.g)}, ${Ha(this.b)}${e===1?")":`, ${e})`}`}function cf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ha(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $a(e){return e=Ha(e),(e<16?"0":"")+e.toString(16)}function N1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,r,n)}function TN(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Oc||(e=oc(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,c=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Mn(i,s,c,e.opacity)}function N$(e,t,r,n){return arguments.length===1?TN(e):new Mn(e,t,r,n??1)}function Mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Hy(Mn,N$,IN(Oc,{brighter(e){return e=e==null?lf:Math.pow(lf,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?rc:Math.pow(rc,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new Fr(Gm(e>=240?e-240:e+120,o,n),Gm(e,o,n),Gm(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Mn(P1(this.h),Du(this.s),Du(this.l),cf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cf(this.opacity);return`${e===1?"hsl(":"hsla("}${P1(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function P1(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function Gm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Vy=e=>()=>e;function P$(e,t){return function(r){return e+r*t}}function E$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O$(e){return(e=+e)==1?RN:function(t,r){return r-t?E$(t,r,e):Vy(isNaN(t)?r:t)}}function RN(e,t){var r=t-e;return r?P$(e,r):Vy(isNaN(e)?t:e)}const E1=function e(t){var r=O$(t);function n(o,a){var i=r((o=Uv(o)).r,(a=Uv(a)).r),s=r(o.g,a.g),c=r(o.b,a.b),u=RN(o.opacity,a.opacity);return function(d){return o.r=i(d),o.g=s(d),o.b=c(d),o.opacity=u(d),o+""}}return n.gamma=e,n}(1);function A$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(a){for(o=0;o<r;++o)n[o]=e[o]*(1-a)+t[o]*a;return n}}function D$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)o[i]=vs(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(s){for(i=0;i<n;++i)a[i]=o[i](s);return a}}function I$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function T$(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=vs(e[o],t[o]):n[o]=t[o];return function(a){for(o in r)n[o]=r[o](a);return n}}var qv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xm=new RegExp(qv.source,"g");function R$(e){return function(){return e}}function z$(e){return function(t){return e(t)+""}}function L$(e,t){var r=qv.lastIndex=Xm.lastIndex=0,n,o,a,i=-1,s=[],c=[];for(e=e+"",t=t+"";(n=qv.exec(e))&&(o=Xm.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:uf(n,o)})),r=Xm.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?z$(c[0].x):R$(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function vs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Vy(t):(r==="number"?uf:r==="string"?(n=oc(t))?(t=n,E1):L$:t instanceof oc?E1:t instanceof Date?I$:D$(t)?A$:Array.isArray(t)?M$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T$:uf)(e,t)}function Yy(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $$(e,t){t===void 0&&(t=e,e=vs);for(var r=0,n=t.length-1,o=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(o,o=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[s](i-s)}}function F$(e){return function(){return e}}function df(e){return+e}var O1=[0,1];function kr(e){return e}function Wv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:F$(isNaN(t)?NaN:.5)}function B$(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function U$(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=Wv(o,n),a=r(i,a)):(n=Wv(n,o),a=r(a,i)),function(s){return a(n(s))}}function q$(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=Wv(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(s){var c=Ec(e,s,1,n)-1;return a[c](o[c](s))}}function Ac(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Np(){var e=O1,t=O1,r=vs,n,o,a,i=kr,s,c,u;function d(){var p=Math.min(e.length,t.length);return i!==kr&&(i=B$(e[0],e[p-1])),s=p>2?q$:U$,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return f.invert=function(p){return i(o((u||(u=s(t,e.map(n),uf)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,df),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=Yy,d()},f.clamp=function(p){return arguments.length?(i=p?!0:kr,d()):i!==kr},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return n=p,o=m,d()}}function Gy(){return Np()(kr,kr)}function W$(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ff(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function as(e){return e=ff(Math.abs(e)),e?e[1]:NaN}function K$(e,t){return function(r,n){for(var o=r.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(o-=s,o+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function H$(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var V$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ac(e){if(!(t=V$.exec(e)))throw new Error("invalid format: "+e);var t;return new Xy({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ac.prototype=Xy.prototype;function Xy(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xy.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Y$(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var zN;function G$(e,t){var r=ff(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(zN=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ff(e,Math.max(0,t+a-1))[0]}function A1(e,t){var r=ff(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const D1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W$,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>A1(e*100,t),r:A1,s:G$,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function M1(e){return e}var I1=Array.prototype.map,T1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function X$(e){var t=e.grouping===void 0||e.thousands===void 0?M1:K$(I1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?M1:H$(I1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=ac(f);var p=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(b=!0,S="g"):D1[S]||(w===void 0&&(w=12),k=!0,S="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?n:/[%p]/.test(S)?i:"",C=D1[S],I=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function B(P){var R=_,Y=N,H,ae,oe;if(S==="c")Y=C(P)+Y,P="";else{P=+P;var ie=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),w),k&&(P=Y$(P)),ie&&+P==0&&v!=="+"&&(ie=!1),R=(ie?v==="("?v:s:v==="-"||v==="("?"":v)+R,Y=(S==="s"?T1[8+zN/3]:"")+Y+(ie&&v==="("?")":""),I){for(H=-1,ae=P.length;++H<ae;)if(oe=P.charCodeAt(H),48>oe||oe>57){Y=(oe===46?o+P.slice(H+1):P.slice(H))+Y,P=P.slice(0,H);break}}}b&&!y&&(P=t(P,1/0));var M=R.length+P.length+Y.length,V=M<x?new Array(x-M+1).join(p):"";switch(b&&y&&(P=t(V+P,V.length?x-Y.length:1/0),V=""),m){case"<":P=R+P+Y+V;break;case"=":P=R+V+P+Y;break;case"^":P=V.slice(0,M=V.length>>1)+R+P+Y+V.slice(M);break;default:P=V+R+P+Y;break}return a(P)}return B.toString=function(){return f+""},B}function d(f,p){var m=u((f=ac(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(as(p)/3)))*3,g=Math.pow(10,-v),y=T1[8+v/3];return function(x){return m(g*x)+y}}return{format:u,formatPrefix:d}}var Mu,Qy,LN;Q$({thousands:",",grouping:[3],currency:["$",""]});function Q$(e){return Mu=X$(e),Qy=Mu.format,LN=Mu.formatPrefix,Mu}function Z$(e){return Math.max(0,-as(Math.abs(e)))}function J$(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(as(t)/3)))*3-as(Math.abs(e)))}function e8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,as(t)-as(e))+1}function $N(e,t,r,n){var o=Fv(e,t,r),a;switch(n=ac(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=J$(o,i))&&(n.precision=a),LN(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=e8(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Z$(o))&&(n.precision=a-(n.type==="%")*2);break}}return Qy(n)}function _a(e){var t=e.domain;return e.ticks=function(r){var n=t();return Lv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return $N(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,a=n.length-1,i=n[o],s=n[a],c,u,d=10;for(s<i&&(u=i,i=s,s=u,u=o,o=a,a=u);d-- >0;){if(u=$v(i,s,r),u===c)return n[o]=i,n[a]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function FN(){var e=Gy();return e.copy=function(){return Ac(e,FN())},Sn.apply(e,arguments),_a(e)}function BN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,df),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return BN(e).unknown(t)},e=arguments.length?Array.from(e,df):[0,1],_a(r)}function UN(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],a=e[n],i;return a<o&&(i=r,r=n,n=i,i=o,o=a,a=i),e[r]=t.floor(o),e[n]=t.ceil(a),e}function R1(e){return Math.log(e)}function z1(e){return Math.exp(e)}function t8(e){return-Math.log(-e)}function r8(e){return-Math.exp(-e)}function n8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function o8(e){return e===10?n8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function a8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function L1(e){return(t,r)=>-e(-t,r)}function Zy(e){const t=e(R1,z1),r=t.domain;let n=10,o,a;function i(){return o=a8(n),a=o8(n),r()[0]<0?(o=L1(o),a=L1(a),e(t8,r8)):e(R1,z1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=o(u),m=o(d),v,g;const y=s==null?10:+s;let x=[];if(!(n%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(v=1;v<n;++v)if(g=p<0?v/a(-p):v*a(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=m;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/a(-p):v*a(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Lv(u,d,y))}else x=Lv(p,m,Math.min(m-p,y)).map(a);return f?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ac(c)).precision==null&&(c.trim=!0),c=Qy(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(o(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(UN(r(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),t}function qN(){const e=Zy(Np()).domain([1,10]);return e.copy=()=>Ac(e,qN()).base(e.base()),Sn.apply(e,arguments),e}function $1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function F1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Jy(e){var t=1,r=e($1(t),F1(t));return r.constant=function(n){return arguments.length?e($1(t=+n),F1(t)):t},_a(r)}function WN(){var e=Jy(Np());return e.copy=function(){return Ac(e,WN()).constant(e.constant())},Sn.apply(e,arguments)}function B1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function s8(e){return e<0?-e*e:e*e}function ex(e){var t=e(kr,kr),r=1;function n(){return r===1?e(kr,kr):r===.5?e(i8,s8):e(B1(r),B1(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},_a(t)}function tx(){var e=ex(Np());return e.copy=function(){return Ac(e,tx()).exponent(e.exponent())},Sn.apply(e,arguments),e}function l8(){return tx.apply(null,arguments).exponent(.5)}function U1(e){return Math.sign(e)*e*e}function c8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function KN(){var e=Gy(),t=[0,1],r=!1,n;function o(a){var i=c8(e(a));return isNaN(i)?n:r?Math.round(i):i}return o.invert=function(a){return e.invert(U1(a))},o.domain=function(a){return arguments.length?(e.domain(a),o):e.domain()},o.range=function(a){return arguments.length?(e.range((t=Array.from(a,df)).map(U1)),o):t.slice()},o.rangeRound=function(a){return o.range(a).round(!0)},o.round=function(a){return arguments.length?(r=!!a,o):r},o.clamp=function(a){return arguments.length?(e.clamp(a),o):e.clamp()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return KN(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sn.apply(o,arguments),_a(o)}function HN(){var e=[],t=[],r=[],n;function o(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=p$(e,i/s);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Ec(r,i)]}return a.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(pa),o()},a.range=function(i){return arguments.length?(t=Array.from(i),o()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return HN().domain(e).range(t).unknown(n)},Sn.apply(a,arguments)}function VN(){var e=0,t=1,r=1,n=[.5],o=[0,1],a;function i(c){return c!=null&&c<=c?o[Ec(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(o=Array.from(c)).length-1,s()):o.slice()},i.invertExtent=function(c){var u=o.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return VN().domain([e,t]).range(o).unknown(a)},Sn.apply(_a(i),arguments)}function YN(){var e=[.5],t=[0,1],r,n=1;function o(a){return a!=null&&a<=a?t[Ec(e,a,0,n)]:r}return o.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return YN().domain(e).range(t).unknown(r)},Sn.apply(o,arguments)}const Qm=new Date,Zm=new Date;function zt(e,t,r,n){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,s)=>{const c=[];if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<i);return c},o.filter=a=>zt(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!a(i););else for(;--s>=0;)for(;t(i,1),!a(i););}),r&&(o.count=(a,i)=>(Qm.setTime(+a),Zm.setTime(+i),e(Qm),e(Zm),Math.floor(r(Qm,Zm))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(n?i=>n(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const pf=zt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pf);pf.range;const yo=1e3,xn=yo*60,xo=xn*60,Oo=xo*24,rx=Oo*7,q1=Oo*30,Jm=Oo*365,Fa=zt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yo)},(e,t)=>(t-e)/yo,e=>e.getUTCSeconds());Fa.range;const nx=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yo)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getMinutes());nx.range;const ox=zt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xn)},(e,t)=>(t-e)/xn,e=>e.getUTCMinutes());ox.range;const ax=zt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yo-e.getMinutes()*xn)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getHours());ax.range;const ix=zt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCHours());ix.range;const Dc=zt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xn)/Oo,e=>e.getDate()-1);Dc.range;const Pp=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>e.getUTCDate()-1);Pp.range;const GN=zt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>Math.floor(e/Oo));GN.range;function si(e){return zt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*xn)/rx)}const Ep=si(0),mf=si(1),u8=si(2),d8=si(3),is=si(4),f8=si(5),p8=si(6);Ep.range;mf.range;u8.range;d8.range;is.range;f8.range;p8.range;function li(e){return zt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rx)}const Op=li(0),hf=li(1),m8=li(2),h8=li(3),ss=li(4),v8=li(5),g8=li(6);Op.range;hf.range;m8.range;h8.range;ss.range;v8.range;g8.range;const sx=zt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());sx.range;const lx=zt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lx.range;const Ao=zt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ao.range;const Do=zt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Do.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Do.range;function XN(e,t,r,n,o,a){const i=[[Fa,1,yo],[Fa,5,5*yo],[Fa,15,15*yo],[Fa,30,30*yo],[a,1,xn],[a,5,5*xn],[a,15,15*xn],[a,30,30*xn],[o,1,xo],[o,3,3*xo],[o,6,6*xo],[o,12,12*xo],[n,1,Oo],[n,2,2*Oo],[r,1,rx],[t,1,q1],[t,3,3*q1],[e,1,Jm]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return p?v.reverse():v}function c(u,d,f){const p=Math.abs(d-u)/f,m=qy(([,,y])=>y).right(i,p);if(m===i.length)return e.every(Fv(u/Jm,d/Jm,f));if(m===0)return pf.every(Math.max(Fv(u,d,f),1));const[v,g]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return v.every(g)}return[s,c]}const[y8,x8]=XN(Do,lx,Op,GN,ix,ox),[b8,w8]=XN(Ao,sx,Ep,Dc,ax,nx);function eh(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function th(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Xs(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function k8(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,u=Qs(o),d=Zs(o),f=Qs(a),p=Zs(a),m=Qs(i),v=Zs(i),g=Qs(s),y=Zs(s),x=Qs(c),b=Zs(c),w={a:ie,A:M,b:V,B:z,c:null,d:G1,e:G1,f:K8,g:tF,G:nF,H:U8,I:q8,j:W8,L:QN,m:H8,M:V8,p:Z,q:U,Q:Z1,s:J1,S:Y8,u:G8,U:X8,V:Q8,w:Z8,W:J8,x:null,X:null,y:eF,Y:rF,Z:oF,"%":Q1},k={a:K,A:Q,b:he,B:O,c:null,d:X1,e:X1,f:lF,g:yF,G:bF,H:aF,I:iF,j:sF,L:JN,m:cF,M:uF,p:re,q:$,Q:Z1,s:J1,S:dF,u:fF,U:pF,V:mF,w:hF,W:vF,x:null,X:null,y:gF,Y:xF,Z:wF,"%":Q1},S={a:B,A:P,b:R,B:Y,c:H,d:V1,e:V1,f:L8,g:H1,G:K1,H:Y1,I:Y1,j:I8,L:z8,m:M8,M:T8,p:I,q:D8,Q:F8,s:B8,S:R8,u:N8,U:P8,V:E8,w:C8,W:O8,x:ae,X:oe,y:H1,Y:K1,Z:A8,"%":$8};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),k.x=_(r,k),k.X=_(n,k),k.c=_(t,k);function _(D,J){return function(W){var E=[],ue=-1,le=0,ge=D.length,we,Me,He;for(W instanceof Date||(W=new Date(+W));++ue<ge;)D.charCodeAt(ue)===37&&(E.push(D.slice(le,ue)),(Me=W1[we=D.charAt(++ue)])!=null?we=D.charAt(++ue):Me=we==="e"?" ":"0",(He=J[we])&&(we=He(W,Me)),E.push(we),le=ue+1);return E.push(D.slice(le,ue)),E.join("")}}function N(D,J){return function(W){var E=Xs(1900,void 0,1),ue=C(E,D,W+="",0),le,ge;if(ue!=W.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(J&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(le=th(Xs(E.y,0,1)),ge=le.getUTCDay(),le=ge>4||ge===0?hf.ceil(le):hf(le),le=Pp.offset(le,(E.V-1)*7),E.y=le.getUTCFullYear(),E.m=le.getUTCMonth(),E.d=le.getUTCDate()+(E.w+6)%7):(le=eh(Xs(E.y,0,1)),ge=le.getDay(),le=ge>4||ge===0?mf.ceil(le):mf(le),le=Dc.offset(le,(E.V-1)*7),E.y=le.getFullYear(),E.m=le.getMonth(),E.d=le.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),ge="Z"in E?th(Xs(E.y,0,1)).getUTCDay():eh(Xs(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(ge+5)%7:E.w+E.U*7-(ge+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,th(E)):eh(E)}}function C(D,J,W,E){for(var ue=0,le=J.length,ge=W.length,we,Me;ue<le;){if(E>=ge)return-1;if(we=J.charCodeAt(ue++),we===37){if(we=J.charAt(ue++),Me=S[we in W1?J.charAt(ue++):we],!Me||(E=Me(D,W,E))<0)return-1}else if(we!=W.charCodeAt(E++))return-1}return E}function I(D,J,W){var E=u.exec(J.slice(W));return E?(D.p=d.get(E[0].toLowerCase()),W+E[0].length):-1}function B(D,J,W){var E=m.exec(J.slice(W));return E?(D.w=v.get(E[0].toLowerCase()),W+E[0].length):-1}function P(D,J,W){var E=f.exec(J.slice(W));return E?(D.w=p.get(E[0].toLowerCase()),W+E[0].length):-1}function R(D,J,W){var E=x.exec(J.slice(W));return E?(D.m=b.get(E[0].toLowerCase()),W+E[0].length):-1}function Y(D,J,W){var E=g.exec(J.slice(W));return E?(D.m=y.get(E[0].toLowerCase()),W+E[0].length):-1}function H(D,J,W){return C(D,t,J,W)}function ae(D,J,W){return C(D,r,J,W)}function oe(D,J,W){return C(D,n,J,W)}function ie(D){return i[D.getDay()]}function M(D){return a[D.getDay()]}function V(D){return c[D.getMonth()]}function z(D){return s[D.getMonth()]}function Z(D){return o[+(D.getHours()>=12)]}function U(D){return 1+~~(D.getMonth()/3)}function K(D){return i[D.getUTCDay()]}function Q(D){return a[D.getUTCDay()]}function he(D){return c[D.getUTCMonth()]}function O(D){return s[D.getUTCMonth()]}function re(D){return o[+(D.getUTCHours()>=12)]}function $(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var J=_(D+="",w);return J.toString=function(){return D},J},parse:function(D){var J=N(D+="",!1);return J.toString=function(){return D},J},utcFormat:function(D){var J=_(D+="",k);return J.toString=function(){return D},J},utcParse:function(D){var J=N(D+="",!0);return J.toString=function(){return D},J}}}var W1={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,_8=/^%/,j8=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<r?new Array(r-a+1).join(t)+o:o)}function S8(e){return e.replace(j8,"\\$&")}function Qs(e){return new RegExp("^(?:"+e.map(S8).join("|")+")","i")}function Zs(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function C8(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function N8(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function P8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function E8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function O8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K1(e,t,r){var n=Zt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function H1(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function A8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function D8(e,t,r){var n=Zt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function M8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function V1(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function I8(e,t,r){var n=Zt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Y1(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function T8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function R8(e,t,r){var n=Zt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function z8(e,t,r){var n=Zt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function L8(e,t,r){var n=Zt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $8(e,t,r){var n=_8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function F8(e,t,r){var n=Zt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function B8(e,t,r){var n=Zt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function G1(e,t){return Ge(e.getDate(),t,2)}function U8(e,t){return Ge(e.getHours(),t,2)}function q8(e,t){return Ge(e.getHours()%12||12,t,2)}function W8(e,t){return Ge(1+Dc.count(Ao(e),e),t,3)}function QN(e,t){return Ge(e.getMilliseconds(),t,3)}function K8(e,t){return QN(e,t)+"000"}function H8(e,t){return Ge(e.getMonth()+1,t,2)}function V8(e,t){return Ge(e.getMinutes(),t,2)}function Y8(e,t){return Ge(e.getSeconds(),t,2)}function G8(e){var t=e.getDay();return t===0?7:t}function X8(e,t){return Ge(Ep.count(Ao(e)-1,e),t,2)}function ZN(e){var t=e.getDay();return t>=4||t===0?is(e):is.ceil(e)}function Q8(e,t){return e=ZN(e),Ge(is.count(Ao(e),e)+(Ao(e).getDay()===4),t,2)}function Z8(e){return e.getDay()}function J8(e,t){return Ge(mf.count(Ao(e)-1,e),t,2)}function eF(e,t){return Ge(e.getFullYear()%100,t,2)}function tF(e,t){return e=ZN(e),Ge(e.getFullYear()%100,t,2)}function rF(e,t){return Ge(e.getFullYear()%1e4,t,4)}function nF(e,t){var r=e.getDay();return e=r>=4||r===0?is(e):is.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function oF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function X1(e,t){return Ge(e.getUTCDate(),t,2)}function aF(e,t){return Ge(e.getUTCHours(),t,2)}function iF(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function sF(e,t){return Ge(1+Pp.count(Do(e),e),t,3)}function JN(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function lF(e,t){return JN(e,t)+"000"}function cF(e,t){return Ge(e.getUTCMonth()+1,t,2)}function uF(e,t){return Ge(e.getUTCMinutes(),t,2)}function dF(e,t){return Ge(e.getUTCSeconds(),t,2)}function fF(e){var t=e.getUTCDay();return t===0?7:t}function pF(e,t){return Ge(Op.count(Do(e)-1,e),t,2)}function eP(e){var t=e.getUTCDay();return t>=4||t===0?ss(e):ss.ceil(e)}function mF(e,t){return e=eP(e),Ge(ss.count(Do(e),e)+(Do(e).getUTCDay()===4),t,2)}function hF(e){return e.getUTCDay()}function vF(e,t){return Ge(hf.count(Do(e)-1,e),t,2)}function gF(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function yF(e,t){return e=eP(e),Ge(e.getUTCFullYear()%100,t,2)}function xF(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function bF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ss(e):ss.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function wF(){return"+0000"}function Q1(){return"%"}function Z1(e){return+e}function J1(e){return Math.floor(+e/1e3)}var xi,tP,rP;kF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kF(e){return xi=k8(e),tP=xi.format,xi.parse,rP=xi.utcFormat,xi.utcParse,xi}function _F(e){return new Date(e)}function jF(e){return e instanceof Date?+e:+new Date(+e)}function cx(e,t,r,n,o,a,i,s,c,u){var d=Gy(),f=d.invert,p=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),k=u("%Y");function S(_){return(c(_)<_?m:s(_)<_?v:i(_)<_?g:a(_)<_?y:n(_)<_?o(_)<_?x:b:r(_)<_?w:k)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?p(Array.from(_,jF)):p().map(_F)},d.ticks=function(_){var N=p();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?S:u(N)},d.nice=function(_){var N=p();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?p(UN(N,_)):d},d.copy=function(){return Ac(d,cx(e,t,r,n,o,a,i,s,c,u))},d}function SF(){return Sn.apply(cx(b8,w8,Ao,sx,Ep,Dc,ax,nx,Fa,tP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CF(){return Sn.apply(cx(y8,x8,Do,lx,Op,Pp,ix,ox,Fa,rP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ap(){var e=0,t=1,r,n,o,a,i=kr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(o===0?.5:(f=(a(f)-r)*o,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),o=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(p){var m,v;return arguments.length?([m,v]=p,i=f(m,v),u):[i(0),i(1)]}}return u.range=d(vs),u.rangeRound=d(Yy),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),o=r===n?0:1/(n-r),u}}function ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nP(){var e=_a(Ap()(kr));return e.copy=function(){return ja(e,nP())},zo.apply(e,arguments)}function oP(){var e=Zy(Ap()).domain([1,10]);return e.copy=function(){return ja(e,oP()).base(e.base())},zo.apply(e,arguments)}function aP(){var e=Jy(Ap());return e.copy=function(){return ja(e,aP()).constant(e.constant())},zo.apply(e,arguments)}function ux(){var e=ex(Ap());return e.copy=function(){return ja(e,ux()).exponent(e.exponent())},zo.apply(e,arguments)}function NF(){return ux.apply(null,arguments).exponent(.5)}function iP(){var e=[],t=kr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ec(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let o of n)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,o)=>t(o/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(o,a)=>f$(e,a/n))},r.copy=function(){return iP(t).domain(e)},zo.apply(r,arguments)}function Dp(){var e=0,t=.5,r=1,n=1,o,a,i,s,c,u=kr,d,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,o=d(e=+e),a=d(t=+t),i=d(r=+r),s=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=$$(g,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(vs),m.rangeRound=v(Yy),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return d=g,o=g(e),a=g(t),i=g(r),s=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,m}}function sP(){var e=_a(Dp()(kr));return e.copy=function(){return ja(e,sP())},zo.apply(e,arguments)}function lP(){var e=Zy(Dp()).domain([.1,1,10]);return e.copy=function(){return ja(e,lP()).base(e.base())},zo.apply(e,arguments)}function cP(){var e=Jy(Dp());return e.copy=function(){return ja(e,cP()).constant(e.constant())},zo.apply(e,arguments)}function dx(){var e=ex(Dp());return e.copy=function(){return ja(e,dx()).exponent(e.exponent())},zo.apply(e,arguments)}function PF(){return dx.apply(null,arguments).exponent(.5)}const ol=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ky,scaleDiverging:sP,scaleDivergingLog:lP,scaleDivergingPow:dx,scaleDivergingSqrt:PF,scaleDivergingSymlog:cP,scaleIdentity:BN,scaleImplicit:Bv,scaleLinear:FN,scaleLog:qN,scaleOrdinal:Wy,scalePoint:h$,scalePow:tx,scaleQuantile:HN,scaleQuantize:VN,scaleRadial:KN,scaleSequential:nP,scaleSequentialLog:oP,scaleSequentialPow:ux,scaleSequentialQuantile:iP,scaleSequentialSqrt:NF,scaleSequentialSymlog:aP,scaleSqrt:l8,scaleSymlog:WN,scaleThreshold:YN,scaleTime:SF,scaleUtc:CF,tickFormat:$N},Symbol.toStringTag,{value:"Module"}));var Sa=e=>e.chartData,EF=X([Sa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fx=(e,t,r,n)=>n?EF(e):Sa(e);function ya(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Xt(t)&&Xt(r))return!0}return!1}function ek(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function uP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,o,a;if(Xt(r))o=r;else if(typeof r=="function")return;if(Xt(n))a=n;else if(typeof n=="function")return;var i=[o,a];if(ya(i))return i}}function OF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ya(n))return ek(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[o,a]=e,i,s;if(o==="auto")t!=null&&(i=Math.min(...t));else if(Ee(o))i=o;else if(typeof o=="function")try{t!=null&&(i=o(t==null?void 0:t[0]))}catch{}else if(typeof o=="string"&&Lw.test(o)){var c=Lw.exec(o);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Ee(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&$w.test(a)){var d=$w.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[i,s];if(ya(p))return t==null?p:ek(p,t,r)}}}var gs=1e9,AF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},mx,gt=!0,jn="[DecimalError] ",Va=jn+"Invalid argument: ",px=jn+"Exponent out of range: ",ys=Math.floor,Ia=Math.pow,DF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Wt=1e7,dt=7,dP=9007199254740991,vf=ys(dP/dt),be={};be.absoluteValue=be.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};be.comparedTo=be.cmp=function(e){var t,r,n,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,o=e.d.length,t=0,r=n<o?n:o;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===o?0:n>o^a.s<0?1:-1};be.decimalPlaces=be.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};be.dividedBy=be.div=function(e){return ko(this,new this.constructor(e))};be.dividedToIntegerBy=be.idiv=function(e){var t=this,r=t.constructor;return nt(ko(t,new r(e),0,1),r.precision)};be.equals=be.eq=function(e){return!this.cmp(e)};be.exponent=function(){return Et(this)};be.greaterThan=be.gt=function(e){return this.cmp(e)>0};be.greaterThanOrEqualTo=be.gte=function(e){return this.cmp(e)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(e){return this.cmp(e)<0};be.lessThanOrEqualTo=be.lte=function(e){return this.cmp(e)<1};be.logarithm=be.log=function(e){var t,r=this,n=r.constructor,o=n.precision,a=o+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qr))throw Error(jn+"NaN");if(r.s<1)throw Error(jn+(r.s?"NaN":"-Infinity"));return r.eq(Qr)?new n(0):(gt=!1,t=ko(ic(r,a),ic(e,a),a),gt=!0,nt(t,o))};be.minus=be.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mP(t,e):fP(t,(e.s=-e.s,e))};be.modulo=be.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(e=new n(e),!e.s)throw Error(jn+"NaN");return r.s?(gt=!1,t=ko(r,e,0,1).times(e),gt=!0,r.minus(t)):nt(new n(r),o)};be.naturalExponential=be.exp=function(){return pP(this)};be.naturalLogarithm=be.ln=function(){return ic(this)};be.negated=be.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};be.plus=be.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fP(t,e):mP(t,(e.s=-e.s,e))};be.precision=be.sd=function(e){var t,r,n,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Va+e);if(t=Et(o)+1,n=o.d.length-1,r=n*dt+1,n=o.d[n],n){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};be.squareRoot=be.sqrt=function(){var e,t,r,n,o,a,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(jn+"NaN")}for(e=Et(s),gt=!1,o=Math.sqrt(+s),o==0||o==1/0?(t=Yn(s.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=ys((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(o.toString()),r=c.precision,o=i=r+3;;)if(a=n,n=a.plus(ko(s,a,i+2)).times(.5),Yn(a.d).slice(0,i)===(t=Yn(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&t=="4999"){if(nt(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;i+=4}return gt=!0,nt(n,r)};be.times=be.mul=function(e){var t,r,n,o,a,i,s,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=m.length,c<u&&(a=p,p=m,m=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,o=c+n;o>n;)s=a[o]+m[n]*p[o-n-1]+t,a[o--]=s%Wt|0,t=s/Wt|0;a[o]=(a[o]+t)%Wt|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,gt?nt(e,f.precision):e};be.toDecimalPlaces=be.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(no(e,0,gs),t===void 0?t=n.rounding:no(t,0,8),nt(r,e+Et(r)+1,t))};be.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=ri(n,!0):(no(e,0,gs),t===void 0?t=o.rounding:no(t,0,8),n=nt(new o(n),e+1,t),r=ri(n,!0,e+1)),r};be.toFixed=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?ri(o):(no(e,0,gs),t===void 0?t=a.rounding:no(t,0,8),n=nt(new a(o),e+Et(o)+1,t),r=ri(n.abs(),!1,e+Et(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)};be.toInteger=be.toint=function(){var e=this,t=e.constructor;return nt(new t(e),Et(e)+1,t.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(e){var t,r,n,o,a,i,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Qr);if(s=new c(s),!s.s){if(e.s<1)throw Error(jn+"Infinity");return s}if(s.eq(Qr))return s;if(n=c.precision,e.eq(Qr))return nt(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=s.s,i){if((r=d<0?-d:d)<=dP){for(o=new c(Qr),t=Math.ceil(n/dt+4),gt=!1;r%2&&(o=o.times(s),rk(o.d,t)),r=ys(r/2),r!==0;)s=s.times(s),rk(s.d,t);return gt=!0,e.s<0?new c(Qr).div(o):nt(o,n)}}else if(a<0)throw Error(jn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,gt=!1,o=e.times(ic(s,n+u)),gt=!0,o=pP(o),o.s=a,o};be.toPrecision=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?(r=Et(o),n=ri(o,r<=a.toExpNeg||r>=a.toExpPos)):(no(e,1,gs),t===void 0?t=a.rounding:no(t,0,8),o=nt(new a(o),e,t),r=Et(o),n=ri(o,e<=r||r<=a.toExpNeg,e)),n};be.toSignificantDigits=be.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(no(e,1,gs),t===void 0?t=n.rounding:no(t,0,8)),nt(new n(r),e,t)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Et(e),r=e.constructor;return ri(e,t<=r.toExpNeg||t>=r.toExpPos)};function fP(e,t){var r,n,o,a,i,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),gt?nt(t,f):t;if(c=e.d,u=t.d,i=e.e,o=t.e,c=c.slice(),a=i-o,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,o=i,s=c.length),i=Math.ceil(f/dt),s=i>s?i+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Wt|0,c[a]%=Wt;for(r&&(c.unshift(r),++o),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=o,gt?nt(t,f):t}function no(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Va+e)}function Yn(e){var t,r,n,o=e.length-1,a="",i=e[0];if(o>0){for(a+=i,t=1;t<o;t++)n=e[t]+"",r=dt-n.length,r&&(a+=Qo(r)),a+=n;i=e[t],n=i+"",r=dt-n.length,r&&(a+=Qo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var ko=function(){function e(n,o){var a,i=0,s=n.length;for(n=n.slice();s--;)a=n[s]*o+i,n[s]=a%Wt|0,i=a/Wt|0;return i&&n.unshift(i),n}function t(n,o,a,i){var s,c;if(a!=i)c=a>i?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=o[s]){c=n[s]>o[s]?1:-1;break}return c}function r(n,o,a){for(var i=0;a--;)n[a]-=i,i=n[a]<o[a]?1:0,n[a]=i*Wt+n[a]-o[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,a,i){var s,c,u,d,f,p,m,v,g,y,x,b,w,k,S,_,N,C,I=n.constructor,B=n.s==o.s?1:-1,P=n.d,R=o.d;if(!n.s)return new I(n);if(!o.s)throw Error(jn+"Division by zero");for(c=n.e-o.e,N=R.length,S=P.length,m=new I(B),v=m.d=[],u=0;R[u]==(P[u]||0);)++u;if(R[u]>(P[u]||0)&&--c,a==null?b=a=I.precision:i?b=a+(Et(n)-Et(o))+1:b=a,b<0)return new I(0);if(b=b/dt+2|0,u=0,N==1)for(d=0,R=R[0],b++;(u<S||d)&&b--;u++)w=d*Wt+(P[u]||0),v[u]=w/R|0,d=w%R|0;else{for(d=Wt/(R[0]+1)|0,d>1&&(R=e(R,d),P=e(P,d),N=R.length,S=P.length),k=N,g=P.slice(0,N),y=g.length;y<N;)g[y++]=0;C=R.slice(),C.unshift(0),_=R[0],R[1]>=Wt/2&&++_;do d=0,s=t(R,g,N,y),s<0?(x=g[0],N!=y&&(x=x*Wt+(g[1]||0)),d=x/_|0,d>1?(d>=Wt&&(d=Wt-1),f=e(R,d),p=f.length,y=g.length,s=t(f,g,p,y),s==1&&(d--,r(f,N<p?C:R,p))):(d==0&&(s=d=1),f=R.slice()),p=f.length,p<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(R,g,N,y),s<1&&(d++,r(g,N<y?C:R,y))),y=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[y++]=P[k]||0:(g=[P[k]],y=1);while((k++<S||g[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,nt(m,i?a+Et(m)+1:a)}}();function pP(e,t){var r,n,o,a,i,s,c=0,u=0,d=e.constructor,f=d.precision;if(Et(e)>16)throw Error(px+Et(e));if(!e.s)return new d(Qr);for(gt=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(Ia(2,u))/Math.LN10*2+5|0,s+=n,r=o=a=new d(Qr),d.precision=s;;){if(o=nt(o.times(e),s),r=r.times(++c),i=a.plus(ko(o,r,s)),Yn(i.d).slice(0,s)===Yn(a.d).slice(0,s)){for(;u--;)a=nt(a.times(a),s);return d.precision=f,t==null?(gt=!0,nt(a,f)):a}a=i}}function Et(e){for(var t=e.e*dt,r=e.d[0];r>=10;r/=10)t++;return t}function rh(e,t,r){if(t>e.LN10.sd())throw gt=!0,r&&(e.precision=r),Error(jn+"LN10 precision limit exceeded");return nt(new e(e.LN10),t)}function Qo(e){for(var t="";e--;)t+="0";return t}function ic(e,t){var r,n,o,a,i,s,c,u,d,f=1,p=10,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(jn+(m.s?"NaN":"-Infinity"));if(m.eq(Qr))return new g(0);if(t==null?(gt=!1,u=y):u=t,m.eq(10))return t==null&&(gt=!0),rh(g,u);if(u+=p,g.precision=u,r=Yn(v),n=r.charAt(0),a=Et(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Yn(m.d),n=r.charAt(0),f++;a=Et(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=rh(g,u+2,y).times(a+""),m=ic(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=y,t==null?(gt=!0,nt(m,y)):m;for(s=i=m=ko(m.minus(Qr),m.plus(Qr),u),d=nt(m.times(m),u),o=3;;){if(i=nt(i.times(d),u),c=s.plus(ko(i,new g(o),u)),Yn(c.d).slice(0,u)===Yn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(rh(g,u+2,y).times(a+""))),s=ko(s,new g(f),u),g.precision=y,t==null?(gt=!0,nt(s,y)):s;s=c,o+=2}}function tk(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(n,o),t){if(o-=n,r=r-n-1,e.e=ys(r/dt),e.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=dt;n<o;)e.d.push(+t.slice(n,n+=dt));t=t.slice(n),n=dt-t.length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),gt&&(e.e>vf||e.e<-vf))throw Error(px+r)}else e.s=0,e.e=0,e.d=[0];return e}function nt(e,t,r){var n,o,a,i,s,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=dt,o=t,u=f[d=0];else{if(d=Math.ceil((n+1)/dt),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=dt,o=n-dt+i}if(r!==void 0&&(a=Ia(10,i-o-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?o>0?u/Ia(10,i-o):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Et(e),f.length=1,t=t-a-1,f[0]=Ia(10,(dt-t%dt)%dt),e.e=ys(-t/dt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ia(10,dt-n),f[d]=o>0?(u/Ia(10,i-o)%Ia(10,o)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Wt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Wt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(gt&&(e.e>vf||e.e<-vf))throw Error(px+Et(e));return e}function mP(e,t){var r,n,o,a,i,s,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),gt?nt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,s=f.length):(r=f,n=u,s=c.length),o=Math.max(Math.ceil(m/dt),s)+2,i>o&&(i=o,r.length=1),r.reverse(),o=i;o--;)r.push(0);r.reverse()}else{for(o=c.length,s=f.length,d=o<s,d&&(s=o),o=0;o<s;o++)if(c[o]!=f[o]){d=c[o]<f[o];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,o=f.length-s;o>0;--o)c[s++]=0;for(o=f.length;o>i;){if(c[--o]<f[o]){for(a=o;a&&c[--a]===0;)c[a]=Wt-1;--c[a],c[o]+=Wt}c[o]-=f[o]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,gt?nt(t,m):t):new p(0)}function ri(e,t,r){var n,o=Et(e),a=Yn(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+Qo(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+Qo(-o-1)+a,r&&(n=r-i)>0&&(a+=Qo(n))):o>=i?(a+=Qo(o+1-i),r&&(n=r-o-1)>0&&(a=a+"."+Qo(n))):((n=o+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(o+1===i&&(a+="."),a+=Qo(n))),e.s<0?"-"+a:a}function rk(e,t){if(e.length>t)return e.length=t,!0}function hP(e){var t,r,n;function o(a){var i=this;if(!(i instanceof o))return new o(a);if(i.constructor=o,a instanceof o){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Va+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return tk(i,a.toString())}else if(typeof a!="string")throw Error(Va+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,DF.test(a))tk(i,a);else throw Error(Va+a)}if(o.prototype=be,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=hP,o.config=o.set=MF,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function MF(e){if(!e||typeof e!="object")throw Error(jn+"Object expected");var t,r,n,o=["precision",1,gs,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((n=e[r=o[t]])!==void 0)if(ys(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(Va+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Va+r+": "+n);return this}var mx=hP(AF);Qr=new mx(1);const Ze=mx;var IF=e=>e,vP={},gP=e=>e===vP,nk=e=>function t(){return arguments.length===0||arguments.length===1&&gP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},yP=(e,t)=>e===1?t:nk(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=n.filter(i=>i!==vP).length;return a>=e?t(...n):yP(e-a,nk(function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];var u=n.map(d=>gP(d)?s.shift():d);return t(...u,...s)}))}),TF=e=>yP(e.length,e),Kv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},RF=TF((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),zF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IF;var o=r.reverse(),a=o[0],i=o.slice(1);return function(){return i.reduce((s,c)=>c(s),a(...arguments))}},Hv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function xP(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function bP(e,t,r){for(var n=new Ze(e),o=0,a=[];n.lt(t)&&o<1e5;)a.push(n.toNumber()),n=n.add(r),o++;return a}var wP=e=>{var[t,r]=e,[n,o]=[t,r];return t>r&&([n,o]=[r,t]),[n,o]},kP=(e,t,r)=>{if(e.lte(0))return new Ze(0);var n=xP(e.toNumber()),o=new Ze(10).pow(n),a=e.div(o),i=n!==1?.05:.1,s=new Ze(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=s.mul(o);return t?new Ze(c.toNumber()):new Ze(Math.ceil(c.toNumber()))},LF=(e,t,r)=>{var n=new Ze(1),o=new Ze(e);if(!o.isint()&&r){var a=Math.abs(e);a<1?(n=new Ze(10).pow(xP(e)-1),o=new Ze(Math.floor(o.div(n).toNumber())).mul(n)):a>1&&(o=new Ze(Math.floor(e)))}else e===0?o=new Ze(Math.floor((t-1)/2)):r||(o=new Ze(Math.floor(e)));var i=Math.floor((t-1)/2),s=zF(RF(c=>o.add(new Ze(c-i).mul(n)).toNumber()),Kv);return s(0,t)},_P=function(t,r,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var i=kP(new Ze(r).sub(t).div(n-1),o,a),s;t<=0&&r>=0?s=new Ze(0):(s=new Ze(t).add(r).div(2),s=s.sub(new Ze(s).mod(i)));var c=Math.ceil(s.sub(t).div(i).toNumber()),u=Math.ceil(new Ze(r).sub(s).div(i).toNumber()),d=c+u+1;return d>n?_P(t,r,n,o,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:s.sub(new Ze(c).mul(i)),tickMax:s.add(new Ze(u).mul(i))})},$F=function(t){var[r,n]=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(o,2),[s,c]=wP([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...Kv(0,o-1).map(()=>1/0)]:[...Kv(0,o-1).map(()=>-1/0),c];return r>n?Hv(u):u}if(s===c)return LF(s,o,a);var{step:d,tickMin:f,tickMax:p}=_P(s,c,i,a,0),m=bP(f,p.add(new Ze(.1).mul(d)),d);return r>n?Hv(m):m},FF=function(t,r){var[n,o]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=wP([n,o]);if(i===-1/0||s===1/0)return[n,o];if(i===s)return[i];var c=Math.max(r,2),u=kP(new Ze(s).sub(i).div(c-1),a,0),d=[...bP(new Ze(i),new Ze(s),u),s];return a===!1&&(d=d.map(f=>Math.round(f))),n>o?Hv(d):d},BF=e=>e.rootProps.barCategoryGap,Mp=e=>e.rootProps.stackOffset,jP=e=>e.rootProps.reverseStackOrder,hx=e=>e.options.chartName,vx=e=>e.rootProps.syncId,SP=e=>e.rootProps.syncMethod,gx=e=>e.options.eventEmitter,_r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},po={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ip=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},UF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:po.angleAxisId,includeHidden:!1,name:void 0,reversed:po.reversed,scale:po.scale,tick:po.tick,tickCount:void 0,ticks:void 0,type:po.type,unit:void 0},qF={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:Xr.type,unit:void 0},WF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:po.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:po.scale,tick:po.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},KF={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,ticks:void 0,type:"category",unit:void 0},yx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?WF:UF,xx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?KF:qF,Tp=e=>e.polarOptions,bx=X([To,Ro,lr],W6),CP=X([Tp,bx],(e,t)=>{if(e!=null)return ga(e.innerRadius,t,0)}),NP=X([Tp,bx],(e,t)=>{if(e!=null)return ga(e.outerRadius,t,t*.8)}),HF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},PP=X([Tp],HF);X([yx,PP],Ip);var EP=X([bx,CP,NP],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});X([xx,EP],Ip);var OP=X([pt,Tp,CP,NP,To,Ro],(e,t,r,n,o,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:s,startAngle:c,endAngle:u}=t;return{cx:ga(i,o,o/2),cy:ga(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Lt=(e,t)=>t,Rp=(e,t,r)=>r;function AP(e){return e==null?void 0:e.id}function DP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:o,dataKey:a}=r,i=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=AP(s);u.forEach((f,p)=>{var m=a==null||o?p:String(hr(f,a,null)),v=hr(f,s.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[d]:v}),i.set(m,g)})}}),Array.from(i.values())}function wx(e){return e.stackId!=null&&e.dataKey!=null}var zp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Lp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var $t=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xs=e=>e.tooltip.settings.axisId;function ok(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(r),!0).forEach(function(n){YF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YF(e,t,r){return(t=GF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GF(e){var t=XF(e,"string");return typeof t=="symbol"?t:t+""}function XF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vv=[0,"auto"],Ut={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},MP=(e,t)=>e.cartesianAxis.xAxis[t],Lo=(e,t)=>{var r=MP(e,t);return r??Ut},qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Vv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Cc},IP=(e,t)=>e.cartesianAxis.yAxis[t],$o=(e,t)=>{var r=IP(e,t);return r??qt},QF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},kx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??QF},Or=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);case"zAxis":return kx(e,r);case"angleAxis":return yx(e,r);case"radiusAxis":return xx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ZF=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mc=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);case"angleAxis":return yx(e,r);case"radiusAxis":return xx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},TP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function RP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var zP=e=>e.graphicalItems.cartesianItems,JF=X([Lt,Rp],RP),LP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Ic=X([zP,Or,JF],LP,{memoizeOptions:{resultEqualityCheck:Lp}}),$P=X([Ic],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wx)),FP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),eB=X([Ic],FP),BP=e=>e.map(t=>t.data).filter(Boolean).flat(1),tB=X([Ic],BP,{memoizeOptions:{resultEqualityCheck:Lp}}),UP=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:o}=t;return e.length>0?e:r.slice(n,o+1)},_x=X([tB,fx],UP),qP=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:hr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(o=>({value:hr(o,n)}))):e.map(n=>({value:n})),$p=X([_x,Or,Ic],qP);function WP(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ju(e){if(to(e)||e instanceof Date){var t=Number(e);if(Xt(t))return t}}function ak(e){if(Array.isArray(e)){var t=[Ju(e[0]),Ju(e[1])];return ya(t)?t:void 0}var r=Ju(e);if(r!=null)return[r,r]}function Mo(e){return e.map(Ju).filter(DR)}function rB(e,t,r){return!r||typeof t!="number"||eo(t)?[]:r.length?Mo(r.flatMap(n=>{var o=hr(e,n.dataKey),a,i;if(Array.isArray(o)?[a,i]=o:a=i=o,!(!Xt(a)||!Xt(i)))return[t-a,t+i]})):[]}var Ft=e=>{var t=$t(e),r=xs(e);return Mc(e,t,r)},Tc=X([Ft],e=>e==null?void 0:e.dataKey),nB=X([$P,fx,Ft],DP),KP=(e,t,r,n)=>{var o={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),o);return Object.fromEntries(Object.entries(a).map(i=>{var[s,c]=i,u=n?[...c].reverse():c,d=u.map(AP);return[s,{stackedData:Bz(e,d,r),graphicalItems:u}]}))},oB=X([nB,$P,Mp,jP],KP),HP=(e,t,r,n)=>{var{dataStartIndex:o,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var i=Wz(e,o,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},aB=X([Or],e=>e.allowDataOverflow),jx=e=>{var t;if(e==null||!("domain"in e))return Vv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Mo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Vv},VP=X([Or],jx),YP=X([VP,aB],uP),iB=X([oB,Sa,Lt,YP],HP,{memoizeOptions:{resultEqualityCheck:zp}}),Sx=e=>e.errorBars,sB=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>WP(r,n)),yf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.filter(Boolean);if(o.length!==0){var a=o.flat(),i=Math.min(...a),s=Math.max(...a);return[i,s]}},GP=(e,t,r,n,o)=>{var a,i;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>WP(o,x)),p=hr(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=rB(s,p,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(a==null||v<a)&&(a=v),(i==null||g>i)&&(i=g)}var y=ak(p);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),i=i==null?y[1]:Math.max(i,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=ak(hr(s,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),Xt(a)&&Xt(i))return[a,i]},lB=X([_x,Or,eB,Sx,Lt],GP,{memoizeOptions:{resultEqualityCheck:zp}});function cB(e){var{value:t}=e;if(to(t)||t instanceof Date)return t}var uB=(e,t,r)=>{var n=e.map(cB).filter(o=>o!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&$C(n))?EN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},XP=e=>e.referenceElements.dots,bs=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),dB=X([XP,Lt,Rp],bs),QP=e=>e.referenceElements.areas,fB=X([QP,Lt,Rp],bs),ZP=e=>e.referenceElements.lines,pB=X([ZP,Lt,Rp],bs),JP=(e,t)=>{var r=Mo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},mB=X(dB,Lt,JP),eE=(e,t)=>{var r=Mo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hB=X([fB,Lt],eE);function vB(e){var t;if(e.x!=null)return Mo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mo(r)}function gB(e){var t;if(e.y!=null)return Mo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mo(r)}var tE=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?vB(n):gB(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yB=X([pB,Lt],tE),xB=X(mB,yB,hB,(e,t,r)=>yf(e,r,t)),rE=(e,t,r,n,o,a,i,s)=>{if(r!=null)return r;var c=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=c?yf(n,a,o):yf(a,o);return OF(t,u,e.allowDataOverflow)},bB=X([Or,VP,YP,iB,lB,xB,pt,Lt],rE,{memoizeOptions:{resultEqualityCheck:zp}}),wB=[0,1],nE=(e,t,r,n,o,a,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:s,type:c}=e,u=ka(t,a);if(u&&s==null){var d;return EN(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?uB(n,e,u):o==="expand"?wB:i}},Cx=X([Or,pt,_x,$p,Mp,Lt,bB],nE),oE=(e,t,r,n,o)=>{if(e!=null){var{scale:a,type:i}=e;if(a==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(wc(a));return s in ol?s:"point"}}},Rc=X([Or,pt,TP,hx,Lt],oE);function kB(e){if(e!=null){if(e in ol)return ol[e]();var t="scale".concat(wc(e));if(t in ol)return ol[t]()}}function Nx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var o=kB(t);if(o!=null){var a=o.domain(r).range(n);return zz(a),a}}}var aE=(e,t,r)=>{var n=jx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ya(e))return $F(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ya(e))return FF(e,t.tickCount,t.allowDecimals)}},Px=X([Cx,Mc,Rc],aE),iE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ya(t)&&Array.isArray(r)&&r.length>0){var o=t[0],a=r[0],i=t[1],s=r[r.length-1];return[Math.min(o,a),Math.max(i,s)]}return t},_B=X([Or,Cx,Px,Lt],iE),jB=X($p,Or,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mo(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var o=n[n.length-1]-n[0];if(o===0)return 1/0;for(var a=0;a<n.length-1;a++){var i=n[a+1]-n[a];r=Math.min(r,i)}return r/o}}),sE=X(jB,pt,BF,lr,(e,t,r,n)=>n,(e,t,r,n,o)=>{if(!Xt(e))return 0;var a=t==="vertical"?n.height:n.width;if(o==="gap")return e*a/2;if(o==="no-gap"){var i=ga(r,e*a),s=e*a/2;return s-i-(s-i)/a*i}return 0}),SB=(e,t)=>{var r=Lo(e,t);return r==null||typeof r.padding!="string"?0:sE(e,"xAxis",t,r.padding)},CB=(e,t)=>{var r=$o(e,t);return r==null||typeof r.padding!="string"?0:sE(e,"yAxis",t,r.padding)},NB=X(Lo,SB,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((r=o.left)!==null&&r!==void 0?r:0)+t,right:((n=o.right)!==null&&n!==void 0?n:0)+t}}),PB=X($o,CB,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((r=o.top)!==null&&r!==void 0?r:0)+t,bottom:((n=o.bottom)!==null&&n!==void 0?n:0)+t}}),EB=X([lr,NB,bp,xp,(e,t,r)=>r],(e,t,r,n,o)=>{var{padding:a}=n;return o?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),OB=X([lr,pt,PB,bp,xp,(e,t,r)=>r],(e,t,r,n,o,a)=>{var{padding:i}=o;return a?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),zc=(e,t,r,n)=>{var o;switch(t){case"xAxis":return EB(e,r,n);case"yAxis":return OB(e,r,n);case"zAxis":return(o=kx(e,r))===null||o===void 0?void 0:o.range;case"angleAxis":return PP(e);case"radiusAxis":return EP(e,r);default:return}},lE=X([Or,zc],Ip),ws=X([Or,Rc,_B,lE],Nx);X([Ic,Sx,Lt],sB);function cE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Fp=(e,t)=>t,Bp=(e,t,r)=>r,AB=X(gp,Fp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cE)),DB=X(yp,Fp,Bp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(cE)),uE=(e,t)=>({width:e.width,height:t.height}),MB=(e,t)=>{var r=typeof t.width=="number"?t.width:Cc;return{width:r,height:e.height}},IB=X(lr,Lo,uE),TB=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},RB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},zB=X(Ro,lr,AB,Fp,Bp,(e,t,r,n,o)=>{var a={},i;return r.forEach(s=>{var c=uE(t,s);i==null&&(i=TB(t,n,e));var u=n==="top"&&!o||n==="bottom"&&o;a[s.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),a}),LB=X(To,lr,DB,Fp,Bp,(e,t,r,n,o)=>{var a={},i;return r.forEach(s=>{var c=MB(t,s);i==null&&(i=RB(t,n,e));var u=n==="left"&&!o||n==="right"&&o;a[s.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),a}),$B=(e,t)=>{var r=Lo(e,t);if(r!=null)return zB(e,r.orientation,r.mirror)},FB=X([lr,Lo,$B,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var o=r==null?void 0:r[n];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),BB=(e,t)=>{var r=$o(e,t);if(r!=null)return LB(e,r.orientation,r.mirror)},UB=X([lr,$o,BB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var o=r==null?void 0:r[n];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),qB=X(lr,$o,(e,t)=>{var r=typeof t.width=="number"?t.width:Cc;return{width:r,height:e.height}}),dE=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:o,type:a,dataKey:i}=r,s=ka(e,n),c=t.map(u=>u.value);if(i&&s&&a==="category"&&o&&$C(c))return c}},Ex=X([pt,$p,Or,Lt],dE),fE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:o,scale:a}=r,i=ka(e,n);if(i&&(o==="number"||a!=="auto"))return t.map(s=>s.value)}},Ox=X([pt,$p,Mc,Lt],fE),ik=X([pt,ZF,Rc,ws,Ex,Ox,zc,Px,Lt],(e,t,r,n,o,a,i,s,c)=>{if(t!=null){var u=ka(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:o,isCategorical:u,niceTicks:s,range:i,realScaleType:r,scale:n}}}),WB=(e,t,r,n,o,a,i,s,c)=>{if(!(t==null||n==null)){var u=ka(e,c),{type:d,ticks:f,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&a!=null&&a.length>=2?yn(a[0]-a[1])*2*v:v;var g=f||o;if(g){var y=g.map((x,b)=>{var w=i?i.indexOf(x):x;return{index:b,coordinate:n(w)+v,value:x,offset:v}});return y.filter(x=>Xt(x.coordinate))}return u&&s?s.map((x,b)=>({coordinate:n(x)+v,value:x,index:b,offset:v})).filter(x=>Xt(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+v,value:x,offset:v})):n.domain().map((x,b)=>({coordinate:n(x)+v,value:i?i[x]:x,index:b,offset:v}))}},pE=X([pt,Mc,Rc,ws,Px,zc,Ex,Ox,Lt],WB),KB=(e,t,r,n,o,a,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=ka(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?yn(n[0]-n[1])*2*u:u,s&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:o?o[d]:d,index:f,offset:u}))}},mE=X([pt,Mc,ws,zc,Ex,Ox,Lt],KB),hE=X(Or,ws,(e,t)=>{if(!(e==null||t==null))return gf(gf({},e),{},{scale:t})}),HB=X([Or,Rc,Cx,lE],Nx);X((e,t,r)=>kx(e,r),HB,(e,t)=>{if(!(e==null||t==null))return gf(gf({},e),{},{scale:t})});var VB=X([pt,gp,yp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),vE=e=>e.options.defaultTooltipEventType,gE=e=>e.options.validateTooltipEventTypes;function yE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ax(e,t){var r=vE(e),n=gE(e);return yE(t,r,n)}function YB(e){return Oe(t=>Ax(t,e))}var xE=(e,t)=>{var r,n=Number(t);if(!(eo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},GB=e=>e.tooltip.settings,ta={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},XB={itemInteraction:{click:ta,hover:ta},axisInteraction:{click:ta,hover:ta},keyboardInteraction:ta,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bE=Kr({name:"tooltip",initialState:XB,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ht()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).tooltipItemPayloads.indexOf(r);o>-1&&(e.tooltipItemPayloads[o]=n)},prepare:ht()},removeTooltipEntrySettings:{reducer(e,t){var r=Rn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ht()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:QB,replaceTooltipEntrySettings:ZB,removeTooltipEntrySettings:JB,setTooltipSettingsState:e9,setActiveMouseOverItemIndex:t9,mouseLeaveItem:FV,mouseLeaveChart:wE,setActiveClickItemIndex:BV,setMouseOverAxisIndex:kE,setMouseClickAxisIndex:r9,setSyncInteraction:Yv,setKeyboardInteraction:Gv}=bE.actions,n9=bE.reducer;function sk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sk(Object(r),!0).forEach(function(n){o9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function l9(e){return e.index!=null}var _E=(e,t,r,n)=>{if(t==null)return ta;var o=s9(e,t,r);if(o==null)return ta;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(l9(o)){if(a)return Iu(Iu({},o),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Iu(Iu({},ta),{},{coordinate:o.coordinate})};function c9(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function u9(e,t){var r=c9(e),n=t[0],o=t[1];if(r===void 0)return!1;var a=Math.min(n,o),i=Math.max(n,o);return r>=a&&r<=i}function d9(e,t,r){if(r==null||t==null)return!0;var n=hr(e,t);return n==null||!ya(r)?!0:u9(n,r)}var Dx=(e,t,r,n)=>{var o=e==null?void 0:e.index;if(o==null)return null;var a=Number(o);if(!Xt(a))return o;var i=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(i,Math.min(a,s)),u=t[c];return u==null||d9(u,r,n)?String(c):null},jE=(e,t,r,n,o,a,i,s)=>{if(!(a==null||s==null)){var c=i[0],u=c==null?void 0:s(c.positions,a);if(u!=null)return u;var d=o==null?void 0:o[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},SE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return r==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var i;return((i=a.settings)===null||i===void 0?void 0:i.dataKey)===o})},Lc=e=>e.options.tooltipPayloadSearcher,ks=e=>e.tooltip;function lk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ck(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(r),!0).forEach(function(n){f9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f9(e,t,r){return(t=p9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p9(e){var t=m9(e,"string");return typeof t=="symbol"?t:t+""}function m9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h9(e,t){return e??t}var CE=(e,t,r,n,o,a,i)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((p,m)=>{var v,{dataDefinedOnItem:g,settings:y}=m,x=h9(g,s),b=Array.isArray(x)?V2(x,u,d):x,w=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,k=y==null?void 0:y.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?S=FC(b,n,o):S=a(b,t,c,k),Array.isArray(S))S.forEach(N=>{var C=ck(ck({},y),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});p.push(Fw({tooltipEntrySettings:C,dataKey:N.dataKey,payload:N.payload,value:hr(N.payload,N.dataKey),name:N.name}))});else{var _;p.push(Fw({tooltipEntrySettings:y,dataKey:w,payload:S,value:hr(S,w),name:(_=hr(S,k))!==null&&_!==void 0?_:y==null?void 0:y.name}))}return p},f)}},Mx=X([Ft,pt,TP,hx,$t],oE),v9=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),g9=X([$t,xs],RP),$c=X([v9,Ft,g9],LP,{memoizeOptions:{resultEqualityCheck:Lp}}),y9=X([$c],e=>e.filter(wx)),x9=X([$c],BP,{memoizeOptions:{resultEqualityCheck:Lp}}),_s=X([x9,Sa],UP),b9=X([y9,Sa,Ft],DP),Ix=X([_s,Ft,$c],qP),NE=X([Ft],jx),w9=X([Ft],e=>e.allowDataOverflow),PE=X([NE,w9],uP),k9=X([$c],e=>e.filter(wx)),_9=X([b9,k9,Mp,jP],KP),j9=X([_9,Sa,$t,PE],HP),S9=X([$c],FP),C9=X([_s,Ft,S9,Sx,$t],GP,{memoizeOptions:{resultEqualityCheck:zp}}),N9=X([XP,$t,xs],bs),P9=X([N9,$t],JP),E9=X([QP,$t,xs],bs),O9=X([E9,$t],eE),A9=X([ZP,$t,xs],bs),D9=X([A9,$t],tE),M9=X([P9,D9,O9],yf),I9=X([Ft,NE,PE,j9,C9,M9,pt,$t],rE),Fc=X([Ft,pt,_s,Ix,Mp,$t,I9],nE),T9=X([Fc,Ft,Mx],aE),R9=X([Ft,Fc,T9,$t],iE),EE=e=>{var t=$t(e),r=xs(e),n=!1;return zc(e,t,r,n)},OE=X([Ft,EE],Ip),AE=X([Ft,Mx,R9,OE],Nx),z9=X([pt,Ix,Ft,$t],dE),L9=X([pt,Ix,Ft,$t],fE),$9=(e,t,r,n,o,a,i,s)=>{if(t){var{type:c}=t,u=ka(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&o!=null&&(o==null?void 0:o.length)>=2?yn(o[0]-o[1])*2*f:f,u&&i?i.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:a?a[p]:p,index:m,offset:f}))}}},Fo=X([pt,Ft,Mx,AE,EE,z9,L9,$t],$9),Tx=X([vE,gE,GB],(e,t,r)=>yE(r.shared,e,t)),DE=e=>e.tooltip.settings.trigger,Rx=e=>e.tooltip.settings.defaultIndex,Bc=X([ks,Tx,DE,Rx],_E),sc=X([Bc,_s,Tc,Fc],Dx),ME=X([Fo,sc],xE),F9=X([Bc],e=>{if(e)return e.dataKey});X([Bc],e=>{if(e)return e.graphicalItemId});var IE=X([ks,Tx,DE,Rx],SE),B9=X([To,Ro,pt,lr,Fo,Rx,IE,Lc],jE),U9=X([Bc,B9],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),q9=X([Bc],e=>e.active),W9=X([IE,sc,Sa,Tc,ME,Lc,Tx],CE),K9=X([W9],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function dk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(r),!0).forEach(function(n){H9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H9(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G9=()=>Oe(Ft),X9=()=>{var e=G9(),t=Oe(Fo),r=Oe(AE);return Xd(!e||!r?void 0:dk(dk({},e),{},{scale:r}),t)};function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(n){Q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q9(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e7=(e,t,r,n)=>{var o=t.find(a=>a&&a.index===r);if(o){if(e==="horizontal")return{x:o.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:o.coordinate}}return{x:0,y:0}},t7=(e,t,r,n)=>{var o=t.find(u=>u&&u.index===r);if(o){if(e==="centric"){var a=o.coordinate,{radius:i}=n;return bi(bi(bi({},n),ar(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var s=o.coordinate,{angle:c}=n;return bi(bi(bi({},n),ar(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function r7(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var TE=(e,t,r,n,o)=>{var a,i=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var c=0;c<s;c++){var u=c>0?r[c-1].coordinate:r[s-1].coordinate,d=r[c].coordinate,f=c>=s-1?r[0].coordinate:r[c+1].coordinate,p=void 0;if(yn(d-u)!==yn(f-d)){var m=[];if(yn(f-d)===yn(o[1]-o[0])){p=f;var v=d+o[1]-o[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var g=f+o[1]-o[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){({index:i}=r[c]);break}}else{var x=Math.min(u,f),b=Math.max(u,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:i}=r[c]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:i}=t[w]);break}}return i},n7=()=>Oe(hx),zx=(e,t)=>t,RE=(e,t,r)=>r,Lx=(e,t,r,n)=>n,o7=X(Fo,e=>lp(e,t=>t.coordinate)),$x=X([ks,zx,RE,Lx],_E),Fx=X([$x,_s,Tc,Fc],Dx),a7=(e,t,r)=>{if(t!=null){var n=ks(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},zE=X([ks,zx,RE,Lx],SE),xf=X([To,Ro,pt,lr,Fo,Lx,zE,Lc],jE),i7=X([$x,xf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),LE=X([Fo,Fx],xE),s7=X([zE,Fx,Sa,Tc,LE,Lc,zx],CE),l7=X([$x,Fx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),c7=(e,t,r,n,o,a,i)=>{if(!(!e||!r||!n||!o)&&r7(e,i)){var s=Kz(e,t),c=TE(s,a,o,r,n),u=e7(t,o,c,e);return{activeIndex:String(c),activeCoordinate:u}}},u7=(e,t,r,n,o,a,i)=>{if(!(!e||!n||!o||!a||!r)){var s=G6(e,r);if(s){var c=Hz(s,t),u=TE(c,i,a,n,o),d=t7(t,a,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},d7=(e,t,r,n,o,a,i,s)=>{if(!(!e||!t||!n||!o||!a))return t==="horizontal"||t==="vertical"?c7(e,t,n,o,a,i,s):u7(e,t,r,n,o,a,i)},f7=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),p7=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(_r)),r=Array.from(new Set(t));return r.sort((n,o)=>n-o)},{memoizeOptions:{resultEqualityCheck:VF}});function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){m7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m7(e,t,r){return(t=h7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h7(e){var t=v7(e,"string");return typeof t=="symbol"?t:t+""}function v7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g7={},y7={zIndexMap:Object.values(_r).reduce((e,t)=>mk(mk({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),g7)},x7=new Set(Object.values(_r));function b7(e){return x7.has(e)}var $E=Kr({name:"zIndex",initialState:y7,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ht()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!b7(r)&&delete e.zIndexMap[r])},prepare:ht()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:o}=t.payload;e.zIndexMap[r]?o?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:o?void 0:n,panoramaElementId:o?n:void 0}},prepare:ht()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:ht()}}}),{registerZIndexPortal:w7,unregisterZIndexPortal:k7,registerZIndexPortalId:_7,unregisterZIndexPortalId:j7}=$E.actions,S7=$E.reducer;function Bo(e){var{zIndex:t,children:r}=e,n=wL(),o=n&&t!==void 0&&t!==0,a=Hr(),i=Qt();h.useLayoutEffect(()=>o?(i(w7({zIndex:t})),()=>{i(k7({zIndex:t}))}):kc,[i,t,o]);var s=Oe(u=>f7(u,t,a));if(!o)return r;if(!s)return null;var c=document.getElementById(s);return c?go.createPortal(r,c):null}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hk(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=N7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E7(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return h.isValidElement(t)?h.cloneElement(t,n):h.createElement(r,n)}function O7(e){var t,{coordinate:r,payload:n,index:o,offset:a,tooltipAxisBandSize:i,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,p=n,m=o;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,g,y;if(d==="ScatterChart")v=f,g=c6,y=_r.cursorLine;else if(d==="BarChart")v=u6(s,f,a,i),g=kN,y=_r.cursorRectangle;else if(s==="radial"&&qC(f)){var{cx:x,cy:b,radius:w,startAngle:k,endAngle:S}=_N(f);v={cx:x,cy:b,startAngle:k,endAngle:S,innerRadius:w,outerRadius:w},g=SN,y=_r.cursorLine}else v={points:J6(s,f,a)},g=gN,y=_r.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=Tu(Tu(Tu(Tu({stroke:"#ccc",pointerEvents:"none"},a),v),Zf(c)),{},{payload:p,payloadIndex:m,className:et("recharts-tooltip-cursor",_)});return h.createElement(Bo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},h.createElement(E7,{cursor:c,cursorComp:g,cursorProps:N}))}function A7(e){var t=X9(),r=iN(),n=kp(),o=n7();return t==null||r==null||n==null||o==null?null:h.createElement(O7,Xv({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:o}))}var FE=h.createContext(null),D7=()=>h.useContext(FE),BE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new o(d,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,m),!0;case 6:return y.fn.call(y.context,d,f,p,m,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var k=y.length,S;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,p);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&i(this,m);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:i(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(BE);var M7=BE.exports;const I7=oo(M7);var lc=new I7,Qv="recharts.syncEvent.tooltip",vk="recharts.syncEvent.brush";function T7(e,t){if(t){var r=Number.parseInt(t,10);if(!eo(r))return e==null?void 0:e[r]}}var R7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},UE=Kr({name:"options",initialState:R7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),z7=UE.reducer,{createEventEmitter:L7}=UE.actions;function $7(e){return e.tooltip.syncInteraction}var F7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},qE=Kr({name:"chartData",initialState:F7,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:gk,setDataStartEndIndexes:B7,setComputedData:UV}=qE.actions,U7=qE.reducer,q7=["x","y"];function yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(r),!0).forEach(function(n){W7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7(e,t,r){return(t=K7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K7(e){var t=H7(e,"string");return typeof t=="symbol"?t:t+""}function H7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V7(e,t){if(e==null)return{};var r,n,o=Y7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Y7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function G7(){var e=Oe(vx),t=Oe(gx),r=Qt(),n=Oe(SP),o=Oe(Fo),a=kp(),i=wp(),s=Oe(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return kc;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(i&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:g}=m,y=V7(m,q7),{x,y:b,width:w,height:k}=d.payload.sourceViewBox,S=wi(wi({},y),{},{x:i.x+(w?(v-x)/w:0)*i.width,y:i.y+(k?(g-b)/k:0)*i.height});r(wi(wi({},d),{},{payload:wi(wi({},d.payload),{},{coordinate:S})}))}else r(d);return}if(o!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(o,N);_=o[C]}else n==="value"&&(_=o.find(oe=>String(oe.value)===d.payload.label));var{coordinate:I}=d.payload;if(_==null||d.payload.active===!1||I==null||i==null){r(Yv({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:B,y:P}=I,R=Math.min(B,i.x+i.width),Y=Math.min(P,i.y+i.height),H={x:a==="horizontal"?_.coordinate:R,y:a==="horizontal"?Y:_.coordinate},ae=Yv({active:d.payload.active,coordinate:H,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ae)}}};return lc.on(Qv,c),()=>{lc.off(Qv,c)}},[s,r,t,e,n,o,a,i])}function X7(){var e=Oe(vx),t=Oe(gx),r=Qt();h.useEffect(()=>{if(e==null)return kc;var n=(o,a,i)=>{t!==i&&e===o&&r(B7(a))};return lc.on(vk,n),()=>{lc.off(vk,n)}},[r,t,e])}function Q7(){var e=Qt();h.useEffect(()=>{e(L7())},[e]),G7(),X7()}function Z7(e,t,r,n,o,a){var i=Oe(m=>a7(m,e,t)),s=Oe(gx),c=Oe(vx),u=Oe(SP),d=Oe($7),f=d==null?void 0:d.active,p=wp();h.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=Yv({active:a,coordinate:r,dataKey:i,index:o,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});lc.emit(Qv,c,m,s)}},[f,r,i,o,n,s,c,u,a,p])}function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){J7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7(e,t,r){return(t=eU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eU(e){var t=tU(e,"string");return typeof t=="symbol"?t:t+""}function tU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rU(e){return e.dataKey}function nU(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(UL,t)}var wk=[],oU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function aU(e){var t,r,n=Wr(e,oU),{active:o,allowEscapeViewBox:a,animationDuration:i,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:k,portal:S,axisId:_}=n,N=Qt(),C=typeof k=="number"?String(k):k;h.useEffect(()=>{N(e9({shared:b,trigger:w,axisId:_,active:o,defaultIndex:C}))},[N,b,w,_,o,C]);var I=wp(),B=vN(),P=YB(b),{activeIndex:R,isActive:Y}=(t=Oe(re=>l7(re,P,w,C)))!==null&&t!==void 0?t:{},H=Oe(re=>s7(re,P,w,C)),ae=Oe(re=>LE(re,P,w,C)),oe=Oe(re=>i7(re,P,w,C)),ie=H,M=D7(),V=(r=o??Y)!==null&&r!==void 0?r:!1,[z,Z]=D5([ie,V]),U=P==="axis"?ae:void 0;Z7(P,w,oe,U,R,V);var K=S??M;if(K==null||I==null||P==null)return null;var Q=ie??wk;V||(Q=wk),u&&Q.length&&(Q=XR(Q.filter(re=>re.value!=null&&(re.hide!==!0||n.includeHidden)),p,rU));var he=Q.length>0,O=h.createElement(GL,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:d,active:V,coordinate:oe,hasPayload:he,offset:f,position:m,reverseDirection:v,useTranslate3d:g,viewBox:I,wrapperStyle:y,lastBoundingBox:z,innerRef:Z,hasPortalFromProps:!!S},nU(c,bk(bk({},n),{},{payload:Q,label:U,active:V,activeIndex:R,coordinate:oe,accessibilityLayer:B})));return h.createElement(h.Fragment,null,go.createPortal(O,K),V&&h.createElement(A7,{cursor:x,tooltipEventType:P,coordinate:oe,payload:Q,index:R}))}function iU(e,t,r){return(t=sU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sU(e){var t=lU(e,"string");return typeof t=="symbol"?t:t+""}function lU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cU{constructor(t){iU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function uU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=fU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mU={cacheSize:2e3,enableCache:!0},WE=uU({},mU),_k=new cU(WE.cacheSize),hU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jk="recharts_measurement_span";function vU(e,t){var r=t.fontSize||"",n=t.fontFamily||"",o=t.fontWeight||"",a=t.fontStyle||"",i=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(o,"|").concat(a,"|").concat(i,"|").concat(s)}var Sk=(e,t)=>{try{var r=document.getElementById(jk);r||(r=document.createElement("span"),r.setAttribute("id",jk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,hU,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Cl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Pc.isSsr)return{width:0,height:0};if(!WE.enableCache)return Sk(t,r);var n=vU(t,r),o=_k.get(n);if(o)return o;var a=Sk(t,r);return _k.set(n,a),a},Ck=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KE={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},xU=Object.keys(KE),Ri="NaN";function bU(e,t){return e*KE[t]}class Rr{static parse(t){var r,[,n,o]=(r=yU.exec(t))!==null&&r!==void 0?r:[];return new Rr(parseFloat(n),o??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,eo(t)&&(this.unit=""),r!==""&&!gU.test(r)&&(this.num=NaN,this.unit=""),xU.includes(r)&&(this.num=bU(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Rr(NaN,""):new Rr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Rr(NaN,""):new Rr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rr(NaN,""):new Rr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Rr(NaN,""):new Rr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return eo(this.num)}}function HE(e){if(e.includes(Ri))return Ri;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,o,a]=(r=Ck.exec(t))!==null&&r!==void 0?r:[],i=Rr.parse(n??""),s=Rr.parse(a??""),c=o==="*"?i.multiply(s):i.divide(s);if(c.isNaN())return Ri;t=t.replace(Ck,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=Nk.exec(t))!==null&&u!==void 0?u:[],m=Rr.parse(d??""),v=Rr.parse(p??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Ri;t=t.replace(Nk,g.toString())}return t}var Pk=/\(([^()]*)\)/;function wU(e){for(var t=e,r;(r=Pk.exec(t))!=null;){var[,n]=r;t=t.replace(Pk,HE(n))}return t}function kU(e){var t=e.replace(/\s+/g,"");return t=wU(t),t=HE(t),t}function _U(e){try{return kU(e)}catch{return Ri}}function nh(e){var t=_U(e.slice(5,-1));return t===Ri?"":t}var jU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],SU=["dx","dy","angle","className","breakAll"];function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function Ek(e,t){if(e==null)return{};var r,n,o=CU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function CU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VE=/[ \f\n\r\t\v\u2028\u2029]+/,YE=e=>{var{children:t,breakAll:r,style:n}=e;try{var o=[];Gt(t)||(r?o=t.toString().split(""):o=t.toString().split(VE));var a=o.map(s=>({word:s,width:Cl(s,n).width})),i=r?0:Cl("",n).width;return{wordsWithComputedWidth:a,spaceWidth:i}}catch{return null}};function NU(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var GE=(e,t,r,n)=>e.reduce((o,a)=>{var{word:i,width:s}=a,c=o[o.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(i),c.width+=s+r;else{var u={words:[i],width:s};o.push(u)}return o},[]),XE=e=>e.reduce((t,r)=>t.width>r.width?t:r),PU="",Ok=(e,t,r,n,o,a,i,s)=>{var c=e.slice(0,t),u=YE({breakAll:r,style:n,children:c+PU});if(!u)return[!1,[]];var d=GE(u.wordsWithComputedWidth,a,i,s),f=d.length>o||XE(d).width>Number(a);return[f,d]},EU=(e,t,r,n,o)=>{var{maxLines:a,children:i,style:s,breakAll:c}=e,u=Ee(a),d=String(i),f=GE(t,n,r,o);if(!u||o)return f;var p=f.length>a||XE(f).width>Number(n);if(!p)return f;for(var m=0,v=d.length-1,g=0,y;m<=v&&g<=d.length-1;){var x=Math.floor((m+v)/2),b=x-1,[w,k]=Ok(d,b,c,s,a,n,r,o),[S]=Ok(d,x,c,s,a,n,r,o);if(!w&&!S&&(m=x+1),w&&S&&(v=x-1),!w&&S){y=k;break}g++}return y||f},Ak=e=>{var t=Gt(e)?[]:e.toString().split(VE);return[{words:t,width:void 0}]},OU=e=>{var{width:t,scaleToFit:r,children:n,style:o,breakAll:a,maxLines:i}=e;if((t||r)&&!Pc.isSsr){var s,c,u=YE({breakAll:a,children:n,style:o});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return Ak(n);return EU({breakAll:a,children:n,maxLines:i,style:o},s,c,t,!!r)}return Ak(n)},QE="#808080",AU={angle:0,breakAll:!1,capHeight:"0.71em",fill:QE,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Bx=h.forwardRef((e,t)=>{var r=Wr(e,AU),{x:n,y:o,lineHeight:a,capHeight:i,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Ek(r,jU),p=h.useMemo(()=>OU({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:v,angle:g,className:y,breakAll:x}=f,b=Ek(f,SU);if(!to(n)||!to(o)||p.length===0)return null;var w=Number(n)+(Ee(m)?m:0),k=Number(o)+(Ee(v)?v:0);if(!Xt(w)||!Xt(k))return null;var S;switch(d){case"start":S=nh("calc(".concat(i,")"));break;case"middle":S=nh("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:S=nh("calc(".concat(p.length-1," * -").concat(a,")"));break}var _=[];if(c){var N=p[0].width,{width:C}=f;_.push("scale(".concat(Ee(C)&&Ee(N)?C/N:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(w,", ").concat(k,")")),_.length&&(b.transform=_.join(" ")),h.createElement("text",Zv({},Sr(b),{ref:t,x:w,y:k,className:et("recharts-text",y),textAnchor:u,fill:s.includes("url")?QE:s}),p.map((I,B)=>{var P=I.words.join(x?"":" ");return h.createElement("tspan",{x:w,dy:B===0?S:a,key:"".concat(P,"-").concat(B)},P)}))});Bx.displayName="Text";var DU=["labelRef"];function MU(e,t){if(e==null)return{};var r,n,o=IU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function IU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(n){TU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TU(e,t,r){return(t=RU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RU(e){var t=zU(e,"string");return typeof t=="symbol"?t:t+""}function zU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}var ZE=h.createContext(null),LU=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:o,width:a,height:i,children:s}=e,c=h.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:o,width:a,height:i}),[t,r,n,o,a,i]);return h.createElement(ZE.Provider,{value:c},s)},JE=()=>{var e=h.useContext(ZE),t=wp();return e||aN(t)},$U=h.createContext(null),FU=()=>{var e=h.useContext($U),t=Oe(OP);return e||t},BU=e=>{var{value:t,formatter:r}=e,n=Gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ux=e=>e!=null&&typeof e=="function",UU=(e,t)=>{var r=yn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},qU=(e,t,r,n,o)=>{var{offset:a,className:i}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=o,v=(u+d)/2,g=UU(f,p),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=p-y*a,b=!m;break;case"end":x=p+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=ar(s,c,v,x),k=ar(s,c,v,x+(b?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Gt(e.id)?Yl("recharts-radial-line-"):e.id;return h.createElement("text",mo({},n,{dominantBaseline:"central",className:et("recharts-radial-bar-label",i)}),h.createElement("defs",null,h.createElement("path",{id:_,d:S})),h.createElement("textPath",{xlinkHref:"#".concat(_)},r))},WU=(e,t,r)=>{var{cx:n,cy:o,innerRadius:a,outerRadius:i,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=ar(n,o,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(a+i)/2,{x:m,y:v}=ar(n,o,p,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},Jv=e=>"cx"in e&&Ee(e.cx),KU=(e,t)=>{var{parentViewBox:r,offset:n,position:o}=e,a;r!=null&&!Jv(r)&&(a=r);var{x:i,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=i,p=i+(c-u)/2,m=(f+p)/2,v=(c+u)/2,g=f+c/2,y=d>=0?1:-1,x=y*n,b=y>0?"end":"start",w=y>0?"start":"end",k=c>=0?1:-1,S=k*n,_=k>0?"end":"start",N=k>0?"start":"end";if(o==="top"){var C={x:f+c/2,y:s-x,textAnchor:"middle",verticalAnchor:b};return St(St({},C),a?{height:Math.max(s-a.y,0),width:c}:{})}if(o==="bottom"){var I={x:p+u/2,y:s+d+x,textAnchor:"middle",verticalAnchor:w};return St(St({},I),a?{height:Math.max(a.y+a.height-(s+d),0),width:u}:{})}if(o==="left"){var B={x:m-S,y:s+d/2,textAnchor:_,verticalAnchor:"middle"};return St(St({},B),a?{width:Math.max(B.x-a.x,0),height:d}:{})}if(o==="right"){var P={x:m+v+S,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return St(St({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:d}:{})}var R=a?{width:v,height:d}:{};return o==="insideLeft"?St({x:m+S,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},R):o==="insideRight"?St({x:m+v-S,y:s+d/2,textAnchor:_,verticalAnchor:"middle"},R):o==="insideTop"?St({x:f+c/2,y:s+x,textAnchor:"middle",verticalAnchor:w},R):o==="insideBottom"?St({x:p+u/2,y:s+d-x,textAnchor:"middle",verticalAnchor:b},R):o==="insideTopLeft"?St({x:f+S,y:s+x,textAnchor:N,verticalAnchor:w},R):o==="insideTopRight"?St({x:f+c-S,y:s+x,textAnchor:_,verticalAnchor:w},R):o==="insideBottomLeft"?St({x:p+S,y:s+d-x,textAnchor:N,verticalAnchor:b},R):o==="insideBottomRight"?St({x:p+u-S,y:s+d-x,textAnchor:_,verticalAnchor:b},R):o&&typeof o=="object"&&(Ee(o.x)||Po(o.x))&&(Ee(o.y)||Po(o.y))?St({x:i+ga(o.x,v),y:s+ga(o.y,d),textAnchor:"end",verticalAnchor:"end"},R):St({x:g,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},R)},HU={angle:0,offset:5,zIndex:_r.label,position:"middle",textBreakAll:!1};function Zo(e){var t=Wr(e,HU),{viewBox:r,position:n,value:o,children:a,content:i,className:s="",textBreakAll:c,labelRef:u}=t,d=FU(),f=JE(),p=n==="center"?f:d??f,m,v,g;if(r==null?m=p:Jv(r)?m=r:m=aN(r),!m||Gt(o)&&Gt(a)&&!h.isValidElement(i)&&typeof i!="function")return null;var y=St(St({},t),{},{viewBox:m});if(h.isValidElement(i)){var{labelRef:x}=y,b=MU(y,DU);return h.cloneElement(i,b)}if(typeof i=="function"){if(v=h.createElement(i,y),h.isValidElement(v))return v}else v=BU(t);var w=Sr(t);if(Jv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return qU(t,n,v,w,m);g=WU(m,t.offset,t.position)}else g=KU(t,m);return h.createElement(Bo,{zIndex:t.zIndex},h.createElement(Bx,mo({ref:u,className:et("recharts-label",s)},w,g,{textAnchor:NU(w.textAnchor)?w.textAnchor:g.textAnchor,breakAll:c}),v))}Zo.displayName="Label";var VU=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?h.createElement(Zo,mo({key:"label-implicit"},n)):to(e)?h.createElement(Zo,mo({key:"label-implicit",value:e},n)):h.isValidElement(e)?e.type===Zo?h.cloneElement(e,St({key:"label-implicit"},n)):h.createElement(Zo,mo({key:"label-implicit",content:e},n)):Ux(e)?h.createElement(Zo,mo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?h.createElement(Zo,mo({},e,{key:"label-implicit"},n)):null};function YU(e){var{label:t,labelRef:r}=e,n=JE();return VU(t,n,r)||null}var eO={},tO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(tO);var rO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(rO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO,r=rO,n=ip;function o(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=o})(eO);var GU=eO.last;const XU=oo(GU);var QU=["valueAccessor"],ZU=["dataKey","clockWise","id","textBreakAll","zIndex"];function bf(){return bf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bf.apply(null,arguments)}function Mk(e,t){if(e==null)return{};var r,n,o=JU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function JU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eq=e=>Array.isArray(e.value)?XU(e.value):e.value,nO=h.createContext(void 0),tq=nO.Provider,oO=h.createContext(void 0);oO.Provider;function rq(){return h.useContext(nO)}function nq(){return h.useContext(oO)}function ed(e){var{valueAccessor:t=eq}=e,r=Mk(e,QU),{dataKey:n,clockWise:o,id:a,textBreakAll:i,zIndex:s}=r,c=Mk(r,ZU),u=rq(),d=nq(),f=u||d;return!f||!f.length?null:h.createElement(Bo,{zIndex:s??_r.label},h.createElement(va,{className:"recharts-label-list"},f.map((p,m)=>{var v,g=Gt(n)?t(p,m):hr(p&&p.payload,n),y=Gt(a)?{}:{id:"".concat(a,"-").concat(m)};return h.createElement(Zo,bf({key:"label-".concat(m)},Sr(p),c,y,{fill:(v=r.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:i,viewBox:p.viewBox,index:m,zIndex:0}))})))}ed.displayName="LabelList";function oq(e){var{label:t}=e;return t?t===!0?h.createElement(ed,{key:"labelList-implicit"}):h.isValidElement(t)||Ux(t)?h.createElement(ed,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(ed,bf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(null,arguments)}var aO=e=>{var{cx:t,cy:r,r:n,className:o}=e,a=et("recharts-dot",o);return Ee(t)&&Ee(r)&&Ee(n)?h.createElement("circle",eg({},Jn(e),gy(e),{className:a,cx:t,cy:r,r:n})):null},aq={radiusAxis:{},angleAxis:{}},iO=Kr({name:"polarAxis",initialState:aq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qV,removeRadiusAxis:WV,addAngleAxis:KV,removeAngleAxis:HV}=iO.actions,iq=iO.reducer,sO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var o;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((o=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&o.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(lO);var sq=lO.isPlainObject;const lq=oo(sq);function Ik(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ik(Object(r),!0).forEach(function(n){cq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ik(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cq(e,t,r){return(t=uq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uq(e){var t=dq(e,"string");return typeof t=="symbol"?t:t+""}function dq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(null,arguments)}var Rk=(e,t,r,n,o)=>{var a=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-a/2,",").concat(t+o),i+="L ".concat(e+r-a/2-n,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z"),i},fq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pq=e=>{var t=Wr(e,fq),{x:r,y:n,upperWidth:o,lowerWidth:a,height:i,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=h.useRef(null),[m,v]=h.useState(-1),g=h.useRef(o),y=h.useRef(a),x=h.useRef(i),b=h.useRef(r),w=h.useRef(n),k=Uy(e,"trapezoid-");if(h.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var H=p.current.getTotalLength();H&&v(H)}catch{}},[]),r!==+r||n!==+n||o!==+o||a!==+a||i!==+i||o===0&&a===0||i===0)return null;var S=et("recharts-trapezoid",s);if(!f)return h.createElement("g",null,h.createElement("path",wf({},Sr(t),{className:S,d:Rk(r,n,o,a,i)})));var _=g.current,N=y.current,C=x.current,I=b.current,B=w.current,P="0px ".concat(m===-1?1:m,"px"),R="".concat(m,"px 0px"),Y=yN(["strokeDasharray"],u,c);return h.createElement(By,{animationId:k,key:k,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},H=>{var ae=Lr(_,o,H),oe=Lr(N,a,H),ie=Lr(C,i,H),M=Lr(I,r,H),V=Lr(B,n,H);p.current&&(g.current=ae,y.current=oe,x.current=ie,b.current=M,w.current=V);var z=H>0?{transition:Y,strokeDasharray:R}:{strokeDasharray:P};return h.createElement("path",wf({},Sr(t),{className:S,d:Rk(M,V,ae,oe,ie),ref:p,style:Tk(Tk({},z),t.style)}))})},mq=["option","shapeType","propTransformer","activeClassName"];function hq(e,t){if(e==null)return{};var r,n,o=vq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=xq(e,"string");return typeof t=="symbol"?t:t+""}function xq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bq(e,t){return kf(kf({},t),e)}function wq(e,t){return e==="symbols"}function Lk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(kN,r);case"trapezoid":return h.createElement(pq,r);case"sector":return h.createElement(SN,r);case"symbols":if(wq(t))return h.createElement(UC,r);break;case"curve":return h.createElement(gN,r);default:return null}}function kq(e){return h.isValidElement(e)?e.props:e}function _q(e){var{option:t,shapeType:r,propTransformer:n=bq,activeClassName:o="recharts-active-shape"}=e,a=hq(e,mq),i;if(h.isValidElement(t))i=h.cloneElement(t,kf(kf({},a),kq(t)));else if(typeof t=="function")i=t(a,a.index);else if(lq(t)&&typeof t!="boolean"){var s=n(t,a);i=h.createElement(Lk,{shapeType:r,elementProps:s})}else{var c=a;i=h.createElement(Lk,{shapeType:r,elementProps:c})}return a.isActive?h.createElement(va,{className:o},i):i}function jq(e){var{tooltipEntrySettings:t}=e,r=Qt(),n=Hr(),o=h.useRef(null);return h.useLayoutEffect(()=>{n||(o.current===null?r(QB(t)):o.current!==t&&r(ZB({prev:o.current,next:t})),o.current=t)},[t,r,n]),h.useLayoutEffect(()=>()=>{o.current&&(r(JB(o.current)),o.current=null)},[r]),null}function Sq(e){var{legendPayload:t}=e,r=Qt(),n=Hr(),o=h.useRef(null);return h.useLayoutEffect(()=>{n||(o.current===null?r(IL(t)):o.current!==t&&r(TL({prev:o.current,next:t})),o.current=t)},[r,n,t]),h.useLayoutEffect(()=>()=>{o.current&&(r(RL(o.current)),o.current=null)},[r]),null}var oh,Cq=()=>{var[e]=h.useState(()=>Yl("uid-"));return e},Nq=(oh=UA.useId)!==null&&oh!==void 0?oh:Cq;function cO(e,t){var r=Nq();return t||(e?"".concat(e,"-").concat(r):r)}var Pq=h.createContext(void 0),Eq=e=>{var{id:t,type:r,children:n}=e,o=cO("recharts-".concat(r),t);return h.createElement(Pq.Provider,{value:o},n(o))},Oq={cartesianItems:[],polarItems:[]},uO=Kr({name:"graphicalItems",initialState:Oq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ht()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).cartesianItems.indexOf(r);o>-1&&(e.cartesianItems[o]=n)},prepare:ht()},removeCartesianGraphicalItem:{reducer(e,t){var r=Rn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ht()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ht()},removePolarGraphicalItem:{reducer(e,t){var r=Rn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ht()}}}),{addCartesianGraphicalItem:Aq,replaceCartesianGraphicalItem:Dq,removeCartesianGraphicalItem:Mq,addPolarGraphicalItem:VV,removePolarGraphicalItem:YV}=uO.actions,Iq=uO.reducer,Tq=e=>{var t=Qt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(Aq(e)):r.current!==e&&t(Dq({prev:r.current,next:e})),r.current=e},[t,e]),h.useLayoutEffect(()=>()=>{r.current&&(t(Mq(r.current)),r.current=null)},[t]),null},Rq=h.memo(Tq),zq=["points"];function $k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$k(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$k(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(null,arguments)}function Bq(e,t){if(e==null)return{};var r,n,o=Uq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Uq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qq(e){var{option:t,dotProps:r,className:n}=e;if(h.isValidElement(t))return h.cloneElement(t,r);if(typeof t=="function")return t(r);var o=et(n,typeof t!="boolean"?t.className:""),a=r??{},{points:i}=a,s=Bq(a,zq);return h.createElement(aO,_f({},s,{className:o}))}function Wq(e,t){return e==null?!1:t?!0:e.length===1}function Kq(e){var{points:t,dot:r,className:n,dotClassName:o,dataKey:a,baseProps:i,needClip:s,clipPathId:c,zIndex:u=_r.scatter}=e;if(!Wq(t,r))return null;var d=sO(r),f=q4(r),p=t.map((v,g)=>{var y,x,b=ah(ah(ah({r:3},i),f),{},{index:g,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(x=v.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return h.createElement(qq,{key:"dot-".concat(g),option:r,dotProps:b,className:o})}),m={};return s&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),h.createElement(Bo,{zIndex:u},h.createElement(va,_f({className:n},m),p))}function Fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fk(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gq={xAxis:{},yAxis:{},zAxis:{}},dO=Kr({name:"cartesianAxis",initialState:Gq,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ht()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ht()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ht()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ht()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ht()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ht()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ht()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ht()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ht()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,o=e.yAxis[r];if(o){var a=o.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==o.width&&Math.abs(n-a[0])<=1)return;var i=[...a,n].slice(-3);e.yAxis[r]=Bk(Bk({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:Xq,replaceXAxis:Qq,removeXAxis:Zq,addYAxis:Jq,replaceYAxis:eW,removeYAxis:tW,addZAxis:GV,replaceZAxis:XV,removeZAxis:QV,updateYAxisWidth:rW}=dO.actions,nW=dO.reducer,oW=X([lr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),aW=X([oW,To,Ro],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),qx=()=>Oe(aW),iW=()=>Oe(K9);function Uk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uk(Object(r),!0).forEach(function(n){sW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:o,dataKey:a,clipPath:i}=e;if(o===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=ih(ih(ih({},s),Zf(o)),gy(o)),u;return h.isValidElement(o)?u=h.cloneElement(o,c):typeof o=="function"?u=o(c):u=h.createElement(aO,c),h.createElement(va,{className:"recharts-active-dot",clipPath:i},u)};function dW(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:o,clipPath:a,zIndex:i=_r.activeDot}=e,s=Oe(sc),c=iW();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Gt(u)?null:h.createElement(Bo,{zIndex:i},h.createElement(uW,{point:u,childIndex:Number(s),mainColor:r,dataKey:o,activeDot:n,clipPath:a}))}var fW={},fO=Kr({name:"errorBars",initialState:fW,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:o}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?o:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(o=>o.dataKey!==n.dataKey||o.direction!==n.direction))}}}),{addErrorBar:ZV,replaceErrorBar:JV,removeErrorBar:eY}=fO.actions,pW=fO.reducer,mW=["children"];function hW(e,t){if(e==null)return{};var r,n,o=vW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},yW=h.createContext(gW);function xW(e){var{children:t}=e,r=hW(e,mW);return h.createElement(yW.Provider,{value:r},t)}function pO(e,t){var r,n,o=Oe(u=>Lo(u,e)),a=Oe(u=>$o(u,t)),i=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:Ut.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:qt.allowDataOverflow,c=i||s;return{needClip:c,needClipX:i,needClipY:s}}function bW(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,o=qx(),{needClipX:a,needClipY:i,needClip:s}=pO(t,r);if(!s||!o)return null;var{x:c,y:u,width:d,height:f}=o;return h.createElement("clipPath",{id:"clipPath-".concat(n)},h.createElement("rect",{x:a?c:c-d/2,y:i?u:u-f/2,width:a?d:d*2,height:i?f:f*2}))}var wW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=h;function kW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _W=typeof Object.is=="function"?Object.is:kW,jW=Uc.useSyncExternalStore,SW=Uc.useRef,CW=Uc.useEffect,NW=Uc.useMemo,PW=Uc.useDebugValue;wW.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=SW(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=NW(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return f=v}return f=m}if(v=f,_W(d,m))return v;var g=n(m);return o!==void 0&&o(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var s=jW(e,a[0],a[1]);return CW(function(){i.hasValue=!0,i.value=s},[s]),PW(s),s};function EW(e){e()}function OW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){EW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var qk={notify(){},get:()=>[]};function AW(e,t){let r,n=qk,o=0,a=!1;function i(g){d();const y=n.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return a}function d(){o++,r||(r=e.subscribe(c),n=OW())}function f(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=qk)}function p(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const v={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return v}var DW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MW=DW(),IW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",TW=IW(),RW=()=>MW||TW?h.useLayoutEffect:h.useEffect,zW=RW();function Wk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function LW(e,t){if(Wk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Wk(e[r[o]],t[r[o]]))return!1;return!0}var sh=Symbol.for("react-redux-context"),lh=typeof globalThis<"u"?globalThis:{};function $W(){if(!h.createContext)return{};const e=lh[sh]??(lh[sh]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var FW=$W();function BW(e){const{children:t,context:r,serverState:n,store:o}=e,a=h.useMemo(()=>{const c=AW(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),i=h.useMemo(()=>o.getState(),[o]);zW(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,i]);const s=r||FW;return h.createElement(s.Provider,{value:a},t)}var UW=BW,qW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function WW(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Wx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(qW.has(n)){if(e[n]==null&&t[n]==null)continue;if(!LW(e[n],t[n]))return!1}else if(!WW(e[n],t[n]))return!1;return!0}var KW=e=>{var{chartData:t}=e,r=Qt(),n=Hr();return h.useEffect(()=>n?()=>{}:(r(gk(t)),()=>{r(gk(void 0))}),[t,r,n]),null},Kk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},mO=Kr({name:"brush",initialState:Kk,reducers:{setBrushSettings(e,t){return t.payload==null?Kk:t.payload}}}),{setBrushSettings:tY}=mO.actions,HW=mO.reducer;function VW(e,t,r){return(t=YW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kx{static create(t){return new Kx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],o=r[r.length-1];return n<=o?t>=n&&t<=o:t>=o&&t<=n}}VW(Kx,"EPS",1e-4);function XW(e){return(e%180+180)%180}var QW=function(t){var{width:r,height:n}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=XW(o),i=a*Math.PI/180,s=Math.atan(n/r),c=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},ZW={dots:[],areas:[],lines:[]},hO=Kr({name:"referenceElements",initialState:ZW,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Rn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Rn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Rn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:rY,removeDot:nY,addArea:oY,removeArea:aY,addLine:iY,removeLine:sY}=hO.actions,JW=hO.reducer,eK=h.createContext(void 0),tK=e=>{var{children:t}=e,[r]=h.useState("".concat(Yl("recharts"),"-clip")),n=qx();if(n==null)return null;var{x:o,y:a,width:i,height:s}=n;return h.createElement(eK.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:o,y:a,height:s,width:i}))),t)};function vO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function rK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return QW(n,r)}function nK(e,t,r){var n=r==="width",{x:o,y:a,width:i,height:s}=e;return t===1?{start:n?o:a,end:n?o+i:a+s}:{start:n?o+i:a+s,end:n?o:a}}function jf(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-o)<=0}function oK(e,t){return vO(e,t+1)}function aK(e,t,r,n,o){for(var a=(n||[]).slice(),{start:i,end:s}=t,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:vO(n,u)};var g=c,y,x=()=>(y===void 0&&(y=r(v,g)),y),b=v.coordinate,w=c===0||jf(e,b,x,d,s);w||(c=0,d=i,u+=1),w&&(d=b+e*(x()/2+o),c+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){iK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iK(e,t,r){return(t=sK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=lK(e,"string");return typeof t=="symbol"?t:t+""}function lK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cK(e,t,r,n,o){for(var a=(n||[]).slice(),i=a.length,{start:s}=t,{end:c}=t,u=function(p){var m=a[p],v,g=()=>(v===void 0&&(v=r(m,p)),v);if(p===i-1){var y=e*(m.coordinate+e*g()/2-c);a[p]=m=fr(fr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[p]=m=fr(fr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=jf(e,m.tickCoord,g,s,c);x&&(c=m.tickCoord-e*(g()/2+o),a[p]=fr(fr({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return a}function uK(e,t,r,n,o,a){var i=(n||[]).slice(),s=i.length,{start:c,end:u}=t;if(a){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);if(i[s-1]=d=fr(fr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=jf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+o),i[s-1]=fr(fr({},d),{},{isShow:!0}))}}for(var v=a?s-1:s,g=function(b){var w=i[b],k,S=()=>(k===void 0&&(k=r(w,b)),k);if(b===0){var _=e*(w.coordinate-e*S()/2-c);i[b]=w=fr(fr({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else i[b]=w=fr(fr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=jf(e,w.tickCoord,S,c,u);N&&(c=w.tickCoord+e*(S()/2+o),i[b]=fr(fr({},w),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return i}function Hx(e,t,r){var{tick:n,ticks:o,viewBox:a,minTickGap:i,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!o||!o.length||!n)return[];if(Ee(c)||Pc.isSsr){var p;return(p=oK(o,Ee(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",g=d&&v==="width"?Cl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,k)=>{var S=typeof u=="function"?u(w.value,k):w.value;return v==="width"?rK(Cl(S,{fontSize:t,letterSpacing:r}),g,f):Cl(S,{fontSize:t,letterSpacing:r})[v]},x=o.length>=2?yn(o[1].coordinate-o[0].coordinate):1,b=nK(a,x,v);return c==="equidistantPreserveStart"?aK(x,b,y,o,i):(c==="preserveStart"||c==="preserveStartEnd"?m=uK(x,b,y,o,i,c==="preserveStartEnd"):m=cK(x,b,y,o,i),m.filter(w=>w.isShow))}var dK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:o=0,tickMargin:a=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=o+a,u=i+c+s+(r?n:0);return Math.round(u)}return 0},fK=["axisLine","width","height","className","hide","ticks","axisType"];function pK(e,t){if(e==null)return{};var r,n,o=mK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function mK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function Vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vk(Object(r),!0).forEach(function(n){hK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hK(e,t,r){return(t=vK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _o={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_r.axis};function yK(e){var{x:t,y:r,width:n,height:o,orientation:a,mirror:i,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=Nt(Nt(Nt({},c),Jn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!i||a==="bottom"&&i);u=Nt(Nt({},u),{},{x1:t,y1:r+d*o,x2:t+n,y2:r+d*o})}else{var f=+(a==="left"&&!i||a==="right"&&i);u=Nt(Nt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+o})}return h.createElement("line",ni({},u,{className:et("recharts-cartesian-axis-line",ap(s,"className"))}))}function xK(e,t,r,n,o,a,i,s,c){var u,d,f,p,m,v,g=s?-1:1,y=e.tickSize||i,x=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,p=r+ +!s*o,f=p-g*y,v=f-g*c,m=x;break;case"left":f=p=e.coordinate,d=t+ +!s*n,u=d-g*y,m=u-g*c,v=x;break;case"right":f=p=e.coordinate,d=t+ +s*n,u=d+g*y,m=u+g*c,v=x;break;default:u=d=e.coordinate,p=r+ +s*o,f=p+g*y,v=f+g*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:v}}}function bK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function wK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function kK(e){var{option:t,tickProps:r,value:n}=e,o,a=et(r.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))o=h.cloneElement(t,Nt(Nt({},r),{},{className:a}));else if(typeof t=="function")o=t(Nt(Nt({},r),{},{className:a}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=et(i,t==null?void 0:t.className)),o=h.createElement(Bx,ni({},r,{className:i}),n)}return o}var _K=h.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:o,stroke:a,tickFormatter:i,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:v,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:k,events:S,axisType:_}=e,N=Hx(Nt(Nt({},k),{},{ticks:r}),b,w),C=bK(d,f),I=wK(d,f),B=Jn(k),P=Zf(n),R={};typeof o=="object"&&(R=o);var Y=Nt(Nt({},B),{},{fill:"none"},R),H=N.map(ie=>Nt({entry:ie},xK(ie,p,m,v,g,d,y,f,x))),ae=H.map(ie=>{var{entry:M,line:V}=ie;return h.createElement(va,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},o&&h.createElement("line",ni({},Y,V,{className:et("recharts-cartesian-axis-tick-line",ap(o,"className"))})))}),oe=H.map((ie,M)=>{var{entry:V,tick:z}=ie,Z=Nt(Nt(Nt(Nt({textAnchor:C,verticalAnchor:I},B),{},{stroke:"none",fill:a},P),z),{},{index:M,payload:V,visibleTicksCount:N.length,tickFormatter:i,padding:c},u);return h.createElement(va,ni({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},WR(S,V,M)),n&&h.createElement(kK,{option:n,tickProps:Z,value:"".concat(typeof i=="function"?i(V.value,M):V.value).concat(s||"")}))});return h.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},oe.length>0&&h.createElement(Bo,{zIndex:_r.label},h.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},oe)),ae.length>0&&h.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},ae))}),jK=h.forwardRef((e,t)=>{var{axisLine:r,width:n,height:o,className:a,hide:i,ticks:s,axisType:c}=e,u=pK(e,fK),[d,f]=h.useState(""),[p,m]=h.useState(""),v=h.useRef(null);h.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return dK({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=h.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),k=w.fontSize,S=w.letterSpacing;(k!==d||S!==p)&&(f(k),m(S))}}},[d,p]);return i||n!=null&&n<=0||o!=null&&o<=0?null:h.createElement(Bo,{zIndex:e.zIndex},h.createElement(va,{className:et("recharts-cartesian-axis",a)},h.createElement(yK,{x:e.x,y:e.y,width:n,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Jn(e)}),h.createElement(_K,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),h.createElement(LU,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},h.createElement(YU,{label:e.label,labelRef:e.labelRef}),e.children)))}),Vx=h.forwardRef((e,t)=>{var r=Wr(e,_o);return h.createElement(jK,ni({},r,{ref:t}))});Vx.displayName="CartesianAxis";var SK=["x1","y1","x2","y2","key"],CK=["offset"],NK=["xAxisId","yAxisId"],PK=["xAxisId","yAxisId"];function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ba.apply(null,arguments)}function Sf(e,t){if(e==null)return{};var r,n,o=DK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function DK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:o,width:a,height:i,ry:s}=e;return h.createElement("rect",{x:n,y:o,ry:s,width:a,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gO(e){var{option:t,lineItemProps:r}=e,n;if(h.isValidElement(t))n=h.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var o,{x1:a,y1:i,x2:s,y2:c,key:u}=r,d=Sf(r,SK),f=(o=Jn(d))!==null&&o!==void 0?o:{},{offset:p}=f,m=Sf(f,CK);n=h.createElement("line",Ba({},m,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:u}))}return n}function IK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,s=Sf(e,NK),c=o.map((u,d)=>{var f=mr(mr({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return h.createElement(gO,{key:"line-".concat(d),option:n,lineItemProps:f})});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function TK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,s=Sf(e,PK),c=o.map((u,d)=>{var f=mr(mr({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return h.createElement(gO,{option:n,lineItemProps:f,key:"line-".concat(d)})});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function RK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:o,width:a,height:i,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],v=m?o+i-f:u[p+1]-f;if(v<=0)return null;var g=p%t.length;return h.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:v,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function zK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:o,y:a,width:i,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],v=m?o+i-f:u[p+1]-f;if(v<=0)return null;var g=p%r.length;return h.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:v,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var LK=(e,t)=>{var{xAxis:r,width:n,height:o,offset:a}=e;return Y2(Hx(mr(mr(mr({},_o),r),{},{ticks:G2(r),viewBox:{x:0,y:0,width:n,height:o}})),a.left,a.left+a.width,t)},$K=(e,t)=>{var{yAxis:r,width:n,height:o,offset:a}=e;return Y2(Hx(mr(mr(mr({},_o),r),{},{ticks:G2(r),viewBox:{x:0,y:0,width:n,height:o}})),a.top,a.top+a.height,t)},FK={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_r.grid};function yO(e){var t=sN(),r=lN(),n=iN(),o=mr(mr({},Wr(e,FK)),{},{x:Ee(e.x)?e.x:n.left,y:Ee(e.y)?e.y:n.top,width:Ee(e.width)?e.width:n.width,height:Ee(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:i,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=o,v=Hr(),g=Oe(I=>ik(I,"xAxis",a,v)),y=Oe(I=>ik(I,"yAxis",i,v));if(!ro(u)||!ro(d)||!Ee(s)||!Ee(c))return null;var x=o.verticalCoordinatesGenerator||LK,b=o.horizontalCoordinatesGenerator||$K,{horizontalPoints:w,verticalPoints:k}=o;if((!w||!w.length)&&typeof b=="function"){var S=p&&p.length,_=b({yAxis:y?mr(mr({},y),{},{ticks:S?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Qd(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!k||!k.length)&&typeof x=="function"){var N=m&&m.length,C=x({xAxis:g?mr(mr({},g),{},{ticks:N?m:g.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);Qd(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}return h.createElement(Bo,{zIndex:o.zIndex},h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(MK,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),h.createElement(RK,Ba({},o,{horizontalPoints:w})),h.createElement(zK,Ba({},o,{verticalPoints:k})),h.createElement(IK,Ba({},o,{offset:n,horizontalPoints:w,xAxis:g,yAxis:y})),h.createElement(TK,Ba({},o,{offset:n,verticalPoints:k,xAxis:g,yAxis:y}))))}yO.displayName="CartesianGrid";var xO=(e,t,r,n)=>hE(e,"xAxis",t,n),bO=(e,t,r,n)=>mE(e,"xAxis",t,n),wO=(e,t,r,n)=>hE(e,"yAxis",r,n),kO=(e,t,r,n)=>mE(e,"yAxis",r,n),BK=X([pt,xO,wO,bO,kO],(e,t,r,n,o)=>ka(e,"xAxis")?Xd(t,n,!1):Xd(r,o,!1)),UK=(e,t,r,n,o)=>o;function qK(e){return e.type==="line"}var WK=X([zP,UK],(e,t)=>e.filter(qK).find(r=>r.id===t)),KK=X([pt,xO,wO,bO,kO,WK,BK,fx],(e,t,r,n,o,a,i,s)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(!(a==null||t==null||r==null||n==null||o==null||n.length===0||o.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=a,m;if(p!=null&&p.length>0?m=p:m=c==null?void 0:c.slice(u,d+1),m!=null)return fH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:o,dataKey:f,bandSize:i,displayedData:m})}});function HK(e){var t=Zf(e),r=3,n=2;if(t!=null){var{r:o,strokeWidth:a}=t,i=Number(o),s=Number(a);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(s)||s<0)&&(s=n),{r:i,strokeWidth:s}}return{r,strokeWidth:n}}var VK=["id"],YK=["type","layout","connectNulls","needClip","shape"],GK=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(null,arguments)}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){XK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yx(e,t){if(e==null)return{};var r,n,o=JK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function JK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eH=e=>{var{dataKey:t,name:r,stroke:n,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:n,value:X2(r,t),payload:e}]},tH=h.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:o,fill:a,name:i,hide:s,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:o,fill:a,dataKey:t,nameKey:void 0,name:X2(i,t),hide:s,type:u,color:n,unit:c}};return h.createElement(jq,{tooltipEntrySettings:d})}),_O=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function rH(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],o=0;o<t;++o)n=[...n,...r];return n}var nH=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return _O(t,e);for(var o=Math.floor(e/n),a=e%n,i=t-e,s=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){s=[...r.slice(0,c),a-u];break}var d=s.length%2===0?[0,i]:[i];return[...rH(r,o),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function oH(e){var{clipPathId:t,points:r,props:n}=e,{dot:o,dataKey:a,needClip:i}=n,{id:s}=n,c=Yx(n,VK),u=Jn(c);return h.createElement(Kq,{points:r,dot:o,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:i,clipPathId:t})}function aH(e){var{showLabels:t,children:r,points:n}=e,o=h.useMemo(()=>n==null?void 0:n.map(a=>{var i,s,c={x:(i=a.x)!==null&&i!==void 0?i:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hn(Hn({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return h.createElement(tq,{value:t?o:void 0},r)}function Xk(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:o,props:a}=e,{type:i,layout:s,connectNulls:c,needClip:u,shape:d}=a,f=Yx(a,YK),p=Hn(Hn({},Sr(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:s,connectNulls:c,strokeDasharray:o??a.strokeDasharray});return h.createElement(h.Fragment,null,(n==null?void 0:n.length)>1&&h.createElement(_q,cc({shapeType:"curve",option:d},p,{pathRef:r})),h.createElement(oH,{points:n,clipPathId:t,props:a}))}function iH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function sH(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:o,longestAnimatedLengthRef:a}=e,{points:i,strokeDasharray:s,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:v,onAnimationEnd:g,onAnimationStart:y}=r,x=o.current,b=Uy(i,"recharts-line-"),w=h.useRef(b),[k,S]=h.useState(!1),_=!k,N=h.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),C=h.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),I=iH(n.current),B=h.useRef(0);w.current!==b&&(B.current=a.current,w.current=b);var P=B.current;return h.createElement(aH,{points:i,showLabels:_},r.children,h.createElement(By,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:C,key:b},R=>{var Y=Lr(P,I+P,R),H=Math.min(Y,I),ae;if(c)if(s){var oe="".concat(s).split(/[,\s]+/gim).map(V=>parseFloat(V));ae=nH(H,I,oe)}else ae=_O(I,H);else ae=s==null?void 0:String(s);if(R>0&&I>0&&(o.current=i,a.current=Math.max(a.current,H)),x){var ie=x.length/i.length,M=R===1?i:i.map((V,z)=>{var Z=Math.floor(z*ie);if(x[Z]){var U=x[Z];return Hn(Hn({},V),{},{x:Lr(U.x,V.x,R),y:Lr(U.y,V.y,R)})}return p?Hn(Hn({},V),{},{x:Lr(m*2,V.x,R),y:Lr(v/2,V.y,R)}):Hn(Hn({},V),{},{x:V.x,y:V.y})});return o.current=M,h.createElement(Xk,{props:r,points:M,clipPathId:t,pathRef:n,strokeDasharray:ae})}return h.createElement(Xk,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:ae})}),h.createElement(oq,{label:r.label}))}function lH(e){var{clipPathId:t,props:r}=e,n=h.useRef(null),o=h.useRef(0),a=h.useRef(null);return h.createElement(sH,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:o,pathRef:a})}var cH=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:hr(e.payload,t)}};class uH extends h.Component{render(){var{hide:t,dot:r,points:n,className:o,xAxisId:a,yAxisId:i,top:s,left:c,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var v=et("recharts-line",o),g=f,{r:y,strokeWidth:x}=HK(r),b=sO(r),w=y*2+x,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return h.createElement(Bo,{zIndex:m},h.createElement(va,{className:v},p&&h.createElement("defs",null,h.createElement(bW,{clipPathId:g,xAxisId:a,yAxisId:i}),!b&&h.createElement("clipPath",{id:"clipPath-dots-".concat(g)},h.createElement("rect",{x:c-w/2,y:s-w/2,width:u+w,height:d+w}))),h.createElement(xW,{xAxisId:a,yAxisId:i,data:n,dataPointFormatter:cH,errorBarOffset:0},h.createElement(lH,{props:this.props,clipPathId:g}))),h.createElement(dW,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var jO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_r.line,type:"linear"};function dH(e){var t=Wr(e,jO),{activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,connectNulls:s,dot:c,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:v,id:g}=t,y=Yx(t,GK),{needClip:x}=pO(m,v),b=qx(),w=kp(),k=Hr(),S=Oe(B=>KK(B,m,v,k,g));if(w!=="horizontal"&&w!=="vertical"||S==null||b==null)return null;var{height:_,width:N,x:C,y:I}=b;return h.createElement(uH,cc({},y,{id:g,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:v,points:S,layout:w,height:_,width:N,left:C,top:I,needClip:x}))}function fH(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:o,yAxisTicks:a,dataKey:i,bandSize:s,displayedData:c}=e;return c.map((u,d)=>{var f=hr(u,i);if(t==="horizontal"){var p=zw({axis:r,ticks:o,bandSize:s,entry:u,index:d}),m=Gt(f)?null:n.scale(f);return{x:p,y:m,value:f,payload:u}}var v=Gt(f)?null:r.scale(f),g=zw({axis:n,ticks:a,bandSize:s,entry:u,index:d});return v==null||g==null?null:{x:v,y:g,value:f,payload:u}}).filter(Boolean)}function pH(e){var t=Wr(e,jO),r=Hr();return h.createElement(Eq,{id:t.id,type:"line"},n=>h.createElement(h.Fragment,null,h.createElement(Sq,{legendPayload:eH(t)}),h.createElement(tH,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),h.createElement(Rq,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),h.createElement(dH,cc({},t,{id:n}))))}var SO=h.memo(pH,Wx);SO.displayName="Line";var mH=["domain","range"],hH=["domain","range"];function Qk(e,t){if(e==null)return{};var r,n,o=vH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zk(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function CO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,o=Qk(e,mH),{domain:a,range:i}=t,s=Qk(t,hH);return!Zk(r,a)||!Zk(n,i)?!1:Wx(o,s)}var gH=["dangerouslySetInnerHTML","ticks"],yH=["id"];function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(null,arguments)}function Jk(e,t){if(e==null)return{};var r,n,o=xH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function xH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bH(e){var t=Qt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(Xq(e)):r.current!==e&&t(Qq({prev:r.current,next:e})),r.current=e},[e,t]),h.useLayoutEffect(()=>()=>{r.current&&(t(Zq(r.current)),r.current=null)},[t]),null}var wH=e=>{var{xAxisId:t,className:r}=e,n=Oe(Z2),o=Hr(),a="xAxis",i=Oe(y=>ws(y,a,t,o)),s=Oe(y=>pE(y,a,t,o)),c=Oe(y=>IB(y,t)),u=Oe(y=>FB(y,t)),d=Oe(y=>MP(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=Jk(e,gH),{id:v}=d,g=Jk(d,yH);return h.createElement(Vx,tg({},m,g,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:et("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},kH={allowDataOverflow:Ut.allowDataOverflow,allowDecimals:Ut.allowDecimals,allowDuplicatedCategory:Ut.allowDuplicatedCategory,angle:Ut.angle,axisLine:_o.axisLine,height:Ut.height,hide:!1,includeHidden:Ut.includeHidden,interval:Ut.interval,minTickGap:Ut.minTickGap,mirror:Ut.mirror,orientation:Ut.orientation,padding:Ut.padding,reversed:Ut.reversed,scale:Ut.scale,tick:Ut.tick,tickCount:Ut.tickCount,tickLine:_o.tickLine,tickSize:_o.tickSize,type:Ut.type,xAxisId:0},_H=e=>{var t=Wr(e,kH);return h.createElement(h.Fragment,null,h.createElement(bH,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),h.createElement(wH,t))},NO=h.memo(_H,CO);NO.displayName="XAxis";var jH=["dangerouslySetInnerHTML","ticks"],SH=["id"];function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(null,arguments)}function e_(e,t){if(e==null)return{};var r,n,o=CH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function CH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NH(e){var t=Qt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(Jq(e)):r.current!==e&&t(eW({prev:r.current,next:e})),r.current=e},[e,t]),h.useLayoutEffect(()=>()=>{r.current&&(t(tW(r.current)),r.current=null)},[t]),null}var PH=e=>{var{yAxisId:t,className:r,width:n,label:o}=e,a=h.useRef(null),i=h.useRef(null),s=Oe(Z2),c=Hr(),u=Qt(),d="yAxis",f=Oe(S=>ws(S,d,t,c)),p=Oe(S=>qB(S,t)),m=Oe(S=>UB(S,t)),v=Oe(S=>pE(S,d,t,c)),g=Oe(S=>IP(S,t));if(h.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Ux(o)||h.isValidElement(o)||g==null)){var S=a.current;if(S){var _=S.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&u(rW({id:t,width:_}))}}},[v,p,u,o,t,n,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x}=e,b=e_(e,jH),{id:w}=g,k=e_(g,SH);return h.createElement(Vx,rg({},b,k,{ref:a,labelRef:i,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:et("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:v,axisType:d}))},EH={allowDataOverflow:qt.allowDataOverflow,allowDecimals:qt.allowDecimals,allowDuplicatedCategory:qt.allowDuplicatedCategory,angle:qt.angle,axisLine:_o.axisLine,hide:!1,includeHidden:qt.includeHidden,interval:qt.interval,minTickGap:qt.minTickGap,mirror:qt.mirror,orientation:qt.orientation,padding:qt.padding,reversed:qt.reversed,scale:qt.scale,tick:qt.tick,tickCount:qt.tickCount,tickLine:_o.tickLine,tickSize:_o.tickSize,type:qt.type,width:qt.width,yAxisId:0},OH=e=>{var t=Wr(e,EH);return h.createElement(h.Fragment,null,h.createElement(NH,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),h.createElement(PH,t))},PO=h.memo(OH,CO);PO.displayName="YAxis";var AH=(e,t)=>t,Gx=X([AH,pt,OP,$t,OE,Fo,o7,lr],d7),Xx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},EO=_n("mouseClick"),OO=Sc();OO.startListening({actionCreator:EO,effect:(e,t)=>{var r=e.payload,n=Gx(t.getState(),Xx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(r9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var ng=_n("mouseMove"),AO=Sc(),Ru=null;AO.startListening({actionCreator:ng,effect:(e,t)=>{var r=e.payload;Ru!==null&&cancelAnimationFrame(Ru);var n=Xx(r);Ru=requestAnimationFrame(()=>{var o=t.getState(),a=Ax(o,o.tooltip.settings.shared);if(a==="axis"){var i=Gx(o,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(kE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(wE())}Ru=null})}});var t_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},DO=Kr({name:"rootProps",initialState:t_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:t_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),DH=DO.reducer,{updateOptions:MH}=DO.actions,MO=Kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:lY}=MO.actions,IH=MO.reducer,IO=_n("keyDown"),TO=_n("focus"),Qx=Sc();Qx.startListening({actionCreator:IO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var i=Dx(o,_s(r),Tc(r),Fc(r)),s=i==null?-1:Number(i);if(!(!Number.isFinite(s)||s<0)){var c=Fo(r);if(a==="Enter"){var u=xf(r,"axis","hover",String(o.index));t.dispatch(Gv({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:u}));return}var d=VB(r),f=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=s+p*f;if(!(c==null||m>=c.length||m<0)){var v=xf(r,"axis","hover",String(m));t.dispatch(Gv({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});Qx.startListening({actionCreator:TO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip;if(!o.active&&o.index==null){var a="0",i=xf(r,"axis","hover",String(a));t.dispatch(Gv({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:i}))}}}});var pn=_n("externalEvent"),RO=Sc(),ch=new Map;RO.startListening({actionCreator:pn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var o=n.type,a=ch.get(o);a!==void 0&&cancelAnimationFrame(a);var i=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:U9(s),activeDataKey:F9(s),activeIndex:sc(s),activeLabel:ME(s),activeTooltipIndex:sc(s),isTooltipActive:q9(s)};r(c,n)}finally{ch.delete(o)}});ch.set(o,i)}}});var TH=X([ks],e=>e.tooltipItemPayloads),RH=X([TH,Lc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var o=e.find(s=>s.settings.dataKey===n);if(o!=null){var{positions:a}=o;if(a!=null){var i=t(a,r);return i}}}),zO=_n("touchMove"),LO=Sc();LO.startListening({actionCreator:zO,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),o=Ax(n,n.tooltip.settings.shared);if(o==="axis"){var a=Gx(n,Xx({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(kE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(o==="item"){var i,s=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Yz),d=(i=c.getAttribute(Gz))!==null&&i!==void 0?i:void 0,f=RH(t.getState(),u,d);t.dispatch(t9({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var zH=x2({brush:HW,cartesianAxis:nW,chartData:U7,errorBars:pW,graphicalItems:Iq,layout:Dz,legend:zL,options:z7,polarAxis:iq,polarOptions:IH,referenceElements:JW,rootProps:DH,tooltip:n9,zIndex:S7}),LH=function(t){return nz({reducer:zH,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([OO.middleware,AO.middleware,Qx.middleware,RO.middleware,LO.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(I2({type:"raf"}))},devTools:Pc.devToolsEnabled})};function $H(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,o=Hr(),a=h.useRef(null);if(o)return r;a.current==null&&(a.current=LH(t));var i=Ny;return h.createElement(UW,{context:i,store:a.current},r)}function FH(e){var{layout:t,margin:r}=e,n=Qt(),o=Hr();return h.useEffect(()=>{o||(n(Ez(t)),n(Pz(r)))},[n,o,t,r]),null}var BH=h.memo(FH,Wx);function UH(e){var t=Qt();return h.useEffect(()=>{t(MH(e))},[t,e]),null}function r_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",o=cO("".concat(n).concat(t)),a=Qt();return h.useLayoutEffect(()=>(a(_7({zIndex:t,elementId:o,isPanorama:r})),()=>{a(j7({zIndex:t,isPanorama:r}))}),[a,t,o,r]),h.createElement("g",{tabIndex:-1,id:o})}function n_(e){var{children:t,isPanorama:r}=e,n=Oe(p7);if(!n||n.length===0)return t;var o=n.filter(i=>i<0),a=n.filter(i=>i>0);return h.createElement(h.Fragment,null,o.map(i=>h.createElement(r_,{key:i,zIndex:i,isPanorama:r})),t,a.map(i=>h.createElement(r_,{key:i,zIndex:i,isPanorama:r})))}var qH=["children"];function WH(e,t){if(e==null)return{};var r,n,o=KH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function KH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}var HH={width:"100%",height:"100%",display:"block"},VH=h.forwardRef((e,t)=>{var r=sN(),n=lN(),o=vN();if(!ro(r)||!ro(n))return null;var{children:a,otherAttributes:i,title:s,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=o?0:void 0,typeof i.role=="string"?d=i.role:d=o?"application":void 0),h.createElement(bC,Cf({},i,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:HH,ref:t}),a)}),YH=e=>{var{children:t}=e,r=Oe(bp);if(!r)return null;var{width:n,height:o,y:a,x:i}=r;return h.createElement(bC,{width:n,height:o,x:i,y:a},t)},o_=h.forwardRef((e,t)=>{var{children:r}=e,n=WH(e,qH),o=Hr();return o?h.createElement(YH,null,h.createElement(n_,{isPanorama:!0},r)):h.createElement(VH,Cf({ref:t},n),h.createElement(n_,{isPanorama:!1},r))});function GH(){var e=Qt(),[t,r]=h.useState(null),n=Oe(Vz);return h.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),a=o.width/t.offsetWidth;Xt(a)&&a!==n&&e(Az(a))}},[t,e,n]),r}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function XH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=JH(e,"string");return typeof t=="symbol"?t:t+""}function JH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(){return oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oi.apply(null,arguments)}var eV=()=>(Q7(),null);function Nf(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tV=h.forwardRef((e,t)=>{var r,n,o=h.useRef(null),[a,i]=h.useState({containerWidth:Nf((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Nf((n=e.style)===null||n===void 0?void 0:n.height)}),s=h.useCallback((u,d)=>{i(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),c=h.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=v=>{var{width:g,height:y}=v[0].contentRect;s(g,y)},m=new ResizeObserver(p);m.observe(u),o.current=m}},[t,s]);return h.useEffect(()=>()=>{var u=o.current;u!=null&&u.disconnect()},[s]),h.createElement(h.Fragment,null,h.createElement(_p,{width:a.containerWidth,height:a.containerHeight}),h.createElement("div",oi({ref:c},e)))}),rV=h.forwardRef((e,t)=>{var{width:r,height:n}=e,[o,a]=h.useState({containerWidth:Nf(r),containerHeight:Nf(n)}),i=h.useCallback((c,u)=>{a(d=>{var f=Math.round(c),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=h.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return h.createElement(h.Fragment,null,h.createElement(_p,{width:o.containerWidth,height:o.containerHeight}),h.createElement("div",oi({ref:s},e)))}),nV=h.forwardRef((e,t)=>{var{width:r,height:n}=e;return h.createElement(h.Fragment,null,h.createElement(_p,{width:r,height:n}),h.createElement("div",oi({ref:t},e)))}),oV=h.forwardRef((e,t)=>{var{width:r,height:n}=e;return Po(r)||Po(n)?h.createElement(rV,oi({},e,{ref:t})):h.createElement(nV,oi({},e,{ref:t}))});function aV(e){return e===!0?tV:oV}var iV=h.forwardRef((e,t)=>{var{children:r,className:n,height:o,onClick:a,onContextMenu:i,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,k=h.useRef(null),S=Qt(),[_,N]=h.useState(null),[C,I]=h.useState(null),B=GH(),P=Ly(),R=(P==null?void 0:P.width)>0?P.width:x,Y=(P==null?void 0:P.height)>0?P.height:o,H=h.useCallback(D=>{B(D),typeof t=="function"&&t(D),N(D),I(D),D!=null&&(k.current=D)},[B,t,N,I]),ae=h.useCallback(D=>{S(EO(D)),S(pn({handler:a,reactEvent:D}))},[S,a]),oe=h.useCallback(D=>{S(ng(D)),S(pn({handler:u,reactEvent:D}))},[S,u]),ie=h.useCallback(D=>{S(wE()),S(pn({handler:d,reactEvent:D}))},[S,d]),M=h.useCallback(D=>{S(ng(D)),S(pn({handler:f,reactEvent:D}))},[S,f]),V=h.useCallback(()=>{S(TO())},[S]),z=h.useCallback(D=>{S(IO(D.key))},[S]),Z=h.useCallback(D=>{S(pn({handler:i,reactEvent:D}))},[S,i]),U=h.useCallback(D=>{S(pn({handler:s,reactEvent:D}))},[S,s]),K=h.useCallback(D=>{S(pn({handler:c,reactEvent:D}))},[S,c]),Q=h.useCallback(D=>{S(pn({handler:p,reactEvent:D}))},[S,p]),he=h.useCallback(D=>{S(pn({handler:g,reactEvent:D}))},[S,g]),O=h.useCallback(D=>{w&&S(zO(D)),S(pn({handler:v,reactEvent:D}))},[S,w,v]),re=h.useCallback(D=>{S(pn({handler:m,reactEvent:D}))},[S,m]),$=aV(b);return h.createElement(FE.Provider,{value:_},h.createElement(X4.Provider,{value:C},h.createElement($,{width:R??(y==null?void 0:y.width),height:Y??(y==null?void 0:y.height),className:et("recharts-wrapper",n),style:XH({position:"relative",cursor:"default",width:R,height:Y},y),onClick:ae,onContextMenu:Z,onDoubleClick:U,onFocus:V,onKeyDown:z,onMouseDown:K,onMouseEnter:oe,onMouseLeave:ie,onMouseMove:M,onMouseUp:Q,onTouchEnd:re,onTouchMove:O,onTouchStart:he,ref:H},h.createElement(eV,null),r)))}),sV=["width","height","responsive","children","className","style","compact","title","desc"];function lV(e,t){if(e==null)return{};var r,n,o=cV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function cV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uV=h.forwardRef((e,t)=>{var{width:r,height:n,responsive:o,children:a,className:i,style:s,compact:c,title:u,desc:d}=e,f=lV(e,sV),p=Jn(f);return c?h.createElement(h.Fragment,null,h.createElement(_p,{width:r,height:n}),h.createElement(o_,{otherAttributes:p,title:u,desc:d},a)):h.createElement(iV,{className:i,style:s,width:r,height:n,responsive:o??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(o_,{otherAttributes:p,title:u,desc:d,ref:t},h.createElement(tK,null,a)))});function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}var dV={top:5,right:5,bottom:5,left:5},fV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dV,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pV=h.forwardRef(function(t,r){var n,o=Wr(t.categoricalChartProps,fV),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return h.createElement($H,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},h.createElement(KW,{chartData:u.data}),h.createElement(BH,{layout:o.layout,margin:o.margin}),h.createElement(UH,{baseValue:o.baseValue,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),h.createElement(uV,og({},o,{ref:r})))}),mV=["axis"],hV=h.forwardRef((e,t)=>h.createElement(pV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mV,tooltipPayloadSearcher:T7,categoricalChartProps:e,ref:t}));const vV={light:"",dark:".dark"},$O=h.createContext(null);function FO(){const e=h.useContext($O);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const BO=h.forwardRef(({id:e,className:t,children:r,config:n,...o},a)=>{const i=h.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return l.jsx($O.Provider,{value:{config:n},children:l.jsxs("div",{"data-chart":s,ref:a,className:Vt("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...o,children:[l.jsx(gV,{id:s,config:n}),l.jsx(xL,{children:r})]})})});BO.displayName="Chart";const gV=({id:e,config:t})=>{const r=Object.entries(t).filter(([,n])=>n.theme||n.color);return r.length?l.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(vV).map(([n,o])=>`
${o} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${a}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},yV=aU,xV=h.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:o=!1,hideIndicator:a=!1,label:i,labelFormatter:s,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:p},m)=>{const{config:v}=FO(),g=h.useMemo(()=>{var S;if(o||!(t!=null&&t.length))return null;const[x]=t,b=`${p||x.dataKey||x.name||"value"}`,w=v[b],k=!p&&typeof i=="string"?((S=v[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return s?l.jsx("div",{className:Vt("font-medium",c),children:s(k,t)}):k?l.jsx("div",{className:Vt("font-medium",c),children:k}):null},[i,s,t,o,c,v,p]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return l.jsxs("div",{ref:m,className:Vt("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:g,l.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${f||x.name||x.dataKey||"value"}`,k=v[w],S=d||x.payload.fill||x.color;return l.jsx("div",{className:Vt("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):l.jsxs(l.Fragment,{children:[k!=null&&k.icon?l.jsx(k.icon,{}):!a&&l.jsx("div",{className:Vt("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),l.jsxs("div",{className:Vt("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[l.jsxs("div",{className:"grid gap-1.5",children:[y?g:null,l.jsx("span",{className:"text-muted-foreground",children:(k==null?void 0:k.label)||x.name})]}),x.value&&l.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});xV.displayName="ChartTooltip";const bV=h.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:o},a)=>{const{config:i}=FO();return r!=null&&r.length?l.jsx("div",{ref:a,className:Vt("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${o||s.dataKey||"value"}`,u=i[c];return l.jsxs("div",{className:Vt("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?l.jsx(u.icon,{}):l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l.jsx("span",{className:"text-muted-foreground",children:u==null?void 0:u.label})]},s.value)})}):null});bV.displayName="ChartLegend";function wV({sales:e,saleItems:t}){const[r,n]=h.useState("day"),[o,a]=h.useState("sales"),[i,s]=h.useState([]),c=h.useCallback(p=>{switch(r){case"hour":{const m=new Date(p);m.setMinutes(0,0,0);const v=p.getHours().toString().padStart(2,"0"),g=p.toLocaleDateString("es-AR",{day:"numeric",month:"short"});return{key:`${v}:00|${g}`,sortDate:m}}case"day":{const m=new Date(p);return m.setHours(0,0,0,0),{key:p.toLocaleDateString("es-AR",{month:"short",day:"numeric"}),sortDate:m}}case"week":{const m=new Date(p);return m.setDate(p.getDate()-p.getDay()),m.setHours(0,0,0,0),{key:`Sem ${m.toLocaleDateString("es-AR",{month:"short",day:"numeric"})}`,sortDate:m}}case"month":{const m=new Date(p.getFullYear(),p.getMonth(),1);return{key:p.toLocaleDateString("es-AR",{year:"numeric",month:"short"}),sortDate:m}}case"year":{const m=new Date(p.getFullYear(),0,1);return{key:p.getFullYear().toString(),sortDate:m}}default:{const m=new Date(p);return m.setHours(0,0,0,0),{key:p.toLocaleDateString("es-AR",{month:"short",day:"numeric"}),sortDate:m}}}},[r]),u=h.useCallback(()=>{if(e.length===0){s([]);return}const p={};if(o==="sales")e.forEach(v=>{const g=new Date(v.completed_at),{key:y,sortDate:x}=c(g);p[y]||(p[y]={value:0,count:0,minDate:x}),p[y].value+=v.total_amount,p[y].count+=1,x<p[y].minDate&&(p[y].minDate=x)});else if(o==="products"){const v=new Map;e.forEach(y=>{v.set(y.id,new Date(y.completed_at))});const g=new Set;t.forEach(y=>{const x=v.get(y.sale_id);if(!x)return;if(y.combo_name){const k=y.combo_instance_id||y.id;if(g.has(k))return;g.add(k)}const{key:b,sortDate:w}=c(x);p[b]||(p[b]={value:0,count:0,minDate:w}),p[b].value+=y.quantity,p[b].count+=y.quantity,w<p[b].minDate&&(p[b].minDate=w)})}else o==="delivery"&&(e.filter(g=>g.order_type==="delivery"&&g.scheduled_time&&g.delivered_at).forEach(g=>{const y=new Date(g.completed_at),{key:x,sortDate:b}=c(y),w=new Date(g.scheduled_time).getTime(),S=(new Date(g.delivered_at).getTime()-w)/(1e3*60);p[x]||(p[x]={value:0,count:0,minDate:b}),p[x].value+=S,p[x].count+=1,b<p[x].minDate&&(p[x].minDate=b)}),Object.keys(p).forEach(g=>{p[g].count>0&&(p[g].value=Math.round(p[g].value/p[g].count))}));const m=Object.entries(p).map(([v,{value:g,count:y,minDate:x}])=>({label:v,value:g,count:y,minDate:x})).sort((v,g)=>v.minDate.getTime()-g.minDate.getTime());s(m)},[o,c,t,e]),d=[{value:"hour",label:"H"},{value:"day",label:"D"},{value:"week",label:"S"},{value:"month",label:"M"},{value:"year",label:"A"}],f={value:{label:o==="sales"?"Ventas":o==="products"?"Productos":"Entregas",color:"var(--color-primary)"}};return h.useEffect(()=>{u()},[e,t,r,o,u]),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[l.jsxs("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:["Grfico de"," ",o==="sales"?"Ventas":o==="products"?"Productos":"Tiempos de Entrega"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex gap-1 p-1 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsx("button",{onClick:()=>a("sales"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="sales"?"text-white":""}`,style:o==="sales"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Ventas"}),l.jsx("button",{onClick:()=>a("products"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="products"?"text-white":""}`,style:o==="products"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Productos"}),l.jsx("button",{onClick:()=>a("delivery"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="delivery"?"text-white":""}`,style:o==="delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Entregas"})]}),l.jsx("div",{className:"flex gap-1 p-1 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:d.map(p=>l.jsx("button",{onClick:()=>n(p.value),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${r===p.value?"text-white":""}`,style:r===p.value?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:p.label},p.value))})]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-400 py-12",children:"No hay datos de ventas para este perodo"}):l.jsxs("div",{className:"relative",children:[l.jsx(BO,{config:f,className:"h-[300px] w-full",children:l.jsxs(hV,{data:i,children:[l.jsx(yO,{strokeDasharray:"3 3",stroke:"var(--color-primary)",opacity:.1,vertical:!1}),l.jsx(NO,{dataKey:"label",stroke:"var(--color-text)",opacity:.5,fontSize:12,tickLine:!1,axisLine:!1,tick:({x:p,y:m,payload:v})=>{if(r==="hour"&&v.value.includes("|")){const[g,y]=v.value.split("|");return l.jsxs("g",{transform:`translate(${p},${m})`,children:[l.jsx("text",{x:0,y:0,dy:12,textAnchor:"middle",fill:"var(--color-text)",opacity:.7,fontSize:12,fontWeight:600,children:g}),l.jsx("text",{x:0,y:0,dy:26,textAnchor:"middle",fill:"var(--color-text)",opacity:.4,fontSize:10,children:y})]})}return l.jsx("g",{transform:`translate(${p},${m})`,children:l.jsx("text",{x:0,y:0,dy:12,textAnchor:"middle",fill:"var(--color-text)",opacity:.5,fontSize:12,children:v.value})})},height:50}),l.jsx(PO,{stroke:"var(--color-text)",opacity:.5,fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:p=>o==="sales"?`$${p.toLocaleString()}`:o==="delivery"?`${p>0?"+":""}${p}m`:p.toLocaleString()}),l.jsx(yV,{content:({active:p,payload:m,label:v})=>{if(!p||!m||!m.length)return null;const g=m[0].payload,y=g.value,x=g.count,b=v.includes("|")?v.replace("|"," - "):v;return l.jsxs("div",{className:"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",children:[l.jsx("div",{className:"font-medium mb-1",style:{color:"var(--color-text)"},children:b}),o==="sales"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-bold",style:{color:"var(--color-primary)"},children:fe(y)}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[at(x)," ",x===1?"venta":"ventas"]})]}):o==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-bold",style:{color:"var(--color-primary)"},children:[at(y)," unidades"]}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[at(x)," ",x===1?"producto":"productos"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-bold",style:{color:Math.abs(y)<=5?"#10b981":y>0?"#ef4444":"#3b82f6"},children:[y>0?"+":"",y," min"]}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[at(x)," ",x===1?"entrega":"entregas"]})]})]})}}),l.jsx(SO,{type:"monotone",dataKey:"value",stroke:"var(--color-primary)",strokeWidth:3,dot:{fill:"var(--color-primary)",strokeWidth:2,r:4,stroke:"var(--color-background-secondary)"},activeDot:{r:6,fill:"var(--color-accent)",stroke:"var(--color-background-secondary)"}})]})}),l.jsx("div",{className:"mt-4 flex justify-between items-center text-sm",style:{color:"var(--color-text)"},children:o==="sales"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Total: "}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:fe(i.reduce((p,m)=>p+m.value,0))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Ventas: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]}):o==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Total Unidades: "}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:at(i.reduce((p,m)=>p+m.value,0))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Productos: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Promedio: "}),l.jsx("span",{className:"font-bold",style:{color:(()=>{const p=i.reduce((v,g)=>v+g.count,0),m=p>0?i.reduce((v,g)=>v+g.value*g.count,0)/p:0;return Math.abs(m)<=5?"#10b981":m>0?"#ef4444":"#3b82f6"})()},children:(()=>{const p=i.reduce((v,g)=>v+g.count,0),m=p>0?Math.round(i.reduce((v,g)=>v+g.value*g.count,0)/p):0;return`${m>0?"+":""}${m} min`})()})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Entregas: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]})})]})]})}function kV(){const{sales:e}=Qf(),{products:t}=Xf(),{materiaPrima:r,calculateAvailableStock:n}=bc(),[o,a]=h.useState([]),[i,s]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState(0),[p,m]=h.useState(0),[v,g]=h.useState("all"),[y,x]=h.useState("all"),[b,w]=h.useState("all"),[k,S]=h.useState(""),[_,N]=h.useState(""),[C,I]=h.useState(""),[B,P]=h.useState([]),R=h.useCallback(W=>{if(b==="all")return W;const E=new Date;let ue,le;if(b==="specific"){if(!C)return W;const[ge,we,Me]=C.split("-").map(Number);ue=new Date(ge,we-1,Me,0,0,0,0),le=new Date(ge,we-1,Me,23,59,59,999)}else if(b==="custom"){if(!k||!_)return W;const[ge,we,Me]=k.split("-").map(Number),[He,Re,Le]=_.split("-").map(Number);ue=new Date(ge,we-1,Me,0,0,0,0),le=new Date(He,Re-1,Le,23,59,59,999)}else switch(b){case"today":ue=new Date(E),ue.setHours(0,0,0,0),le=new Date(E),le.setHours(23,59,59,999);break;case"yesterday":ue=new Date(E),ue.setDate(ue.getDate()-1),ue.setHours(0,0,0,0),le=new Date(ue),le.setHours(23,59,59,999);break;case"last7":ue=new Date(E),ue.setDate(ue.getDate()-6),ue.setHours(0,0,0,0),le=new Date(E),le.setHours(23,59,59,999);break;case"last30":ue=new Date(E),ue.setDate(ue.getDate()-29),ue.setHours(0,0,0,0),le=new Date(E),le.setHours(23,59,59,999);break;case"thisMonth":ue=new Date(E.getFullYear(),E.getMonth(),1),ue.setHours(0,0,0,0),le=new Date(E),le.setHours(23,59,59,999);break;case"lastMonth":ue=new Date(E.getFullYear(),E.getMonth()-1,1),ue.setHours(0,0,0,0),le=new Date(E.getFullYear(),E.getMonth(),0),le.setHours(23,59,59,999);break;default:return W}return W.filter(ge=>{const we=new Date(ge.completed_at);return we>=ue&&we<=le})},[b,_,C,k]),[Y,H]=h.useState([]),ae=h.useCallback(async()=>{await q.init();const W=await q.getAll("sale_items"),E=R(e);let ue=W;v!=="all"&&(ue=ue.filter(pe=>{const je=t.find(Ve=>Ve.id===pe.product_id);return(je==null?void 0:je.category)===v})),y!=="all"&&(ue=ue.filter(pe=>{const je=t.find(Ve=>Ve.id===pe.product_id);return(je==null?void 0:je.id)===y}));const le=new Set(ue.map(pe=>pe.sale_id)),ge=E.filter(pe=>v==="all"||le.has(pe.id));P(ge);const we=new Set(ge.map(pe=>pe.id)),Me=ue.filter(pe=>we.has(pe.sale_id));H(Me);const He=Me.filter(pe=>!pe.combo_name),Re=Me.filter(pe=>pe.combo_name),Le={};let Jt=0,Ie=0;He.forEach(pe=>{Le[pe.product_id]||(Le[pe.product_id]={product_name:pe.product_name,quantity:0,revenue:0,profit:0});const je=(pe.product_price-(pe.production_cost||0))*pe.quantity;Le[pe.product_id].quantity+=pe.quantity,Le[pe.product_id].revenue+=pe.subtotal,Le[pe.product_id].profit+=je,Jt+=je,Ie+=pe.subtotal});const tt=new Set,mt=new Map;Re.forEach(pe=>{const je=pe.combo_instance_id||pe.id,Ve=mt.get(je)||{comboPrice:pe.combo_unit_price||0,productsTotal:0,productionCost:0};Ve.productsTotal+=pe.product_price*pe.quantity,Ve.productionCost+=(pe.production_cost||0)*pe.quantity,mt.set(je,Ve)}),Re.forEach(pe=>{const je=pe.combo_instance_id||pe.id;Le[pe.product_id]||(Le[pe.product_id]={product_name:pe.product_name,quantity:0,revenue:0,profit:0});const Ve=(pe.product_price-(pe.production_cost||0))*pe.quantity;if(Le[pe.product_id].quantity+=pe.quantity,Le[pe.product_id].revenue+=pe.product_price*pe.quantity,Le[pe.product_id].profit+=Ve,!tt.has(je)){tt.add(je);const rt=mt.get(je);Ie+=rt.comboPrice,Jt+=rt.comboPrice-rt.productionCost}}),f(Jt),m(Ie);const Ar=Object.entries(Le).map(([pe,je])=>({product_id:pe,product_name:je.product_name,quantity:je.quantity,revenue:je.revenue,profit:je.profit})).sort((pe,je)=>je.quantity-pe.quantity),er=Ar.slice(0,5),st=Object.entries(Le).map(([pe,je])=>({product_id:pe,product_name:je.product_name,quantity:je.quantity,revenue:je.revenue,profit:je.profit})).sort((pe,je)=>je.profit-pe.profit).slice(0,5);a(er),s(Ar),u(st)},[v,R,y,t,e]),oe=v==="all"?t:t.filter(W=>W.category===v),ie=y==="all"?oe:oe.filter(W=>W.id===y),M=p,V=B.length,z=V>0?M/V:0,Z=(()=>{const W=B.filter(we=>we.order_type==="delivery"&&we.scheduled_time&&we.delivered_at);if(W.length===0)return{count:0,averageDelay:0,onTimeCount:0,lateCount:0,earlyCount:0,onTimePercentage:0};let E=0,ue=0,le=0,ge=0;return W.forEach(we=>{const Me=new Date(we.scheduled_time).getTime(),Re=(new Date(we.delivered_at).getTime()-Me)/(1e3*60);E+=Re,Math.abs(Re)<=5?ue++:Re>5?le++:ge++}),{count:W.length,averageDelay:E/W.length,onTimeCount:ue,lateCount:le,earlyCount:ge,onTimePercentage:ue/W.length*100}})(),K=ie.filter(W=>!W.uses_materia_prima).reduce((W,E)=>W+E.production_cost*E.stock,0),[Q,he]=h.useState([]),re=(()=>{if(y!=="all"){const ge=t.find(we=>we.id===y);if(ge&&ge.uses_materia_prima){const Me=Q.filter(He=>He.product_id===y).map(He=>He.materia_prima_id);return r.filter(He=>Me.includes(He.id))}return[]}if(v==="all")return r;const E=t.filter(ge=>ge.uses_materia_prima&&ge.category===v).map(ge=>ge.id),le=Q.filter(ge=>E.includes(ge.product_id)).map(ge=>ge.materia_prima_id);return r.filter(ge=>le.includes(ge.id))})().reduce((W,E)=>W+E.cost_per_unit*E.stock,0),$=K+re,D=[{value:"all",label:"Todas las Categoras"},{value:"hamburguesas",label:"Hamburguesas"},{value:"papas fritas",label:"Papas Fritas"},{value:"bebidas",label:"Bebidas"}],J=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7",label:"Last 7 Days"},{value:"last30",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"specific",label:"Specific Date"},{value:"custom",label:"Custom Range"}];return h.useEffect(()=>{(async()=>{await q.init();const E=await q.getAll("product_materia_prima");he(E)})()},[]),h.useEffect(()=>{ae()},[e,v,y,b,k,_,C,ae]),h.useEffect(()=>{x("all")},[v]),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(kS,{style:{color:"var(--color-primary)"}}),"Mtricas y Anlisis"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Analiz el rendimiento de tu negocio con mtricas detalladas y reportes visuales"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(_S,{size:20,style:{color:"var(--color-text)"}}),l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Category:"}),l.jsx("select",{value:v,onChange:W=>g(W.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:D.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))})]}),v!=="all"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Product:"}),l.jsxs("select",{value:y,onChange:W=>x(W.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:[l.jsx("option",{value:"all",children:"All Products"}),oe.map(W=>l.jsx("option",{value:W.id,children:W.name},W.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Date:"}),l.jsx("select",{value:b,onChange:W=>w(W.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:J.map(W=>l.jsx("option",{value:W.value,children:W.label},W.value))})]}),b==="specific"&&l.jsx("input",{type:"date",value:C,onChange:W=>I(W.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}}),b==="custom"&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:k,onChange:W=>S(W.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}}),l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"to"}),l.jsx("input",{type:"date",value:_,onChange:W=>N(W.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ingresos Totales"}),l.jsx(Nd,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:fe(M)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ventas Totales"}),l.jsx(yI,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:V})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Venta Promedio"}),l.jsx($b,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:fe(z)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ganancia Total"}),l.jsx($b,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:fe(d)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Valor Inventario"}),l.jsx(wo,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:fe($)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Tiempo Entrega"}),l.jsx(yl,{size:18,style:{color:"var(--color-primary)"}})]}),Z.count>0?l.jsxs("div",{children:[l.jsxs("div",{className:"text-xl font-bold",style:{color:Math.abs(Z.averageDelay)<=5?"#10b981":Z.averageDelay>0?"#ef4444":"#3b82f6"},children:[Z.averageDelay>0?"+":"",Math.round(Z.averageDelay)," min"]}),l.jsxs("div",{className:"text-xs space-y-0.5",style:{color:"var(--color-text)",opacity:.7},children:[l.jsxs("div",{children:["A tiempo: ",Z.onTimeCount," (",Z.onTimePercentage.toFixed(0),"%)"]}),l.jsxs("div",{children:["Tarde: ",Z.lateCount," | Temp:"," ",Z.earlyCount]})]})]}):l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.6},children:"Sin datos"})]})]}),l.jsx("div",{className:"mb-6",children:l.jsx(wV,{sales:B,saleItems:Y})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Ms Rentables"}),l.jsx("div",{className:"space-y-4",children:c.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):c.map((W,E)=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:E+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:W.product_name}),l.jsxs("div",{className:"text-sm opacity-60 mt-1",style:{color:"var(--color-text)"},children:[at(W.quantity)," unidad/es vendidas"]}),l.jsxs("div",{className:"text-xs mt-1 opacity-60",style:{color:"var(--color-text)"},children:["Ingreso: ",fe(W.revenue)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs opacity-60 mb-1",style:{color:"var(--color-text)"},children:"Ganancia"}),l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:fe(W.profit)})]})]})},W.product_name))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Ms Vendidos"}),l.jsx("div",{className:"space-y-4",children:o.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):o.map((W,E)=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:E+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:W.product_name}),l.jsxs("div",{className:"text-sm opacity-60 mt-1",style:{color:"var(--color-text)"},children:[at(W.quantity)," unidad/es vendidas"]}),l.jsxs("div",{className:"text-xs mt-1 opacity-60",style:{color:"var(--color-text)"},children:["Ingreso: ",fe(W.revenue)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs opacity-60 mb-1",style:{color:"var(--color-text)"},children:"Ganancia"}),l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:fe(W.profit)})]})]})},W.product_name))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6 flex flex-col",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Vendidos"}),l.jsx("div",{className:"space-y-4 overflow-y-auto scrollbar-hide",style:{maxHeight:"500px"},children:i.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):(()=>{const W=i.reduce((le,ge)=>{const we=t.find(He=>He.id===ge.product_id),Me=(we==null?void 0:we.category)||"N/A";return le[Me]||(le[Me]=[]),le[Me].push(ge),le},{}),E=["hamburguesas","papas fritas","bebidas"];return Object.keys(W).sort((le,ge)=>{const we=E.indexOf(le.toLowerCase()),Me=E.indexOf(ge.toLowerCase());return we!==-1&&Me!==-1?we-Me:we!==-1?-1:Me!==-1?1:le.localeCompare(ge)}).map(le=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-semibold text-sm uppercase tracking-wide opacity-60 px-2",style:{color:"var(--color-text)"},children:le}),W[le].map(ge=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:ge.product_name})}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:at(ge.quantity)}),l.jsx("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:"unidad/es"})]})]},ge.product_name))]},le))})()})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Estado del Inventario"}),l.jsx("div",{className:"space-y-4",children:(v==="all"?["hamburguesas","papas fritas","bebidas"]:[v]).map(W=>{const E=()=>{const[ue,le]=ne.useState({totalStock:0,totalValue:0,totalCost:0,productCount:0});ne.useEffect(()=>{(async()=>{const Me=t.filter(tt=>tt.category===W),He=Me.filter(tt=>!tt.uses_materia_prima),Re=Me.filter(tt=>tt.uses_materia_prima);let Le=0,Jt=0,Ie=0;for(const tt of He)Le+=tt.stock,Jt+=tt.price*tt.stock,Ie+=tt.production_cost*tt.stock;if(Re.length>0){const mt=Re.map(st=>Q.filter(je=>je.product_id===st.id).map(je=>je.materia_prima_id)).flat(),Ar=new Set(mt);if(mt.length!==Ar.size){let st=0;for(const Ve of Re){const rt=await n(Ve.id);rt>st&&(st=rt)}const pe=Re.reduce((Ve,rt)=>Ve+rt.price,0)/Re.length,je=Re.reduce((Ve,rt)=>Ve+rt.production_cost,0)/Re.length;Le+=st,Jt+=pe*st,Ie+=je*st}else for(const st of Re){const pe=await n(st.id);Le+=pe,Jt+=st.price*pe,Ie+=st.production_cost*pe}}le({totalStock:Le,totalValue:Jt,totalCost:Ie,productCount:Me.length})})()},[]);const ge=ue.totalValue-ue.totalCost;return l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"font-semibold capitalize",style:{color:"var(--color-text)"},children:W}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:[ue.productCount," productos"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Unidades Totales:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:at(ue.totalStock)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Costo Total:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(ue.totalCost)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Valor de Venta:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(ue.totalValue)})]}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",style:{borderColor:"var(--color-primary)"},children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Ganancia Potencial:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-accent)"},children:fe(ge)})]})]})};return l.jsx(E,{},W)})})]})]})]})}const Pe={nav:{pos:"Punto de Venta",products:"Productos",sales:"Historial de Ventas",metrics:"Mtricas y Anlisis",cashDrawer:"Caja",settings:"Configuracin",collapse:"Contraer"},pos:{title:"Punto de Venta",cart:"Carrito",cartEmpty:"El carrito est vaco",total:"Total:",stock:"Stock:",proceedToPayment:"Proceder al pago",paymentMethod:"Mtodo de pago:",cash:"Efectivo",online:"Online",cashReceived:"Efectivo recibido:",change:"Cambio:",giveChange:"Dar cambio:",cannotMakeChange:"No se puede dar cambio exacto con los billetes disponibles",onlinePayment:"Pago Online",customerWillPayElectronically:"El cliente pagar electrnicamente",completeSale:"Completar Venta",processing:"Procesando...",cancel:"Cancelar",saleCompleted:"Venta completada!",errorCompletingSale:"Error al completar la venta",reset:"Reiniciar",addBills:"Agregar billetes:",removeBills:"Quitar billetes:"},products:{title:"Productos",addProduct:"Agregar Producto",newProduct:"Nuevo Producto",editProduct:"Editar Producto",name:"Nombre",salePrice:"Precio de Venta ($)",productionCost:"Costo de Produccin ($)",stock:"Stock",category:"Categora",active:"Activo",save:"Guardar",update:"Actualizar",cancel:"Cancelar",cost:"Costo:",margin:"Margen:",status:"Estado:",inactive:"Inactivo",confirmDelete:"Ests seguro de que deseas eliminar este producto?",errorSaving:"Error al guardar el producto",errorDeleting:"Error al eliminar el producto",loading:"Cargando...",burgers:"Hamburguesas",sides:"Guarniciones",drinks:"Bebidas"},sales:{title:"Historial de Ventas",recentSales:"Ventas Recientes",saleDetails:"Detalles de Venta",saleNumber:"Nmero de Venta",date:"Fecha",payment:"Pago",items:"Productos",total:"Total:",cashReceived:"Efectivo Recibido:",changeGiven:"Cambio Dado:",billsBreakdown:"Desglose de Billetes",billsReceived:"Billetes Recibidos:",billsGivenAsChange:"Billetes Dados como Cambio:",noSales:"An no hay ventas",selectSale:"Seleccion una venta para ver los detalles",loading:"Cargando..."},metrics:{title:"Mtricas y Anlisis",totalRevenue:"Ingresos Totales",totalSales:"Ventas Totales",averageSale:"Venta Promedio",totalProfit:"Ganancia Total",inventoryValue:"Valor del Inventario",dailySales:"Ventas Diarias (ltimos 7 Das)",topProducts:"Productos Ms Vendidos",lowStockAlert:"Alerta de Stock Bajo",inventoryStatus:"Estado del Inventario",noSalesData:"An no hay datos de ventas",noProductSales:"An no hay ventas de productos",allProductsWellStocked:"Todos los productos bien abastecidos",unitsSold:"unidades vendidas",profit:"Ganancia:",totalUnits:"Unidades Totales:",value:"Valor:",products:"productos",sale:"venta",sales:"ventas",allCategories:"Todas las Categoras",burgers:"Hamburguesas",sides:"Guarniciones",drinks:"Bebidas"},cashDrawer:{title:"Gestin de Caja",subtitle:"Rastre y gestion los billetes disponibles para dar cambio",totalCash:"Efectivo Total en Caja",billValue:"Valor del Billete",quantity:"Cantidad",totalValue:"Valor Total:",remove:"Quitar",add:"Agregar",save:"Guardar",automaticUpdates:"Actualizaciones Automticas",automaticUpdatesDesc:"La caja se actualiza automticamente cuando complets ventas. El efectivo recibido se agrega a la caja, y el cambio dado se resta. Ajust las cantidades manualmente ac si es necesario para depsitos o retiros de efectivo.",errorUpdating:"Error al actualizar la cantidad de billetes",loading:"Cargando...",movementsLog:"Historial de Movimientos",movementsLogDesc:"Registro de todos los movimientos de efectivo en la caja",showMovements:"Mostrar Historial",hideMovements:"Ocultar Historial",noMovements:"No hay movimientos registrados",movementType:"Tipo",movementSale:"Venta",movementManualAdd:"Agregado Manual",movementManualRemove:"Retiro Manual",movementChangeGiven:"Cambio Dado",movementCashClosing:"Cierre de Caja",billsIn:"Billetes Recibidos",billsOut:"Billetes Dados"},settings:{title:"Configuracin",themeMode:"Modo de Tema",themeModeDesc:"Cambi entre modo claro y oscuro",switchTo:"Cambiar a Modo",dark:"Oscuro",light:"Claro",themeColors:"Colores del Tema",lightModeColors:"Colores del Modo Claro",darkModeColors:"Colores del Modo Oscuro",primaryColor:"Color Primario",accentColor:"Color de Acento",textColor:"Color de Texto",backgroundColor:"Color de Fondo",preview:"Vista Previa",primaryColorPreview:"As se ve tu color primario",accentColorPreview:"As se ve tu color de acento",saveChanges:"Guardar Cambios",resetToDefault:"Restaurar Valores por Defecto",saving:"Guardando...",successSaving:"Configuracin guardada exitosamente!",errorSaving:"Error al guardar la configuracin",logoSettings:"Configuracin de Logo",logoSettingsDesc:"Personaliz el logo o siglas que aparecen cuando la barra lateral est contrada",acronym:"Siglas",acronymPlaceholder:"Ej: SSB",checkForUpdates:"Buscar Actualizaciones",checkingUpdates:"Buscando...",updateFound:"Nueva versin encontrada. Recargando...",noUpdateAvailable:"Ya tens la ltima versin",updateError:"Error al buscar actualizaciones"},common:{loading:"Cargando...",error:"Error",success:"xito",confirm:"Confirmar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",save:"Guardar",close:"Cerrar"}},al=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("div",{ref:n,className:Vt("rounded-lg border shadow-md dark:border-gray-700",e),style:{backgroundColor:"var(--color-background-secondary)",...t},...r}));al.displayName="Card";const il=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Vt("flex flex-col space-y-1.5 p-6",e),...t}));il.displayName="CardHeader";const sl=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("h3",{ref:n,className:Vt("text-2xl font-semibold leading-none tracking-tight",e),style:{color:"var(--color-text)",...t},...r}));sl.displayName="CardTitle";const td=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("p",{ref:n,className:Vt("text-sm opacity-60",e),style:{color:"var(--color-text)",...t},...r}));td.displayName="CardDescription";const ll=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Vt("p-6 pt-0",e),...t}));ll.displayName="CardContent";const _V=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Vt("flex items-center p-6 pt-0",e),...t}));_V.displayName="CardFooter";const lo=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("label",{ref:n,className:Vt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),style:{color:"var(--color-text)",...t},...r}));lo.displayName="Label";const Ta=h.forwardRef(({className:e,type:t,style:r,...n},o)=>l.jsx("input",{type:t,className:Vt("flex min-h-[48px] w-full rounded-lg border-2 px-4 py-3 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 touch-manipulation",e),style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)",...r},ref:o,...n}));Ta.displayName="Input";const i_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,s_=et,jV=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return s_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const p=i_(d)||i_(f);return o[u][p]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...a,...s}[g]):{...a,...s}[g]===y})?[...u,f,p]:u},[]);return s_(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},SV=jV("inline-flex items-center justify-center rounded-lg text-base font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 touch-manipulation",{variants:{variant:{default:"bg-primary text-white hover:opacity-90 active:scale-98",destructive:"bg-red-600 text-white hover:bg-red-700 active:scale-98",outline:"border-2 border-gray-300 bg-white hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 active:scale-98",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 active:scale-98",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 active:scale-98",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-[48px] px-5 py-3",sm:"min-h-[44px] rounded-md px-4 py-2",lg:"min-h-[56px] rounded-lg px-8 py-4 text-lg",icon:"min-h-[48px] min-w-[48px]"}},defaultVariants:{variant:"default",size:"default"}}),Nl=h.forwardRef(({className:e,variant:t,size:r,...n},o)=>l.jsx("button",{className:Vt(SV({variant:t,size:r,className:e})),ref:o,...n}));Nl.displayName="Button";function CV(){const[e,t]=h.useState(!1),[r,n]=h.useState(null),[o,a]=h.useState(null),[i,s]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(!1),p=async()=>{try{n(null);const g=await q.exportData(),y=new Blob([g],{type:"application/json"}),x=URL.createObjectURL(y),b=document.createElement("a");b.href=x,b.download=`pos-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(x),a("Datos exportados correctamente"),setTimeout(()=>a(null),3e3)}catch(g){n("Error al exportar datos"),console.error(g)}},m=async g=>{var x;const y=(x=g.target.files)==null?void 0:x[0];if(y)try{t(!0),n(null);const b=await y.text();await q.importData(b),a("Datos importados correctamente. Recarg la pgina para ver los cambios."),setTimeout(()=>{window.location.reload()},2e3)}catch(b){n("Error al importar datos. Verific que el archivo sea vlido."),console.error(b)}finally{t(!1)}},v=async()=>{if(c!=="RESETEAR"){n('Debs escribir "RESETEAR" para confirmar');return}try{f(!0),n(null),await q.resetDatabase(),a("Base de datos reseteada correctamente. Recargando..."),setTimeout(()=>{window.location.reload()},1500)}catch(g){n("Error al resetear la base de datos"),console.error(g)}finally{f(!1)}};return l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text)"},children:"Gestin de Datos"}),l.jsx("p",{className:"text-sm opacity-60 mb-6",style:{color:"var(--color-text)"},children:"Export e import todos los datos de la aplicacin en formato JSON"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[l.jsx(Jg,{size:20}),"Exportar Datos"]}),l.jsx("div",{children:l.jsxs("label",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer",children:[l.jsx(CS,{size:20}),e?"Importando...":"Importar Datos",l.jsx("input",{type:"file",accept:".json",onChange:m,disabled:e,className:"hidden"})]})}),r&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg",children:[l.jsx(Nm,{size:18}),l.jsx("span",{className:"text-sm",children:r})]}),o&&l.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg",children:l.jsx("span",{className:"text-sm",children:o})}),l.jsx("div",{className:"mt-6 p-4 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Nm,{size:18,className:"flex-shrink-0 mt-0.5",style:{color:"var(--color-accent)"}}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)"},children:[l.jsx("strong",{style:{color:"var(--color-accent)"},children:"Advertencia:"})," ","Importar datos reemplazar todos los datos actuales. Asegurate de exportar tus datos antes de importar para evitar prdida de informacin."]})]})}),l.jsxs("div",{className:"mt-6 pt-6 border-t dark:border-gray-700",children:[l.jsx("h4",{className:"text-md font-bold mb-3 text-red-600 dark:text-red-400",children:"Zona Peligrosa"}),i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[l.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[l.jsx(Nm,{size:18,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-800 dark:text-red-300",children:[l.jsx("strong",{children:"ADVERTENCIA:"})," Esta accin eliminar TODOS los datos de forma permanente: productos, ventas, movimientos de caja y configuracin. Esta accin NO se puede deshacer."]})]}),l.jsxs("div",{className:"text-sm text-red-800 dark:text-red-300 mb-3",children:["Escrib ",l.jsx("strong",{children:'"RESETEAR"'})," para confirmar:"]}),l.jsx("input",{type:"text",value:c,onChange:g=>u(g.target.value),placeholder:"Escrib RESETEAR",className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg dark:bg-gray-700 dark:text-white mb-3",disabled:d})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:v,disabled:c!=="RESETEAR"||d,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Ja,{size:20}),d?"Reseteando...":"Confirmar Reseteo"]}),l.jsx("button",{onClick:()=>{s(!1),u(""),n(null)},disabled:d,className:"px-4 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancelar"})]})]}):l.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[l.jsx(Ja,{size:20}),"Resetear Base de Datos"]})]})]})]})}function Wn(e){const t=e.replace("#",""),r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return(.299*r+.587*n+.114*o)/255>.5?"#000000":"#ffffff"}function NV(){const{theme:e,themeConfig:t,updateThemeConfig:r,syncThemeToKDS:n}=hc(),{logoConfig:o,updateLogoConfig:a}=ES(),[i,s]=h.useState(t),[c,u]=h.useState(o.acronym),[d,f]=h.useState(o.logo_image),[p,m]=h.useState(!1),v=h.useRef(null),[g,y]=h.useState(!1),[x,b]=h.useState("http://192.168.1.100:3001"),[w,k]=h.useState(0),[S,_]=h.useState(0),[N,C]=h.useState(!1),[I,B]=h.useState(!1),P=h.useRef(null),R=h.useRef(!1),Y=h.useRef(!1),H=()=>{Y.current=!0},ae=h.useRef(r),oe=h.useRef(a);h.useEffect(()=>{ae.current=r,oe.current=a},[r,a]),h.useEffect(()=>{N||s(t)},[t,N]),h.useEffect(()=>{N||(u(o.acronym),f(o.logo_image))},[o,N]),h.useEffect(()=>{if(R.current)return;R.current=!0,(async()=>{try{await q.init();const K=await q.get("app_settings","default"),Q=(K==null?void 0:K.kds_enabled)||!1,he=(K==null?void 0:K.kds_url)||"http://192.168.1.100:3001",O=(K==null?void 0:K.delivery_charge)||0,re=(K==null?void 0:K.free_delivery_threshold)||0;y(Q),b(he),k(O),_(re),setTimeout(()=>{C(!0)},150)}catch(K){console.error("Error loading settings:",K),setTimeout(()=>C(!0),150)}})()},[]),h.useEffect(()=>{if(!(!N||!Y.current))return P.current&&clearTimeout(P.current),P.current=setTimeout(async()=>{m(!0);try{await ae.current(i),await oe.current({acronym:c,logo_image:d}),await q.init();const K={...await q.get("app_settings","default")||{id:"default",pos_layout_locked:!1,updated_at:new Date().toISOString()},kds_enabled:g,kds_url:x,delivery_charge:w,free_delivery_threshold:S,updated_at:new Date().toISOString()};await q.put("app_settings",K),g&&x&&await n(i,e),Y.current=!1,ve.success(Pe.settings.successSaving)}catch(U){console.error("Error saving settings:",U),ve.error(Pe.settings.errorSaving)}finally{m(!1)}},500),()=>{P.current&&clearTimeout(P.current)}},[N,i,c,d,g,x,w,S,n,e]);const ie=(U,K,Q)=>{H(),s({...i,[U]:{...i[U],[K]:Q}})},M=U=>{var he;const K=(he=U.target.files)==null?void 0:he[0];if(!K)return;if(!K.type.match(/^image\/(png|jpg|jpeg|svg\+xml)$/)){ve.error("Por favor selecciona una imagen PNG, JPG o SVG");return}if(K.size>2*1024*1024){ve.error("La imagen no debe superar 2MB");return}const Q=new FileReader;Q.onload=O=>{var $;const re=($=O.target)==null?void 0:$.result;H(),f(re)},Q.readAsDataURL(K)},V=()=>{H(),f(void 0),v.current&&(v.current.value="")},z=()=>{H(),s({light:{primary:"#ef4444",accent:"#f59e0b",text:"#1f2937",background:"#f9fafb",backgroundSecondary:"#ffffff",backgroundAccent:"#f3f4f6"},dark:{primary:"#dc2626",accent:"#f59e0b",text:"#f9fafb",background:"#111827",backgroundSecondary:"#1f2937",backgroundAccent:"#374151"}}),u("SSB"),f(void 0),v.current&&(v.current.value="")},Z=async()=>{B(!0),ve.info(Pe.settings.checkingUpdates);try{const Q=(await(await fetch(`${x}/health`)).json()).ssb_version;if(!Q){ve.error(Pe.settings.updateError),B(!1);return}if(Q!=="1.1.8"){if(ve.success(`${Pe.settings.updateFound}: v${Q}`),"serviceWorker"in navigator){const he=await caches.keys();await Promise.all(he.map(re=>caches.delete(re)));const O=await navigator.serviceWorker.getRegistration();O&&await O.unregister()}setTimeout(()=>{window.location.reload()},1e3)}else ve.info(Pe.settings.noUpdateAvailable),B(!1)}catch(U){console.error("Error checking for updates:",U),ve.error(Pe.settings.updateError),B(!1)}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 relative",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(SS,{style:{color:"var(--color-primary)"}}),Pe.settings.title]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Personaliz la apariencia y configuracin de tu sistema de punto de venta"}),l.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-2",children:[l.jsxs("button",{onClick:Z,disabled:I,className:"flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--color-primary)",color:"#fff"},title:Pe.settings.checkForUpdates,children:[l.jsx(jS,{size:14,className:I?"animate-spin":""}),I?Pe.settings.checkingUpdates:Pe.settings.checkForUpdates]}),l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:["v","1.1.8"]})]})]}),l.jsxs(al,{className:"mb-6",children:[l.jsxs(il,{children:[l.jsxs(sl,{className:"flex items-center gap-2",children:[l.jsx(wI,{size:24}),Pe.settings.logoSettings]}),l.jsx(td,{children:Pe.settings.logoSettingsDesc})]}),l.jsxs(ll,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"logo-image",children:"Logo (PNG, JPG, SVG)"}),l.jsx("div",{className:"mt-2 space-y-4",children:d?l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 border-2 border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden bg-white",children:l.jsx("img",{src:d,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}),l.jsxs(Nl,{variant:"secondary",size:"sm",onClick:V,children:[l.jsx(wr,{size:16,className:"mr-2"}),"Eliminar Logo"]})]}):l.jsxs("div",{children:[l.jsx("input",{ref:v,type:"file",id:"logo-image",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",onChange:M,className:"hidden"}),l.jsxs(Nl,{variant:"secondary",onClick:()=>{var U;return(U=v.current)==null?void 0:U.click()},children:[l.jsx(CS,{size:16,className:"mr-2"}),"Subir Logo"]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"El logo tendr prioridad sobre las letras cuando la barra lateral est colapsada"})]})})]}),l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"acronym",children:Pe.settings.acronym}),l.jsx(Ta,{id:"acronym",value:c,onChange:U=>{H(),u(U.target.value.toUpperCase())},placeholder:Pe.settings.acronymPlaceholder,maxLength:5,className:"mt-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Se mostrar cuando no haya logo o la barra est expandida"})]})]})]}),l.jsxs(al,{className:"my-6",children:[l.jsxs(il,{children:[l.jsxs(sl,{className:"flex items-center gap-2",children:[l.jsx(mI,{size:24}),"Kitchen Display System (KDS)"]}),l.jsx(td,{children:"Configur la conexin al sistema de visualizacin de pedidos para cocina"})]}),l.jsxs(ll,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"checkbox",id:"kds-enabled",checked:g,onChange:U=>{H(),y(U.target.checked)},className:"w-5 h-5 rounded cursor-pointer"}),l.jsx(lo,{htmlFor:"kds-enabled",className:"cursor-pointer",children:"Enviar pedidos al KDS automticamente"})]}),g&&l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"kds-url",children:"URL del servidor KDS"}),l.jsx(Ta,{id:"kds-url",type:"url",value:x,onChange:U=>{H(),b(U.target.value)},placeholder:"http://192.168.1.100:3001",className:"mt-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Ingres la direccin IP y puerto del servidor KDS (ejemplo: http://192.168.1.100:3001)"})]})]})]}),l.jsxs(al,{className:"my-6",children:[l.jsxs(il,{children:[l.jsxs(sl,{className:"flex items-center gap-2",children:[l.jsx(dr,{size:24}),"Configuracin de Delivery"]}),l.jsx(td,{children:"Configur el costo de envo y el monto mnimo para envo gratis"})]}),l.jsxs(ll,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"delivery-charge",children:"Cargo por Delivery"}),l.jsx(Ta,{id:"delivery-charge",type:"number",min:"0",value:w,onChange:U=>{H(),k(Number(U.target.value)||0)},placeholder:"500",className:"mt-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Monto fijo que se agrega al total cuando el pedido es delivery"})]}),l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"free-delivery-threshold",children:"Monto mnimo para Delivery Gratis"}),l.jsx(Ta,{id:"free-delivery-threshold",type:"number",min:"0",value:S,onChange:U=>{H(),_(Number(U.target.value)||0)},placeholder:"10000",className:"mt-2"}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Si el subtotal del carrito supera este monto, el delivery es gratis. Dej en 0 para desactivar."})]})]})]}),l.jsxs(al,{children:[l.jsx(il,{children:l.jsxs(sl,{className:"flex items-center gap-2",children:[l.jsx(vI,{size:24}),Pe.settings.themeColors]})}),l.jsxs(ll,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:Pe.settings.lightModeColors}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-3",children:[["primary",Pe.settings.primaryColor],["accent",Pe.settings.accentColor],["text",Pe.settings.textColor],["background",Pe.settings.backgroundColor],["backgroundSecondary","Color Fondo Secundario"],["backgroundAccent","Color Fondo Acento"]].map(([U,K])=>l.jsxs("div",{children:[l.jsx(lo,{children:K}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:i.light[U],onChange:Q=>ie("light",U,Q.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-300 dark:border-gray-600"}),l.jsx(Ta,{type:"text",value:i.light[U],onChange:Q=>ie("light",U,Q.target.value),className:"flex-1"})]})]},U))}),l.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden flex flex-col text-xs",style:{backgroundColor:i.light.background,color:i.light.text},children:[l.jsxs("div",{className:"px-3 py-2 font-semibold flex justify-between items-center",style:{backgroundColor:i.light.backgroundSecondary},children:[l.jsx("span",{children:"Encabezado"}),l.jsx("span",{className:"rounded-full px-2 py-1 text-[10px]",style:{backgroundColor:i.light.primary,color:Wn(i.light.primary)},children:"Badge"})]}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.light.primary,color:Wn(i.light.primary)},children:"Botn Primario"}),l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.light.accent,color:Wn(i.light.accent)},children:"Botn Acento"}),l.jsxs("div",{className:"rounded-md p-2 mt-2 flex gap-2",style:{backgroundColor:i.light.backgroundSecondary},children:[l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.light.primary,color:Wn(i.light.primary)},children:"Primario"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.light.accent,color:Wn(i.light.accent)},children:"Acento"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px]",style:{color:i.light.primary,border:`1px solid ${i.light.primary}`},children:"Outline"})]}),l.jsxs("div",{className:"rounded-md p-2 mt-2",style:{backgroundColor:i.light.backgroundAccent},children:[l.jsx("div",{className:"font-semibold text-[11px] mb-1",children:"Tarjeta de Ejemplo"}),l.jsx("div",{className:"text-[10px] opacity-80",children:"Texto con color principal configurado."}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.light.primary},children:"Texto Primario"}),l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.light.accent},children:"Texto Acento"})]})]})]})]})]})]}),l.jsxs("div",{className:"border-t pt-6 dark:border-gray-700",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:Pe.settings.darkModeColors}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-3",children:[["primary",Pe.settings.primaryColor],["accent",Pe.settings.accentColor],["text",Pe.settings.textColor],["background",Pe.settings.backgroundColor],["backgroundSecondary","Color Fondo Secundario"],["backgroundAccent","Color Fondo Acento"]].map(([U,K])=>l.jsxs("div",{children:[l.jsx(lo,{children:K}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:i.dark[U],onChange:Q=>ie("dark",U,Q.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-300 dark:border-gray-600"}),l.jsx(Ta,{type:"text",value:i.dark[U],onChange:Q=>ie("dark",U,Q.target.value),className:"flex-1"})]})]},U))}),l.jsxs("div",{className:"rounded-lg border border-gray-700 shadow-sm overflow-hidden flex flex-col text-xs",style:{backgroundColor:i.dark.background,color:i.dark.text},children:[l.jsxs("div",{className:"px-3 py-2 font-semibold flex justify-between items-center",style:{backgroundColor:i.dark.backgroundSecondary},children:[l.jsx("span",{children:"Encabezado"}),l.jsx("span",{className:"rounded-full px-2 py-1 text-[10px]",style:{backgroundColor:i.dark.primary,color:Wn(i.dark.primary)},children:"Badge"})]}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.dark.primary,color:Wn(i.dark.primary)},children:"Botn Primario"}),l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.dark.accent,color:Wn(i.dark.accent)},children:"Botn Acento"}),l.jsxs("div",{className:"rounded-md p-2 mt-2 flex gap-2",style:{backgroundColor:i.dark.backgroundSecondary},children:[l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.dark.primary,color:Wn(i.dark.primary)},children:"Primario"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.dark.accent,color:Wn(i.dark.accent)},children:"Acento"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px]",style:{color:i.dark.primary,border:`1px solid ${i.dark.primary}`},children:"Outline"})]}),l.jsxs("div",{className:"rounded-md p-2 mt-2",style:{backgroundColor:i.dark.backgroundAccent},children:[l.jsx("div",{className:"font-semibold text-[11px] mb-1",children:"Tarjeta de Ejemplo"}),l.jsx("div",{className:"text-[10px] opacity-80",children:"Texto con color principal configurado."}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.dark.primary},children:"Texto Primario"}),l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.dark.accent},children:"Texto Acento"})]})]})]})]})]})]}),l.jsxs("div",{className:"flex gap-3 pt-4 items-center",children:[l.jsx(Nl,{onClick:z,variant:"secondary",children:Pe.settings.resetToDefault}),p&&l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Pe.settings.saving})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(CV,{})})]})}function PV(e){const t=e.replace("#","");if(t.length!==6)return"#FFFFFF";const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,[a,i,s]=[r,n,o].map(u=>u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4));return .2126*a+.7152*i+.0722*s>.5?"#000000":"#FFFFFF"}function EV(e){const t=e.replace("#","");if(t.length!==6)return e;const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,a=Math.max(r,n,o),i=Math.min(r,n,o),s=(a+i)/2;let c=0,u=0;if(a!==i){const y=a-i;switch(u=s>.5?y/(2-a-i):y/(a+i),a){case r:c=((n-o)/y+(n<o?6:0))/6;break;case n:c=((o-r)/y+2)/6;break;case o:c=((r-n)/y+4)/6;break}}c=(c+.5)%1;const d=(y,x,b)=>(b<0&&(b+=1),b>1&&(b-=1),b<1/6?y+(x-y)*6*b:b<1/2?x:b<2/3?y+(x-y)*(2/3-b)*6:y),f=s<.5?s*(1+u):s+u-s*u,p=2*s-f,m=Math.round(d(p,f,c+1/3)*255),v=Math.round(d(p,f,c)*255),g=Math.round(d(p,f,c-1/3)*255);return`#${m.toString(16).padStart(2,"0")}${v.toString(16).padStart(2,"0")}${g.toString(16).padStart(2,"0")}`}function OV(){const{bills:e,updateBillQuantity:t,getTotalCash:r,getCashMovements:n,resetCashDrawer:o,loading:a}=nC(),{theme:i,themeConfig:s}=hc(),{getSaleById:c,getSaleItems:u}=Qf(),{complementaryColor:d,complementaryTextColor:f}=h.useMemo(()=>{const $=s[i].primary,D=EV($);return{complementaryColor:D,complementaryTextColor:PV(D)}},[i,s]),[p,m]=h.useState(null),[v,g]=h.useState(""),[y,x]=h.useState(!1),[b,w]=h.useState([]),[k,S]=h.useState(!1),[_,N]=h.useState(null),[C,I]=h.useState([]),[B,P]=h.useState(!1),[R,Y]=h.useState("all"),[H,ae]=h.useState("all"),[oe,ie]=h.useState({}),M=h.useCallback(async()=>{S(!0);const $=await n();w($);const D=$.filter(E=>E.sale_id).map(E=>E.sale_id),J=[...new Set(D)],W={};for(const E of J){const ue=await c(E);ue&&(W[E]=ue.sale_number)}ie(W),S(!1)},[n]);h.useEffect(()=>{y&&M()},[M,y]);const V=async($,D)=>{try{const J=e.find(le=>le.denomination===$),W=J&&D>J.quantity;await t($,D,W?"manual_add":"manual_remove",W?"Ajuste manual (agregado)":"Ajuste manual (retiro)"),m(null),g(""),y&&M()}catch(J){ve.error(Pe.cashDrawer.errorUpdating),console.error(J)}},z=async($,D)=>{const J=e.find(W=>W.denomination===$);if(J){const W=Math.max(0,J.quantity+D);await V($,W)}},Z=$=>new Date($).toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),U=$=>{switch($){case"sale":return Pe.cashDrawer.movementSale;case"manual_add":return Pe.cashDrawer.movementManualAdd;case"manual_remove":return Pe.cashDrawer.movementManualRemove;case"change_given":return Pe.cashDrawer.movementChangeGiven;case"cash_closing":return Pe.cashDrawer.movementCashClosing}},K=$=>{switch($){case"sale":case"manual_add":return"text-green-600 dark:text-green-400";case"manual_remove":case"change_given":return"text-red-600 dark:text-red-400";case"cash_closing":return"text-blue-600 dark:text-blue-400"}},Q=b.filter($=>{if(R!=="all"&&$.movement_type!==R)return!1;if(H!=="all"){const D=$.bills_in&&Object.keys($.bills_in).includes(H),J=$.bills_out&&Object.keys($.bills_out).includes(H);if(!D&&!J)return!1}return!0}),he=()=>{const $=r();if($===0){ve.error("La caja ya est vaca");return}ve("Cierre de Caja",{description:`Ests seguro de que deseas cerrar la caja? Se registrar el estado actual (${fe($)}) y todos los billetes se establecern a 0.`,action:{label:"Cerrar",onClick:async()=>{try{await o(),ve.success("Caja cerrada correctamente"),y&&M()}catch(D){ve.error("Error al cerrar la caja"),console.error(D)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},O=async $=>{try{const D=await c($);if(D){N(D);const J=await u($);I(J),P(!0)}else ve.error("No se pudo cargar la venta")}catch(D){ve.error("Error al cargar los detalles de la venta"),console.error(D)}};if(a)return l.jsx("div",{className:"p-6 dark:text-white",children:Pe.cashDrawer.loading});const re=r();return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(rv,{style:{color:"var(--color-primary)"}}),Pe.cashDrawer.title]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:Pe.cashDrawer.subtitle})]}),l.jsxs("div",{className:"rounded-lg shadow-lg p-6 mb-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-60 mb-1",style:{color:"var(--color-text)"},children:Pe.cashDrawer.totalCash}),l.jsx("div",{className:"text-4xl font-bold",style:{color:"var(--color-primary)"},children:fe(re)})]}),l.jsx(rv,{size:64,className:"text-gray-300 dark:text-gray-600"})]}),l.jsxs(Nl,{onClick:he,disabled:re===0,className:"w-full py-2 px-4 rounded-lg bg-red-500 text-white hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-semibold transition-colors",variant:"secondary",children:[l.jsx(lI,{size:18}),"Cierre de Caja"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.map($=>l.jsxs("div",{className:"rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Pe.cashDrawer.billValue}),l.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:fe($.denomination)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Pe.cashDrawer.quantity}),p===$.denomination?l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"number",min:"0",value:v,onChange:D=>g(D.target.value),className:"w-20 px-2 py-1 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",autoFocus:!0}),l.jsx("button",{onClick:()=>V($.denomination,parseInt(v)||0),className:"px-2 py-1 rounded text-white text-sm",style:{backgroundColor:"var(--color-primary)"},children:Pe.cashDrawer.save})]}):l.jsx("button",{onClick:()=>{m($.denomination),g($.quantity.toString())},className:"text-3xl font-bold hover:opacity-70",style:{color:"var(--color-text)"},children:at($.quantity)})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Pe.cashDrawer.totalValue}),l.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:fe($.denomination*$.quantity)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>z($.denomination,-1),disabled:$.quantity===0,className:"flex-1 py-2 px-3 rounded hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1",style:{backgroundColor:d,color:f},children:[l.jsx(pI,{size:16}),Pe.cashDrawer.remove]}),l.jsxs("button",{onClick:()=>z($.denomination,1),className:"flex-1 py-2 px-3 rounded text-white hover:opacity-90 flex items-center justify-center gap-1",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(Ji,{size:16}),Pe.cashDrawer.add]})]})]},$.denomination))}),l.jsx("div",{className:"mt-6 rounded-lg p-4 mb-6 border transition-colors",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(jS,{size:20,className:"mt-0.5",style:{color:"var(--color-accent)"}}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)"},children:[l.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--color-accent)"},children:Pe.cashDrawer.automaticUpdates}),l.jsx("div",{style:{opacity:.9},children:Pe.cashDrawer.automaticUpdatesDesc})]})]})}),l.jsxs("div",{className:"rounded-lg shadow-md",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("button",{onClick:()=>x(!y),className:"w-full p-6 flex items-center justify-between hover:opacity-80 transition-opacity",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(ey,{size:24,style:{color:"var(--color-primary)"}}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:Pe.cashDrawer.movementsLog}),l.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:Pe.cashDrawer.movementsLogDesc})]})]}),y?l.jsx(sI,{size:24,style:{color:"var(--color-text)"}}):l.jsx(oI,{size:24,style:{color:"var(--color-text)"}})]}),y&&l.jsx("div",{className:"border-t p-6",style:{borderColor:"var(--color-background-accent)"},children:k?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:Pe.cashDrawer.loading}):b.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:Pe.cashDrawer.noMovements}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Filtrar por Tipo"}),l.jsxs("select",{value:R,onChange:$=>Y($.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"sale",children:"Venta"}),l.jsx("option",{value:"change_given",children:"Cambio Dado"}),l.jsx("option",{value:"cash_closing",children:"Cierre de Caja"}),l.jsx("option",{value:"manual_add",children:"Agregado Manual"}),l.jsx("option",{value:"manual_remove",children:"Retiro Manual"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Filtrar por Billete"}),l.jsxs("select",{value:H,onChange:$=>ae($.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("option",{value:"all",children:"Todos"}),e.map($=>l.jsx("option",{value:$.denomination.toString(),children:fe($.denomination)},$.denomination))]})]})]}),Q.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"No hay movimientos que coincidan con los filtros"}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-auto scrollbar-hide",children:Q.map($=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`font-semibold ${K($.movement_type)}`,children:U($.movement_type)}),$.sale_id&&l.jsxs("button",{onClick:()=>O($.sale_id),className:"text-xs px-2 py-0 rounded border transition-colors cursor-pointer",style:{borderColor:"var(--color-accent)",backgroundColor:"var(--color-background-secondary)",color:"var(--color-accent)"},children:["Venta #",oe[$.sale_id]||$.sale_id.slice(0,8)]})]}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.9},children:[$.bills_in&&Object.keys($.bills_in).length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries($.bills_in).sort(([D],[J])=>Number(J)-Number(D)).map(([D,J])=>l.jsxs("span",{className:`
    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
    ${i==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}
  `,children:[at(J),"x"," ",fe(Number(D))]},D))}),$.bills_out&&Object.keys($.bills_out).length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries($.bills_out).sort(([D],[J])=>Number(J)-Number(D)).map(([D,J])=>l.jsxs("span",{className:`
    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
    ${i==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}
  `,children:[at(J),"x"," ",fe(Number(D))]},D))})]}),$.notes&&l.jsx("div",{className:"text-xs mt-1",style:{color:"var(--color-text)",opacity:.6},children:$.notes})]}),l.jsx("div",{className:"text-right text-xs",style:{color:"var(--color-text)",opacity:.6},children:Z($.created_at)})]})},$.id))})]})})]}),B&&_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 border-b",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-background-accent)"},children:[l.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:"Detalles de Venta"}),l.jsx("button",{onClick:()=>P(!1),className:"flex justify-center p-2 rounded-lg transition-colors",style:{color:"var(--color-text)"},onMouseEnter:$=>{$.currentTarget.style.backgroundColor="var(--color-background-accent)"},onMouseLeave:$=>{$.currentTarget.style.backgroundColor="transparent"},children:l.jsx(wr,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Venta"}),l.jsxs("div",{className:"text-2xl font-bold mb-3",children:["#",parseInt(_.sale_number.replace(/^S-/,""),10).toLocaleString("es-AR")]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Fecha"}),l.jsx("div",{className:"font-semibold",children:Z(_.completed_at)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Pago"}),l.jsx("div",{className:"font-semibold capitalize",children:_.payment_method})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Artculos"]}),l.jsx("div",{className:"space-y-2",children:C.map($=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:$.product_name}),l.jsxs("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[fe($.product_price)," "," ",at($.quantity)]})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:fe($.subtotal)})]},$.id))})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between text-lg",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"font-bold",children:fe(_.total_amount)})]}),_.cash_received&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",children:fe(_.cash_received)})]}),_.bills_received&&Object.keys(_.bills_received).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(_.bills_received).sort(([$],[D])=>Number(D)-Number($)).map(([$,D])=>l.jsxs("span",{className:`
                            inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
                            ${i==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}
  `,children:[at(D),"x"," ",fe(Number($))]},$))})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Cambio Entregado:"}),l.jsx("span",{className:"font-bold",children:fe(_.change_given||0)})]}),_.bills_change&&Object.keys(_.bills_change).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(_.bills_change).sort(([$],[D])=>Number(D)-Number($)).map(([$,D])=>l.jsxs("span",{className:`
                                    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
                                    ${i==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}`,children:[at(D),"x"," ",fe(Number($))]},$))})]})]})]})]})]})})]})}function AV(){const{materiaPrima:e,addMateriaPrima:t,updateMateriaPrima:r,deleteMateriaPrima:n,loading:o}=bc(),[a,i]=h.useState(!1),[s,c]=h.useState(null),[u,d]=h.useState({name:"",unit:"units",stock:"",cost_per_unit:""}),f=async g=>{g.preventDefault();try{s?await r(s,{name:u.name,unit:u.unit,stock:parseFloat(u.stock),cost_per_unit:parseFloat(u.cost_per_unit)}):await t({name:u.name,unit:u.unit,stock:parseFloat(u.stock),cost_per_unit:parseFloat(u.cost_per_unit)}),d({name:"",unit:"units",stock:"",cost_per_unit:""}),i(!1),c(null),ve.success(s?"Materia prima actualizada exitosamente":"Materia prima agregada exitosamente")}catch(y){ve.error("Error al guardar la materia prima"),console.error(y)}},p=g=>{d({name:g.name,unit:g.unit,stock:g.stock.toString(),cost_per_unit:g.cost_per_unit.toString()}),c(g.id),i(!0)},m=async g=>{ve("Eliminar Materia Prima",{description:"Ests seguro de que deseas eliminar esta materia prima?",action:{label:"Eliminar",onClick:async()=>{try{await n(g),ve.success("Materia prima eliminada exitosamente")}catch(y){ve.error(y instanceof Error?y.message:"Error al eliminar la materia prima")}}},cancel:{label:"Cancelar",onClick:()=>{}}})},v=()=>{d({name:"",unit:"units",stock:"",cost_per_unit:""}),i(!1),c(null)};return o?l.jsx("div",{className:"p-6 dark:text-white",children:"Cargando..."}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(fa,{style:{color:"var(--color-primary)"}}),"Materia Prima"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Gestion los ingredientes y materiales necesarios para tus productos"})]}),!a&&l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(Ji,{size:20}),"Aadir Materia Prima"]})]}),a&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:s?"Editar Materia Prima":"Nueva Materia Prima"}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre"}),l.jsx("input",{type:"text",required:!0,value:u.name,onChange:g=>d({...u,name:g.target.value}),placeholder:"Ej: Pan, Carne, Queso",className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Unidad de Medida"}),l.jsxs("select",{value:u.unit,onChange:g=>d({...u,unit:g.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"units",children:"Unidades"}),l.jsx("option",{value:"kg",children:"Kilogramos"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Stock Disponible"}),l.jsx("input",{type:"number",step:"0.001",required:!0,value:u.stock,onChange:g=>d({...u,stock:g.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Costo por Unidad ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:u.cost_per_unit,onChange:g=>d({...u,cost_per_unit:g.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ry,{size:18}),s?"Actualizar":"Guardar"]}),l.jsxs("button",{type:"button",onClick:v,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 dark:text-white font-semibold",children:[l.jsx(wr,{size:18}),"Cancelar"]})]})]})]})}),e.length===0?l.jsxs("div",{className:"text-center py-12 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(fa,{size:48,className:"mx-auto mb-4 opacity-40",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"text-lg opacity-60",style:{color:"var(--color-text)"},children:"No hay materia prima registrada"}),l.jsx("p",{className:"text-sm opacity-40 mt-2",style:{color:"var(--color-text)"},children:"Agreg ingredientes para vincularlos a tus productos"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(g=>l.jsxs("div",{className:"rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow border-2",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-primary)"},children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:g.name}),l.jsx("p",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:g.unit==="units"?"Unidades":"Kilogramos"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Stock:"}),l.jsxs("span",{className:"font-bold",style:{color:g.stock<10?"#ef4444":"var(--color-text)"},children:[at(g.stock)," ",g.unit==="units"?"un.":"kg"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Costo por Unidad:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:fe(g.cost_per_unit)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Valor Total:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:fe(g.stock*g.cost_per_unit)})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>p(g),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ty,{size:14}),"Editar"]}),l.jsxs("button",{onClick:()=>m(g.id),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Ja,{size:14}),"Eliminar"]})]})]},g.id))})]})}const DV="/ssb/icon-192.png";function MV(){return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{backgroundColor:"var(--color-background)"},children:l.jsx("div",{className:"flex flex-col items-center gap-6",children:l.jsx("div",{className:"w-32 h-32 flex items-center justify-center animate-pulse",children:l.jsx("img",{src:DV,alt:"Loading",className:"max-w-full max-h-full object-contain"})})})})}function IV(){const[e,t]=h.useState("pos"),[r,n]=h.useState(!0),[o,a]=h.useState(""),[i,s]=h.useState(!1),{logoConfig:c,loading:u}=ES(),{theme:d,toggleTheme:f,isLoading:p}=hc();if(h.useEffect(()=>{(async()=>{try{await q.init(),(!q.hasStore("materia_prima")||!q.hasStore("product_materia_prima"))&&s(!0)}catch(b){console.error("Database check error:",b)}})();const y=()=>{const b=new Date,w=String(b.getHours()).padStart(2,"0"),k=String(b.getMinutes()).padStart(2,"0");a(`${w}:${k}`)};y();const x=setInterval(y,1e3);return()=>clearInterval(x)},[]),u||p)return l.jsx(MV,{});const m=[{id:"pos",label:Pe.nav.pos,icon:xI},{id:"cashdrawer",label:Pe.nav.cashDrawer,icon:rv},{id:"sales",label:Pe.nav.sales,icon:ey},{id:"products",label:Pe.nav.products,icon:wo},{id:"materiaprima",label:"Materia Prima",icon:fa},{id:"metrics",label:Pe.nav.metrics,icon:kS},{id:"settings",label:Pe.nav.settings,icon:SS}],v=()=>{switch(e){case"pos":return l.jsx(cw,{});case"products":return l.jsx(L4,{});case"materiaprima":return l.jsx(AV,{});case"sales":return l.jsx($4,{});case"metrics":return l.jsx(kV,{});case"cashdrawer":return l.jsx(OV,{});case"settings":return l.jsx(NV,{});default:return l.jsx(cw,{})}};return l.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",style:{zIndex:9999},children:l.jsxs("div",{className:"rounded-lg shadow-lg p-8 max-w-md",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-primary)"},children:"Actualizacin Requerida"}),l.jsx("p",{className:"mb-6",style:{color:"var(--color-text)"},children:"La base de datos necesita actualizarse para soportar las nuevas funciones de Materia Prima. Por favor, recarg la pgina para continuar."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-3 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:"Recargar Pgina"})]})}),l.jsxs("nav",{className:`${r?"w-20":"w-72"} shadow-lg flex flex-col transition-all duration-300`,style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[r?l.jsx("div",{className:"flex justify-center",children:c.logo_image?l.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:l.jsx("img",{src:c.logo_image,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):l.jsx("div",{className:"text-2xl font-bold px-2 py-1 rounded",style:{color:"var(--color-primary)"},children:c.acronym||"SSB"})}):l.jsx(l.Fragment,{children:l.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:"Sper Smash Burger"})}),l.jsx("div",{className:`mt-3 ${r?"text-xl flex justify-center":"text-3xl text-center"} font-mono font-bold`,style:{color:"var(--color-text)"},children:o})]}),l.jsx("div",{className:"flex-1 p-3 space-y-2",children:m.map(g=>{const y=g.icon,x=e===g.id;return l.jsxs("button",{onClick:()=>t(g.id),className:`w-full flex items-center ${r?"justify-center px-2 py-1":"gap-4 px-5 py-4"} rounded-lg transition-all ${x?"text-white shadow-lg":"hover:opacity-80"}`,style:x?{backgroundColor:"var(--color-primary)",minHeight:"56px",color:"var(--color-on-primary)"}:{color:"var(--color-text)",minHeight:"56px"},title:r?g.label:void 0,children:[l.jsx(y,{size:24}),!r&&l.jsx("span",{className:"font-semibold text-base",children:g.label})]},g.id)})}),l.jsxs("div",{className:"p-3 border-t dark:border-gray-700 space-y-2",children:[l.jsx("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg hover:opacity-80 transition-all",style:{color:"var(--color-text)",minHeight:"52px"},title:d==="light"?"Cambiar a modo oscuro":"Cambiar a modo claro",children:d==="light"?l.jsx(hI,{size:24}):l.jsx(bI,{size:24})}),l.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg hover:opacity-80 transition-all",style:{color:"var(--color-text)",minHeight:"52px"},title:r?"Expandir barra lateral":"Contraer barra lateral",children:[r?l.jsx(iI,{size:24}):l.jsx(aI,{size:24}),!r&&l.jsx("span",{className:"text-base font-medium",children:Pe.nav.collapse})]})]})]}),l.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-hide",children:v()})]})}function TV(){return l.jsx(eT,{children:l.jsxs(tT,{children:[l.jsx(IV,{}),l.jsx(XI,{position:"top-center",richColors:!0,duration:1e3})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/ssb/sw.js").then(t=>{console.log("ServiceWorker registered:",t.scope)},t=>{console.log("ServiceWorker registration failed:",t)})});const l_=document.getElementById("root");l_?wS(l_).render(l.jsx(h.StrictMode,{children:l.jsx(TV,{})})):console.error('Root element with id="root" was not found in the document.');
