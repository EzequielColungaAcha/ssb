var LA=Object.defineProperty;var $A=(e,t,r)=>t in e?LA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bs=(e,t,r)=>$A(e,typeof t!="symbol"?t+"":t,r);function FA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();function ao(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y_={exports:{}},Mf={},x_={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),BA=Symbol.for("react.portal"),UA=Symbol.for("react.fragment"),qA=Symbol.for("react.strict_mode"),WA=Symbol.for("react.profiler"),KA=Symbol.for("react.provider"),HA=Symbol.for("react.context"),VA=Symbol.for("react.forward_ref"),YA=Symbol.for("react.suspense"),GA=Symbol.for("react.memo"),XA=Symbol.for("react.lazy"),$0=Symbol.iterator;function QA(e){return e===null||typeof e!="object"?null:(e=$0&&e[$0]||e["@@iterator"],typeof e=="function"?e:null)}var b_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w_=Object.assign,k_={};function fs(e,t,r){this.props=e,this.context=t,this.refs=k_,this.updater=r||b_}fs.prototype.isReactComponent={};fs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function __(){}__.prototype=fs.prototype;function dg(e,t,r){this.props=e,this.context=t,this.refs=k_,this.updater=r||b_}var fg=dg.prototype=new __;fg.constructor=dg;w_(fg,fs.prototype);fg.isPureReactComponent=!0;var F0=Array.isArray,j_=Object.prototype.hasOwnProperty,pg={current:null},S_={key:!0,ref:!0,__self:!0,__source:!0};function C_(e,t,r){var n,o={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)j_.call(t,n)&&!S_.hasOwnProperty(n)&&(o[n]=t[n]);var s=arguments.length-2;if(s===1)o.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)o[n]===void 0&&(o[n]=s[n]);return{$$typeof:hc,type:e,key:a,ref:i,props:o,_owner:pg.current}}function ZA(e,t){return{$$typeof:hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===hc}function JA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var B0=/\/+/g;function sm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JA(""+e.key):t.toString(36)}function Uu(e,t,r,n,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hc:case BA:i=!0}}if(i)return i=e,o=o(i),e=n===""?"."+sm(i,0):n,F0(o)?(r="",e!=null&&(r=e.replace(B0,"$&/")+"/"),Uu(o,t,r,"",function(u){return u})):o!=null&&(mg(o)&&(o=ZA(o,r+(!o.key||i&&i.key===o.key?"":(""+o.key).replace(B0,"$&/")+"/")+e)),t.push(o)),1;if(i=0,n=n===""?".":n+":",F0(e))for(var s=0;s<e.length;s++){a=e[s];var c=n+sm(a,s);i+=Uu(a,t,r,c,o)}else if(c=QA(e),typeof c=="function")for(e=c.call(e),s=0;!(a=e.next()).done;)a=a.value,c=n+sm(a,s++),i+=Uu(a,t,r,c,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ou(e,t,r){if(e==null)return e;var n=[],o=0;return Uu(e,n,"","",function(a){return t.call(r,a,o++)}),n}function eD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},qu={transition:null},tD={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:qu,ReactCurrentOwner:pg};function N_(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:ou,forEach:function(e,t,r){ou(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ou(e,function(){t++}),t},toArray:function(e){return ou(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Le.Component=fs;Le.Fragment=UA;Le.Profiler=WA;Le.PureComponent=dg;Le.StrictMode=qA;Le.Suspense=YA;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tD;Le.act=N_;Le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=w_({},e.props),o=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=pg.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)j_.call(t,c)&&!S_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&s!==void 0?s[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:hc,type:e.type,key:o,ref:a,props:n,_owner:i}};Le.createContext=function(e){return e={$$typeof:HA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:KA,_context:e},e.Consumer=e};Le.createElement=C_;Le.createFactory=function(e){var t=C_.bind(null,e);return t.type=e,t};Le.createRef=function(){return{current:null}};Le.forwardRef=function(e){return{$$typeof:VA,render:e}};Le.isValidElement=mg;Le.lazy=function(e){return{$$typeof:XA,_payload:{_status:-1,_result:e},_init:eD}};Le.memo=function(e,t){return{$$typeof:GA,type:e,compare:t===void 0?null:t}};Le.startTransition=function(e){var t=qu.transition;qu.transition={};try{e()}finally{qu.transition=t}};Le.unstable_act=N_;Le.useCallback=function(e,t){return Nr.current.useCallback(e,t)};Le.useContext=function(e){return Nr.current.useContext(e)};Le.useDebugValue=function(){};Le.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};Le.useEffect=function(e,t){return Nr.current.useEffect(e,t)};Le.useId=function(){return Nr.current.useId()};Le.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};Le.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};Le.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};Le.useMemo=function(e,t){return Nr.current.useMemo(e,t)};Le.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};Le.useRef=function(e){return Nr.current.useRef(e)};Le.useState=function(e){return Nr.current.useState(e)};Le.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};Le.useTransition=function(){return Nr.current.useTransition()};Le.version="18.3.1";x_.exports=Le;var h=x_.exports;const ne=ao(h),rD=FA({__proto__:null,default:ne},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD=h,oD=Symbol.for("react.element"),aD=Symbol.for("react.fragment"),iD=Object.prototype.hasOwnProperty,sD=nD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lD={key:!0,ref:!0,__self:!0,__source:!0};function P_(e,t,r){var n,o={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)iD.call(t,n)&&!lD.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)o[n]===void 0&&(o[n]=t[n]);return{$$typeof:oD,type:e,key:a,ref:i,props:o,_owner:sD.current}}Mf.Fragment=aD;Mf.jsx=P_;Mf.jsxs=P_;y_.exports=Mf;var l=y_.exports,E_={exports:{}},tn={},O_={exports:{}},A_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,W){var se=T.length;T.push(W);e:for(;0<se;){var ge=se-1>>>1,ee=T[ge];if(0<o(ee,W))T[ge]=W,T[se]=ee,se=ge;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var W=T[0],se=T.pop();if(se!==W){T[0]=se;e:for(var ge=0,ee=T.length,te=ee>>>1;ge<te;){var J=2*(ge+1)-1,ye=T[J],P=J+1,B=T[P];if(0>o(ye,se))P<ee&&0>o(B,ye)?(T[ge]=B,T[P]=se,ge=P):(T[ge]=ye,T[J]=se,ge=J);else if(P<ee&&0>o(B,se))T[ge]=B,T[P]=se,ge=P;else break e}}return W}function o(T,W){var se=T.sortIndex-W.sortIndex;return se!==0?se:T.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,s=i.now();e.unstable_now=function(){return i.now()-s}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=T)n(u),W.sortIndex=W.expirationTime,t(c,W);else break;W=r(u)}}function k(T){if(g=!1,w(T),!v)if(r(c)!==null)v=!0,K(S);else{var W=r(u);W!==null&&V(k,W.startTime-T)}}function S(T,W){v=!1,g&&(g=!1,x(C),C=-1),m=!0;var se=p;try{for(w(W),f=r(c);f!==null&&(!(f.expirationTime>W)||T&&!M());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var ee=ge(f.expirationTime<=W);W=e.unstable_now(),typeof ee=="function"?f.callback=ee:f===r(c)&&n(c),w(W)}else n(c);f=r(c)}if(f!==null)var te=!0;else{var J=r(u);J!==null&&V(k,J.startTime-W),te=!1}return te}finally{f=null,p=se,m=!1}}var _=!1,N=null,C=-1,z=5,U=-1;function M(){return!(e.unstable_now()-U<z)}function Y(){if(N!==null){var T=e.unstable_now();U=T;var W=!0;try{W=N(!0,T)}finally{W?ae():(_=!1,N=null)}}else _=!1}var ae;if(typeof b=="function")ae=function(){b(Y)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,F=Q.port2;Q.port1.onmessage=Y,ae=function(){F.postMessage(null)}}else ae=function(){y(Y,0)};function K(T){N=T,_||(_=!0,ae())}function V(T,W){C=y(function(){T(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,K(S))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var W=3;break;default:W=p}var se=p;p=W;try{return T()}finally{p=se}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,W){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var se=p;p=T;try{return W()}finally{p=se}},e.unstable_scheduleCallback=function(T,W,se){var ge=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?ge+se:ge):se=ge,T){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=se+ee,T={id:d++,callback:W,priorityLevel:T,startTime:se,expirationTime:ee,sortIndex:-1},se>ge?(T.sortIndex=se,t(u,T),r(c)===null&&T===r(u)&&(g?(x(C),C=-1):g=!0,V(k,se-ge))):(T.sortIndex=ee,t(c,T),v||m||(v=!0,K(S))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var W=p;return function(){var se=p;p=W;try{return T.apply(this,arguments)}finally{p=se}}}})(A_);O_.exports=A_;var cD=O_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uD=h,Jr=cD;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D_=new Set,Ml={};function li(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Ml[e]=t,e=0;e<t.length;e++)D_.add(t[e])}var jo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vh=Object.prototype.hasOwnProperty,dD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U0={},q0={};function fD(e){return vh.call(q0,e)?!0:vh.call(U0,e)?!1:dD.test(e)?q0[e]=!0:(U0[e]=!0,!1)}function pD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mD(e,t,r,n){if(t===null||typeof t>"u"||pD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pr(e,t,r,n,o,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ir[e]=new Pr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ir[t]=new Pr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ir[e]=new Pr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ir[e]=new Pr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ir[e]=new Pr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ir[e]=new Pr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ir[e]=new Pr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ir[e]=new Pr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ir[e]=new Pr(e,5,!1,e.toLowerCase(),null,!1,!1)});var hg=/[\-:]([a-z])/g;function vg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hg,vg);ir[t]=new Pr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hg,vg);ir[t]=new Pr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hg,vg);ir[t]=new Pr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ir[e]=new Pr(e,1,!1,e.toLowerCase(),null,!1,!1)});ir.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ir[e]=new Pr(e,1,!1,e.toLowerCase(),null,!0,!0)});function gg(e,t,r,n){var o=ir.hasOwnProperty(t)?ir[t]:null;(o!==null?o.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mD(t,r,o,n)&&(r=null),n||o===null?fD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,n=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Io=uD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,au=Symbol.for("react.element"),Ni=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),gh=Symbol.for("react.profiler"),M_=Symbol.for("react.provider"),I_=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),yh=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),Vo=Symbol.for("react.lazy"),T_=Symbol.for("react.offscreen"),W0=Symbol.iterator;function Us(e){return e===null||typeof e!="object"?null:(e=W0&&e[W0]||e["@@iterator"],typeof e=="function"?e:null)}var wt=Object.assign,lm;function ol(e){if(lm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);lm=t&&t[1]||""}return`
`+lm+e}var cm=!1;function um(e,t){if(!e||cm)return"";cm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),a=n.stack.split(`
`),i=o.length-1,s=a.length-1;1<=i&&0<=s&&o[i]!==a[s];)s--;for(;1<=i&&0<=s;i--,s--)if(o[i]!==a[s]){if(i!==1||s!==1)do if(i--,s--,0>s||o[i]!==a[s]){var c=`
`+o[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=s);break}}}finally{cm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ol(e):""}function hD(e){switch(e.tag){case 5:return ol(e.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return e=um(e.type,!1),e;case 11:return e=um(e.type.render,!1),e;case 1:return e=um(e.type,!0),e;default:return""}}function bh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Pi:return"Fragment";case Ni:return"Portal";case gh:return"Profiler";case yg:return"StrictMode";case yh:return"Suspense";case xh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case I_:return(e.displayName||"Context")+".Consumer";case M_:return(e._context.displayName||"Context")+".Provider";case xg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bg:return t=e.displayName||null,t!==null?t:bh(e.type)||"Memo";case Vo:t=e._payload,e=e._init;try{return bh(e(t))}catch{}}return null}function vD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bh(t);case 8:return t===yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ma(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function R_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gD(e){var t=R_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function iu(e){e._valueTracker||(e._valueTracker=gD(e))}function z_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=R_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function wh(e,t){var r=t.checked;return wt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function K0(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ma(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L_(e,t){t=t.checked,t!=null&&gg(e,"checked",t,!1)}function kh(e,t){L_(e,t);var r=ma(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_h(e,t.type,r):t.hasOwnProperty("defaultValue")&&_h(e,t.type,ma(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H0(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _h(e,t,r){(t!=="number"||sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var al=Array.isArray;function Bi(e,t,r,n){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ma(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,n&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function jh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return wt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function V0(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(al(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ma(r)}}function $_(e,t){var r=ma(t.value),n=ma(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Y0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function F_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?F_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var su,B_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=su.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Il(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yD=["Webkit","ms","Moz","O"];Object.keys(ml).forEach(function(e){yD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ml[t]=ml[e]})});function U_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ml.hasOwnProperty(e)&&ml[e]?(""+t).trim():t+"px"}function q_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,o=U_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,o):e[r]=o}}var xD=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(e,t){if(t){if(xD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Nh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=null;function wg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Eh=null,Ui=null,qi=null;function G0(e){if(e=yc(e)){if(typeof Eh!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=Lf(t),Eh(e.stateNode,e.type,t))}}function W_(e){Ui?qi?qi.push(e):qi=[e]:Ui=e}function K_(){if(Ui){var e=Ui,t=qi;if(qi=Ui=null,G0(e),t)for(e=0;e<t.length;e++)G0(t[e])}}function H_(e,t){return e(t)}function V_(){}var dm=!1;function Y_(e,t,r){if(dm)return e(t,r);dm=!0;try{return H_(e,t,r)}finally{dm=!1,(Ui!==null||qi!==null)&&(V_(),K_())}}function Tl(e,t){var r=e.stateNode;if(r===null)return null;var n=Lf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Oh=!1;if(jo)try{var qs={};Object.defineProperty(qs,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",qs,qs),window.removeEventListener("test",qs,qs)}catch{Oh=!1}function bD(e,t,r,n,o,a,i,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var hl=!1,ld=null,cd=!1,Ah=null,wD={onError:function(e){hl=!0,ld=e}};function kD(e,t,r,n,o,a,i,s,c){hl=!1,ld=null,bD.apply(wD,arguments)}function _D(e,t,r,n,o,a,i,s,c){if(kD.apply(this,arguments),hl){if(hl){var u=ld;hl=!1,ld=null}else throw Error(ue(198));cd||(cd=!0,Ah=u)}}function ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X0(e){if(ci(e)!==e)throw Error(ue(188))}function jD(e){var t=e.alternate;if(!t){if(t=ci(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var o=r.return;if(o===null)break;var a=o.alternate;if(a===null){if(n=o.return,n!==null){r=n;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===r)return X0(o),e;if(a===n)return X0(o),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=o,n=a;else{for(var i=!1,s=o.child;s;){if(s===r){i=!0,r=o,n=a;break}if(s===n){i=!0,n=o,r=a;break}s=s.sibling}if(!i){for(s=a.child;s;){if(s===r){i=!0,r=a,n=o;break}if(s===n){i=!0,n=a,r=o;break}s=s.sibling}if(!i)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function X_(e){return e=jD(e),e!==null?Q_(e):null}function Q_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Q_(e);if(t!==null)return t;e=e.sibling}return null}var Z_=Jr.unstable_scheduleCallback,Q0=Jr.unstable_cancelCallback,SD=Jr.unstable_shouldYield,CD=Jr.unstable_requestPaint,Nt=Jr.unstable_now,ND=Jr.unstable_getCurrentPriorityLevel,kg=Jr.unstable_ImmediatePriority,J_=Jr.unstable_UserBlockingPriority,ud=Jr.unstable_NormalPriority,PD=Jr.unstable_LowPriority,ej=Jr.unstable_IdlePriority,If=null,Xn=null;function ED(e){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(If,e,void 0,(e.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:DD,OD=Math.log,AD=Math.LN2;function DD(e){return e>>>=0,e===0?32:31-(OD(e)/AD|0)|0}var lu=64,cu=4194304;function il(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,o=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var s=i&~o;s!==0?n=il(s):(a&=i,a!==0&&(n=il(a)))}else i=r&~o,i!==0?n=il(i):a!==0&&(n=il(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&o)&&(o=n&-n,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-In(t),o=1<<r,n|=e[r],t&=~o;return n}function MD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ID(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-In(a),s=1<<i,c=o[i];c===-1?(!(s&r)||s&n)&&(o[i]=MD(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}}function Dh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tj(){var e=lu;return lu<<=1,!(lu&4194240)&&(lu=64),e}function fm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-In(t),e[t]=r}function TD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-In(r),a=1<<o;t[o]=0,n[o]=-1,e[o]=-1,r&=~a}}function _g(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-In(r),o=1<<n;o&t|e[n]&t&&(e[n]|=t),r&=~o}}var et=0;function rj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var nj,jg,oj,aj,ij,Mh=!1,uu=[],oa=null,aa=null,ia=null,Rl=new Map,zl=new Map,Zo=[],RD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z0(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":Rl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Ws(e,t,r,n,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[o]},t!==null&&(t=yc(t),t!==null&&jg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function zD(e,t,r,n,o){switch(t){case"focusin":return oa=Ws(oa,e,t,r,n,o),!0;case"dragenter":return aa=Ws(aa,e,t,r,n,o),!0;case"mouseover":return ia=Ws(ia,e,t,r,n,o),!0;case"pointerover":var a=o.pointerId;return Rl.set(a,Ws(Rl.get(a)||null,e,t,r,n,o)),!0;case"gotpointercapture":return a=o.pointerId,zl.set(a,Ws(zl.get(a)||null,e,t,r,n,o)),!0}return!1}function sj(e){var t=$a(e.target);if(t!==null){var r=ci(t);if(r!==null){if(t=r.tag,t===13){if(t=G_(r),t!==null){e.blockedOn=t,ij(e.priority,function(){oj(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ih(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ph=n,r.target.dispatchEvent(n),Ph=null}else return t=yc(r),t!==null&&jg(t),e.blockedOn=r,!1;t.shift()}return!0}function J0(e,t,r){Wu(e)&&r.delete(t)}function LD(){Mh=!1,oa!==null&&Wu(oa)&&(oa=null),aa!==null&&Wu(aa)&&(aa=null),ia!==null&&Wu(ia)&&(ia=null),Rl.forEach(J0),zl.forEach(J0)}function Ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Mh||(Mh=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,LD)))}function Ll(e){function t(o){return Ks(o,e)}if(0<uu.length){Ks(uu[0],e);for(var r=1;r<uu.length;r++){var n=uu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(oa!==null&&Ks(oa,e),aa!==null&&Ks(aa,e),ia!==null&&Ks(ia,e),Rl.forEach(t),zl.forEach(t),r=0;r<Zo.length;r++)n=Zo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zo.length&&(r=Zo[0],r.blockedOn===null);)sj(r),r.blockedOn===null&&Zo.shift()}var Wi=Io.ReactCurrentBatchConfig,fd=!0;function $D(e,t,r,n){var o=et,a=Wi.transition;Wi.transition=null;try{et=1,Sg(e,t,r,n)}finally{et=o,Wi.transition=a}}function FD(e,t,r,n){var o=et,a=Wi.transition;Wi.transition=null;try{et=4,Sg(e,t,r,n)}finally{et=o,Wi.transition=a}}function Sg(e,t,r,n){if(fd){var o=Ih(e,t,r,n);if(o===null)km(e,t,n,pd,r),Z0(e,n);else if(zD(o,e,t,r,n))n.stopPropagation();else if(Z0(e,n),t&4&&-1<RD.indexOf(e)){for(;o!==null;){var a=yc(o);if(a!==null&&nj(a),a=Ih(e,t,r,n),a===null&&km(e,t,n,pd,r),a===o)break;o=a}o!==null&&n.stopPropagation()}else km(e,t,n,null,r)}}var pd=null;function Ih(e,t,r,n){if(pd=null,e=wg(n),e=$a(e),e!==null)if(t=ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return pd=e,null}function lj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ND()){case kg:return 1;case J_:return 4;case ud:case PD:return 16;case ej:return 536870912;default:return 16}default:return 16}}var ra=null,Cg=null,Ku=null;function cj(){if(Ku)return Ku;var e,t=Cg,r=t.length,n,o="value"in ra?ra.value:ra.textContent,a=o.length;for(e=0;e<r&&t[e]===o[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===o[a-n];n++);return Ku=o.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function du(){return!0}function eb(){return!1}function rn(e){function t(r,n,o,a,i){this._reactName=r,this._targetInst=o,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?du:eb,this.isPropagationStopped=eb,this}return wt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ng=rn(ps),gc=wt({},ps,{view:0,detail:0}),BD=rn(gc),pm,mm,Hs,Tf=wt({},gc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hs&&(Hs&&e.type==="mousemove"?(pm=e.screenX-Hs.screenX,mm=e.screenY-Hs.screenY):mm=pm=0,Hs=e),pm)},movementY:function(e){return"movementY"in e?e.movementY:mm}}),tb=rn(Tf),UD=wt({},Tf,{dataTransfer:0}),qD=rn(UD),WD=wt({},gc,{relatedTarget:0}),hm=rn(WD),KD=wt({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),HD=rn(KD),VD=wt({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YD=rn(VD),GD=wt({},ps,{data:0}),rb=rn(GD),XD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ZD[e])?!!t[e]:!1}function Pg(){return JD}var eM=wt({},gc,{key:function(e){if(e.key){var t=XD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?QD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tM=rn(eM),rM=wt({},Tf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nb=rn(rM),nM=wt({},gc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),oM=rn(nM),aM=wt({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),iM=rn(aM),sM=wt({},Tf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lM=rn(sM),cM=[9,13,27,32],Eg=jo&&"CompositionEvent"in window,vl=null;jo&&"documentMode"in document&&(vl=document.documentMode);var uM=jo&&"TextEvent"in window&&!vl,uj=jo&&(!Eg||vl&&8<vl&&11>=vl),ob=" ",ab=!1;function dj(e,t){switch(e){case"keyup":return cM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function dM(e,t){switch(e){case"compositionend":return fj(t);case"keypress":return t.which!==32?null:(ab=!0,ob);case"textInput":return e=t.data,e===ob&&ab?null:e;default:return null}}function fM(e,t){if(Ei)return e==="compositionend"||!Eg&&dj(e,t)?(e=cj(),Ku=Cg=ra=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uj&&t.locale!=="ko"?null:t.data;default:return null}}var pM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ib(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!pM[e.type]:t==="textarea"}function pj(e,t,r,n){W_(n),t=md(t,"onChange"),0<t.length&&(r=new Ng("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gl=null,$l=null;function mM(e){jj(e,0)}function Rf(e){var t=Di(e);if(z_(t))return e}function hM(e,t){if(e==="change")return t}var mj=!1;if(jo){var vm;if(jo){var gm="oninput"in document;if(!gm){var sb=document.createElement("div");sb.setAttribute("oninput","return;"),gm=typeof sb.oninput=="function"}vm=gm}else vm=!1;mj=vm&&(!document.documentMode||9<document.documentMode)}function lb(){gl&&(gl.detachEvent("onpropertychange",hj),$l=gl=null)}function hj(e){if(e.propertyName==="value"&&Rf($l)){var t=[];pj(t,$l,e,wg(e)),Y_(mM,t)}}function vM(e,t,r){e==="focusin"?(lb(),gl=t,$l=r,gl.attachEvent("onpropertychange",hj)):e==="focusout"&&lb()}function gM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rf($l)}function yM(e,t){if(e==="click")return Rf(t)}function xM(e,t){if(e==="input"||e==="change")return Rf(t)}function bM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zn=typeof Object.is=="function"?Object.is:bM;function Fl(e,t){if(zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var o=r[n];if(!vh.call(t,o)||!zn(e[o],t[o]))return!1}return!0}function cb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ub(e,t){var r=cb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cb(r)}}function vj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gj(){for(var e=window,t=sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sd(e.document)}return t}function Og(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wM(e){var t=gj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vj(r.ownerDocument.documentElement,r)){if(n!==null&&Og(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,a=Math.min(n.start,o);n=n.end===void 0?a:Math.min(n.end,o),!e.extend&&a>n&&(o=n,n=a,a=o),o=ub(r,a);var i=ub(r,n);o&&i&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kM=jo&&"documentMode"in document&&11>=document.documentMode,Oi=null,Th=null,yl=null,Rh=!1;function db(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rh||Oi==null||Oi!==sd(n)||(n=Oi,"selectionStart"in n&&Og(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yl&&Fl(yl,n)||(yl=n,n=md(Th,"onSelect"),0<n.length&&(t=new Ng("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Oi)))}function fu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ai={animationend:fu("Animation","AnimationEnd"),animationiteration:fu("Animation","AnimationIteration"),animationstart:fu("Animation","AnimationStart"),transitionend:fu("Transition","TransitionEnd")},ym={},yj={};jo&&(yj=document.createElement("div").style,"AnimationEvent"in window||(delete Ai.animationend.animation,delete Ai.animationiteration.animation,delete Ai.animationstart.animation),"TransitionEvent"in window||delete Ai.transitionend.transition);function zf(e){if(ym[e])return ym[e];if(!Ai[e])return e;var t=Ai[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in yj)return ym[e]=t[r];return e}var xj=zf("animationend"),bj=zf("animationiteration"),wj=zf("animationstart"),kj=zf("transitionend"),_j=new Map,fb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(e,t){_j.set(e,t),li(t,[e])}for(var xm=0;xm<fb.length;xm++){var bm=fb[xm],_M=bm.toLowerCase(),jM=bm[0].toUpperCase()+bm.slice(1);xa(_M,"on"+jM)}xa(xj,"onAnimationEnd");xa(bj,"onAnimationIteration");xa(wj,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(kj,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));li("onBeforeInput",["compositionend","keypress","textInput","paste"]);li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SM=new Set("cancel close invalid load scroll toggle".split(" ").concat(sl));function pb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_D(n,t,void 0,e),e.currentTarget=null}function jj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],o=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var s=n[i],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==a&&o.isPropagationStopped())break e;pb(o,s,u),a=c}else for(i=0;i<n.length;i++){if(s=n[i],c=s.instance,u=s.currentTarget,s=s.listener,c!==a&&o.isPropagationStopped())break e;pb(o,s,u),a=c}}}if(cd)throw e=Ah,cd=!1,Ah=null,e}function ut(e,t){var r=t[Bh];r===void 0&&(r=t[Bh]=new Set);var n=e+"__bubble";r.has(n)||(Sj(t,e,2,!1),r.add(n))}function wm(e,t,r){var n=0;t&&(n|=4),Sj(r,e,n,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function Bl(e){if(!e[pu]){e[pu]=!0,D_.forEach(function(r){r!=="selectionchange"&&(SM.has(r)||wm(r,!1,e),wm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,wm("selectionchange",!1,t))}}function Sj(e,t,r,n){switch(lj(t)){case 1:var o=$D;break;case 4:o=FD;break;default:o=Sg}r=o.bind(null,t,r,e),o=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),n?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function km(e,t,r,n,o){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var s=n.stateNode.containerInfo;if(s===o||s.nodeType===8&&s.parentNode===o)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;i=i.return}for(;s!==null;){if(i=$a(s),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}s=s.parentNode}}n=n.return}Y_(function(){var u=a,d=wg(r),f=[];e:{var p=_j.get(e);if(p!==void 0){var m=Ng,v=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":m=tM;break;case"focusin":v="focus",m=hm;break;case"focusout":v="blur",m=hm;break;case"beforeblur":case"afterblur":m=hm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=tb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=oM;break;case xj:case bj:case wj:m=HD;break;case kj:m=iM;break;case"scroll":m=BD;break;case"wheel":m=lM;break;case"copy":case"cut":case"paste":m=YD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=nb}var g=(t&4)!==0,y=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var b=u,w;b!==null;){w=b;var k=w.stateNode;if(w.tag===5&&k!==null&&(w=k,x!==null&&(k=Tl(b,x),k!=null&&g.push(Ul(b,k,w)))),y)break;b=b.return}0<g.length&&(p=new m(p,v,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==Ph&&(v=r.relatedTarget||r.fromElement)&&($a(v)||v[So]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?$a(v):null,v!==null&&(y=ci(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=tb,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(g=nb,k="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?p:Di(m),w=v==null?p:Di(v),p=new g(k,b+"leave",m,r,d),p.target=y,p.relatedTarget=w,k=null,$a(d)===u&&(g=new g(x,b+"enter",v,r,d),g.target=w,g.relatedTarget=y,k=g),y=k,m&&v)t:{for(g=m,x=v,b=0,w=g;w;w=wi(w))b++;for(w=0,k=x;k;k=wi(k))w++;for(;0<b-w;)g=wi(g),b--;for(;0<w-b;)x=wi(x),w--;for(;b--;){if(g===x||x!==null&&g===x.alternate)break t;g=wi(g),x=wi(x)}g=null}else g=null;m!==null&&mb(f,p,m,g,!1),v!==null&&y!==null&&mb(f,y,v,g,!0)}}e:{if(p=u?Di(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var S=hM;else if(ib(p))if(mj)S=xM;else{S=gM;var _=vM}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=yM);if(S&&(S=S(e,u))){pj(f,S,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&_h(p,"number",p.value)}switch(_=u?Di(u):window,e){case"focusin":(ib(_)||_.contentEditable==="true")&&(Oi=_,Th=u,yl=null);break;case"focusout":yl=Th=Oi=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,db(f,r,d);break;case"selectionchange":if(kM)break;case"keydown":case"keyup":db(f,r,d)}var N;if(Eg)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Ei?dj(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(uj&&r.locale!=="ko"&&(Ei||C!=="onCompositionStart"?C==="onCompositionEnd"&&Ei&&(N=cj()):(ra=d,Cg="value"in ra?ra.value:ra.textContent,Ei=!0)),_=md(u,C),0<_.length&&(C=new rb(C,e,null,r,d),f.push({event:C,listeners:_}),N?C.data=N:(N=fj(r),N!==null&&(C.data=N)))),(N=uM?dM(e,r):fM(e,r))&&(u=md(u,"onBeforeInput"),0<u.length&&(d=new rb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}jj(f,t)})}function Ul(e,t,r){return{instance:e,listener:t,currentTarget:r}}function md(e,t){for(var r=t+"Capture",n=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Tl(e,r),a!=null&&n.unshift(Ul(e,a,o)),a=Tl(e,t),a!=null&&n.push(Ul(e,a,o))),e=e.return}return n}function wi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mb(e,t,r,n,o){for(var a=t._reactName,i=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(c!==null&&c===n)break;s.tag===5&&u!==null&&(s=u,o?(c=Tl(r,a),c!=null&&i.unshift(Ul(r,c,s))):o||(c=Tl(r,a),c!=null&&i.push(Ul(r,c,s)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var CM=/\r\n?/g,NM=/\u0000|\uFFFD/g;function hb(e){return(typeof e=="string"?e:""+e).replace(CM,`
`).replace(NM,"")}function mu(e,t,r){if(t=hb(t),hb(e)!==t&&r)throw Error(ue(425))}function hd(){}var zh=null,Lh=null;function $h(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,PM=typeof clearTimeout=="function"?clearTimeout:void 0,vb=typeof Promise=="function"?Promise:void 0,EM=typeof queueMicrotask=="function"?queueMicrotask:typeof vb<"u"?function(e){return vb.resolve(null).then(e).catch(OM)}:Fh;function OM(e){setTimeout(function(){throw e})}function _m(e,t){var r=t,n=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(n===0){e.removeChild(o),Ll(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=o}while(r);Ll(t)}function sa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ms=Math.random().toString(36).slice(2),Yn="__reactFiber$"+ms,ql="__reactProps$"+ms,So="__reactContainer$"+ms,Bh="__reactEvents$"+ms,AM="__reactListeners$"+ms,DM="__reactHandles$"+ms;function $a(e){var t=e[Yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[So]||r[Yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gb(e);e!==null;){if(r=e[Yn])return r;e=gb(e)}return t}e=r,r=e.parentNode}return null}function yc(e){return e=e[Yn]||e[So],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Di(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function Lf(e){return e[ql]||null}var Uh=[],Mi=-1;function ba(e){return{current:e}}function ft(e){0>Mi||(e.current=Uh[Mi],Uh[Mi]=null,Mi--)}function st(e,t){Mi++,Uh[Mi]=e.current,e.current=t}var ha={},vr=ba(ha),Fr=ba(!1),Qa=ha;function Qi(e,t){var r=e.type.contextTypes;if(!r)return ha;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in r)o[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Br(e){return e=e.childContextTypes,e!=null}function vd(){ft(Fr),ft(vr)}function yb(e,t,r){if(vr.current!==ha)throw Error(ue(168));st(vr,t),st(Fr,r)}function Cj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var o in n)if(!(o in t))throw Error(ue(108,vD(e)||"Unknown",o));return wt({},r,n)}function gd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ha,Qa=vr.current,st(vr,e),st(Fr,Fr.current),!0}function xb(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=Cj(e,t,Qa),n.__reactInternalMemoizedMergedChildContext=e,ft(Fr),ft(vr),st(vr,e)):ft(Fr),st(Fr,r)}var uo=null,$f=!1,jm=!1;function Nj(e){uo===null?uo=[e]:uo.push(e)}function MM(e){$f=!0,Nj(e)}function wa(){if(!jm&&uo!==null){jm=!0;var e=0,t=et;try{var r=uo;for(et=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}uo=null,$f=!1}catch(o){throw uo!==null&&(uo=uo.slice(e+1)),Z_(kg,wa),o}finally{et=t,jm=!1}}return null}var Ii=[],Ti=0,yd=null,xd=0,un=[],dn=0,Za=null,ho=1,vo="";function Ma(e,t){Ii[Ti++]=xd,Ii[Ti++]=yd,yd=e,xd=t}function Pj(e,t,r){un[dn++]=ho,un[dn++]=vo,un[dn++]=Za,Za=e;var n=ho;e=vo;var o=32-In(n)-1;n&=~(1<<o),r+=1;var a=32-In(t)+o;if(30<a){var i=o-o%5;a=(n&(1<<i)-1).toString(32),n>>=i,o-=i,ho=1<<32-In(t)+o|r<<o|n,vo=a+e}else ho=1<<a|r<<o|n,vo=e}function Ag(e){e.return!==null&&(Ma(e,1),Pj(e,1,0))}function Dg(e){for(;e===yd;)yd=Ii[--Ti],Ii[Ti]=null,xd=Ii[--Ti],Ii[Ti]=null;for(;e===Za;)Za=un[--dn],un[dn]=null,vo=un[--dn],un[dn]=null,ho=un[--dn],un[dn]=null}var Qr=null,Gr=null,gt=!1,On=null;function Ej(e,t){var r=fn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Gr=sa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Za!==null?{id:ho,overflow:vo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qr=e,Gr=null,!0):!1;default:return!1}}function qh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Wh(e){if(gt){var t=Gr;if(t){var r=t;if(!bb(e,t)){if(qh(e))throw Error(ue(418));t=sa(r.nextSibling);var n=Qr;t&&bb(e,t)?Ej(n,r):(e.flags=e.flags&-4097|2,gt=!1,Qr=e)}}else{if(qh(e))throw Error(ue(418));e.flags=e.flags&-4097|2,gt=!1,Qr=e}}}function wb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function hu(e){if(e!==Qr)return!1;if(!gt)return wb(e),gt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$h(e.type,e.memoizedProps)),t&&(t=Gr)){if(qh(e))throw Oj(),Error(ue(418));for(;t;)Ej(e,t),t=sa(t.nextSibling)}if(wb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gr=sa(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gr=null}}else Gr=Qr?sa(e.stateNode.nextSibling):null;return!0}function Oj(){for(var e=Gr;e;)e=sa(e.nextSibling)}function Zi(){Gr=Qr=null,gt=!1}function Mg(e){On===null?On=[e]:On.push(e)}var IM=Io.ReactCurrentBatchConfig;function Vs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var o=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var s=o.refs;i===null?delete s[a]:s[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function vu(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kb(e){var t=e._init;return t(e._payload)}function Aj(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function o(x,b){return x=da(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,b,w,k){return b===null||b.tag!==6?(b=Am(w,x.mode,k),b.return=x,b):(b=o(b,w),b.return=x,b)}function c(x,b,w,k){var S=w.type;return S===Pi?d(x,b,w.props.children,k,w.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&kb(S)===b.type)?(k=o(b,w.props),k.ref=Vs(x,b,w),k.return=x,k):(k=Ju(w.type,w.key,w.props,null,x.mode,k),k.ref=Vs(x,b,w),k.return=x,k)}function u(x,b,w,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Dm(w,x.mode,k),b.return=x,b):(b=o(b,w.children||[]),b.return=x,b)}function d(x,b,w,k,S){return b===null||b.tag!==7?(b=Ha(w,x.mode,k,S),b.return=x,b):(b=o(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Am(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case au:return w=Ju(b.type,b.key,b.props,null,x.mode,w),w.ref=Vs(x,null,b),w.return=x,w;case Ni:return b=Dm(b,x.mode,w),b.return=x,b;case Vo:var k=b._init;return f(x,k(b._payload),w)}if(al(b)||Us(b))return b=Ha(b,x.mode,w,null),b.return=x,b;vu(x,b)}return null}function p(x,b,w,k){var S=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:s(x,b,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case au:return w.key===S?c(x,b,w,k):null;case Ni:return w.key===S?u(x,b,w,k):null;case Vo:return S=w._init,p(x,b,S(w._payload),k)}if(al(w)||Us(w))return S!==null?null:d(x,b,w,k,null);vu(x,w)}return null}function m(x,b,w,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(w)||null,s(b,x,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case au:return x=x.get(k.key===null?w:k.key)||null,c(b,x,k,S);case Ni:return x=x.get(k.key===null?w:k.key)||null,u(b,x,k,S);case Vo:var _=k._init;return m(x,b,w,_(k._payload),S)}if(al(k)||Us(k))return x=x.get(w)||null,d(b,x,k,S,null);vu(b,k)}return null}function v(x,b,w,k){for(var S=null,_=null,N=b,C=b=0,z=null;N!==null&&C<w.length;C++){N.index>C?(z=N,N=null):z=N.sibling;var U=p(x,N,w[C],k);if(U===null){N===null&&(N=z);break}e&&N&&U.alternate===null&&t(x,N),b=a(U,b,C),_===null?S=U:_.sibling=U,_=U,N=z}if(C===w.length)return r(x,N),gt&&Ma(x,C),S;if(N===null){for(;C<w.length;C++)N=f(x,w[C],k),N!==null&&(b=a(N,b,C),_===null?S=N:_.sibling=N,_=N);return gt&&Ma(x,C),S}for(N=n(x,N);C<w.length;C++)z=m(N,x,C,w[C],k),z!==null&&(e&&z.alternate!==null&&N.delete(z.key===null?C:z.key),b=a(z,b,C),_===null?S=z:_.sibling=z,_=z);return e&&N.forEach(function(M){return t(x,M)}),gt&&Ma(x,C),S}function g(x,b,w,k){var S=Us(w);if(typeof S!="function")throw Error(ue(150));if(w=S.call(w),w==null)throw Error(ue(151));for(var _=S=null,N=b,C=b=0,z=null,U=w.next();N!==null&&!U.done;C++,U=w.next()){N.index>C?(z=N,N=null):z=N.sibling;var M=p(x,N,U.value,k);if(M===null){N===null&&(N=z);break}e&&N&&M.alternate===null&&t(x,N),b=a(M,b,C),_===null?S=M:_.sibling=M,_=M,N=z}if(U.done)return r(x,N),gt&&Ma(x,C),S;if(N===null){for(;!U.done;C++,U=w.next())U=f(x,U.value,k),U!==null&&(b=a(U,b,C),_===null?S=U:_.sibling=U,_=U);return gt&&Ma(x,C),S}for(N=n(x,N);!U.done;C++,U=w.next())U=m(N,x,C,U.value,k),U!==null&&(e&&U.alternate!==null&&N.delete(U.key===null?C:U.key),b=a(U,b,C),_===null?S=U:_.sibling=U,_=U);return e&&N.forEach(function(Y){return t(x,Y)}),gt&&Ma(x,C),S}function y(x,b,w,k){if(typeof w=="object"&&w!==null&&w.type===Pi&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case au:e:{for(var S=w.key,_=b;_!==null;){if(_.key===S){if(S=w.type,S===Pi){if(_.tag===7){r(x,_.sibling),b=o(_,w.props.children),b.return=x,x=b;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Vo&&kb(S)===_.type){r(x,_.sibling),b=o(_,w.props),b.ref=Vs(x,_,w),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}w.type===Pi?(b=Ha(w.props.children,x.mode,k,w.key),b.return=x,x=b):(k=Ju(w.type,w.key,w.props,null,x.mode,k),k.ref=Vs(x,b,w),k.return=x,x=k)}return i(x);case Ni:e:{for(_=w.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(x,b.sibling),b=o(b,w.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Dm(w,x.mode,k),b.return=x,x=b}return i(x);case Vo:return _=w._init,y(x,b,_(w._payload),k)}if(al(w))return v(x,b,w,k);if(Us(w))return g(x,b,w,k);vu(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(x,b.sibling),b=o(b,w),b.return=x,x=b):(r(x,b),b=Am(w,x.mode,k),b.return=x,x=b),i(x)):r(x,b)}return y}var Ji=Aj(!0),Dj=Aj(!1),bd=ba(null),wd=null,Ri=null,Ig=null;function Tg(){Ig=Ri=wd=null}function Rg(e){var t=bd.current;ft(bd),e._currentValue=t}function Kh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){wd=e,Ig=Ri=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(Ig!==e)if(e={context:e,memoizedValue:t,next:null},Ri===null){if(wd===null)throw Error(ue(308));Ri=e,wd.dependencies={lanes:0,firstContext:e}}else Ri=Ri.next=e;return t}var Fa=null;function zg(e){Fa===null?Fa=[e]:Fa.push(e)}function Mj(e,t,r,n){var o=t.interleaved;return o===null?(r.next=r,zg(t)):(r.next=o.next,o.next=r),t.interleaved=r,Co(e,n)}function Co(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yo=!1;function Lg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ij(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,We&2){var o=n.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),n.pending=t,Co(e,r)}return o=n.interleaved,o===null?(t.next=t,zg(n)):(t.next=o.next,o.next=t),n.interleaved=t,Co(e,r)}function Vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_g(e,r)}}function _b(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var o=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?o=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?o=a=t:a=a.next=t}else o=a=t;r={baseState:n.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kd(e,t,r,n){var o=e.updateQueue;Yo=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(s!==null){o.shared.pending=null;var c=s,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==i&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=o.baseState;i=0,d=u=c=null,s=a;do{var p=s.lane,m=s.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,g=s;switch(p=t,m=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=wt({},f,p);break e;case 2:Yo=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=p;if(s=s.next,s===null){if(s=o.shared.pending,s===null)break;p=s,s=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(!0);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do i|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);ei|=i,e.lanes=i,e.memoizedState=f}}function jb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],o=n.callback;if(o!==null){if(n.callback=null,n=r,typeof o!="function")throw Error(ue(191,o));o.call(n)}}}var xc={},Qn=ba(xc),Wl=ba(xc),Kl=ba(xc);function Ba(e){if(e===xc)throw Error(ue(174));return e}function $g(e,t){switch(st(Kl,t),st(Wl,e),st(Qn,xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Sh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Sh(t,e)}ft(Qn),st(Qn,t)}function es(){ft(Qn),ft(Wl),ft(Kl)}function Tj(e){Ba(Kl.current);var t=Ba(Qn.current),r=Sh(t,e.type);t!==r&&(st(Wl,e),st(Qn,r))}function Fg(e){Wl.current===e&&(ft(Qn),ft(Wl))}var xt=ba(0);function _d(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sm=[];function Bg(){for(var e=0;e<Sm.length;e++)Sm[e]._workInProgressVersionPrimary=null;Sm.length=0}var Yu=Io.ReactCurrentDispatcher,Cm=Io.ReactCurrentBatchConfig,Ja=0,bt=null,It=null,Ht=null,jd=!1,xl=!1,Hl=0,TM=0;function ur(){throw Error(ue(321))}function Ug(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!zn(e[r],t[r]))return!1;return!0}function qg(e,t,r,n,o,a){if(Ja=a,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yu.current=e===null||e.memoizedState===null?$M:FM,e=r(n,o),xl){a=0;do{if(xl=!1,Hl=0,25<=a)throw Error(ue(301));a+=1,Ht=It=null,t.updateQueue=null,Yu.current=BM,e=r(n,o)}while(xl)}if(Yu.current=Sd,t=It!==null&&It.next!==null,Ja=0,Ht=It=bt=null,jd=!1,t)throw Error(ue(300));return e}function Wg(){var e=Hl!==0;return Hl=0,e}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?bt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function gn(){if(It===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=It.next;var t=Ht===null?bt.memoizedState:Ht.next;if(t!==null)Ht=t,It=e;else{if(e===null)throw Error(ue(310));It=e,e={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Ht===null?bt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Vl(e,t){return typeof t=="function"?t(e):t}function Nm(e){var t=gn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=It,o=n.baseQueue,a=r.pending;if(a!==null){if(o!==null){var i=o.next;o.next=a.next,a.next=i}n.baseQueue=o=a,r.pending=null}if(o!==null){a=o.next,n=n.baseState;var s=i=null,c=null,u=a;do{var d=u.lane;if((Ja&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(s=c=f,i=n):c=c.next=f,bt.lanes|=d,ei|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=s,zn(n,t.memoizedState)||(Lr=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){o=e;do a=o.lane,bt.lanes|=a,ei|=a,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pm(e){var t=gn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,o=r.pending,a=t.memoizedState;if(o!==null){r.pending=null;var i=o=o.next;do a=e(a,i.action),i=i.next;while(i!==o);zn(a,t.memoizedState)||(Lr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Rj(){}function zj(e,t){var r=bt,n=gn(),o=t(),a=!zn(n.memoizedState,o);if(a&&(n.memoizedState=o,Lr=!0),n=n.queue,Kg(Fj.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,Yl(9,$j.bind(null,r,n,o,t),void 0,null),Gt===null)throw Error(ue(349));Ja&30||Lj(r,t,o)}return o}function Lj(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $j(e,t,r,n){t.value=r,t.getSnapshot=n,Bj(t)&&Uj(e)}function Fj(e,t,r){return r(function(){Bj(t)&&Uj(e)})}function Bj(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!zn(e,r)}catch{return!0}}function Uj(e){var t=Co(e,1);t!==null&&Tn(t,e,1,-1)}function Sb(e){var t=Hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vl,lastRenderedState:e},t.queue=e,e=e.dispatch=LM.bind(null,bt,e),[t.memoizedState,e]}function Yl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function qj(){return gn().memoizedState}function Gu(e,t,r,n){var o=Hn();bt.flags|=e,o.memoizedState=Yl(1|t,r,void 0,n===void 0?null:n)}function Ff(e,t,r,n){var o=gn();n=n===void 0?null:n;var a=void 0;if(It!==null){var i=It.memoizedState;if(a=i.destroy,n!==null&&Ug(n,i.deps)){o.memoizedState=Yl(t,r,a,n);return}}bt.flags|=e,o.memoizedState=Yl(1|t,r,a,n)}function Cb(e,t){return Gu(8390656,8,e,t)}function Kg(e,t){return Ff(2048,8,e,t)}function Wj(e,t){return Ff(4,2,e,t)}function Kj(e,t){return Ff(4,4,e,t)}function Hj(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vj(e,t,r){return r=r!=null?r.concat([e]):null,Ff(4,4,Hj.bind(null,t,e),r)}function Hg(){}function Yj(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ug(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gj(e,t){var r=gn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ug(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xj(e,t,r){return Ja&21?(zn(r,t)||(r=tj(),bt.lanes|=r,ei|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function RM(e,t){var r=et;et=r!==0&&4>r?r:4,e(!0);var n=Cm.transition;Cm.transition={};try{e(!1),t()}finally{et=r,Cm.transition=n}}function Qj(){return gn().memoizedState}function zM(e,t,r){var n=ua(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Zj(e))Jj(t,r);else if(r=Mj(e,t,r,n),r!==null){var o=jr();Tn(r,e,n,o),eS(r,t,n)}}function LM(e,t,r){var n=ua(e),o={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zj(e))Jj(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,s=a(i,r);if(o.hasEagerState=!0,o.eagerState=s,zn(s,i)){var c=t.interleaved;c===null?(o.next=o,zg(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}r=Mj(e,t,o,n),r!==null&&(o=jr(),Tn(r,e,n,o),eS(r,t,n))}}function Zj(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function Jj(e,t){xl=jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function eS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_g(e,r)}}var Sd={readContext:vn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},$M={readContext:vn,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:Cb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Gu(4194308,4,Hj.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Gu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Gu(4,2,e,t)},useMemo:function(e,t){var r=Hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Hn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zM.bind(null,bt,e),[n.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:Sb,useDebugValue:Hg,useDeferredValue:function(e){return Hn().memoizedState=e},useTransition:function(){var e=Sb(!1),t=e[0];return e=RM.bind(null,e[1]),Hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=bt,o=Hn();if(gt){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),Gt===null)throw Error(ue(349));Ja&30||Lj(n,t,r)}o.memoizedState=r;var a={value:r,getSnapshot:t};return o.queue=a,Cb(Fj.bind(null,n,a,e),[e]),n.flags|=2048,Yl(9,$j.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Hn(),t=Gt.identifierPrefix;if(gt){var r=vo,n=ho;r=(n&~(1<<32-In(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TM++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FM={readContext:vn,useCallback:Yj,useContext:vn,useEffect:Kg,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Kj,useMemo:Gj,useReducer:Nm,useRef:qj,useState:function(){return Nm(Vl)},useDebugValue:Hg,useDeferredValue:function(e){var t=gn();return Xj(t,It.memoizedState,e)},useTransition:function(){var e=Nm(Vl)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Rj,useSyncExternalStore:zj,useId:Qj,unstable_isNewReconciler:!1},BM={readContext:vn,useCallback:Yj,useContext:vn,useEffect:Kg,useImperativeHandle:Vj,useInsertionEffect:Wj,useLayoutEffect:Kj,useMemo:Gj,useReducer:Pm,useRef:qj,useState:function(){return Pm(Vl)},useDebugValue:Hg,useDeferredValue:function(e){var t=gn();return It===null?t.memoizedState=e:Xj(t,It.memoizedState,e)},useTransition:function(){var e=Pm(Vl)[0],t=gn().memoizedState;return[e,t]},useMutableSource:Rj,useSyncExternalStore:zj,useId:Qj,unstable_isNewReconciler:!1};function Pn(e,t){if(e&&e.defaultProps){t=wt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Hh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:wt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Bf={isMounted:function(e){return(e=e._reactInternals)?ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jr(),o=ua(e),a=bo(n,o);a.payload=t,r!=null&&(a.callback=r),t=la(e,a,o),t!==null&&(Tn(t,e,o,n),Vu(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jr(),o=ua(e),a=bo(n,o);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=la(e,a,o),t!==null&&(Tn(t,e,o,n),Vu(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jr(),n=ua(e),o=bo(r,n);o.tag=2,t!=null&&(o.callback=t),t=la(e,o,n),t!==null&&(Tn(t,e,n,r),Vu(t,e,n))}};function Nb(e,t,r,n,o,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Fl(r,n)||!Fl(o,a):!0}function tS(e,t,r){var n=!1,o=ha,a=t.contextType;return typeof a=="object"&&a!==null?a=vn(a):(o=Br(t)?Qa:vr.current,n=t.contextTypes,a=(n=n!=null)?Qi(e,o):ha),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Bf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function Pb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Bf.enqueueReplaceState(t,t.state,null)}function Vh(e,t,r,n){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},Lg(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=vn(a):(a=Br(t)?Qa:vr.current,o.context=Qi(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Hh(e,t,a,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Bf.enqueueReplaceState(o,o.state,null),kd(e,r,o,n),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function ts(e,t){try{var r="",n=t;do r+=hD(n),n=n.return;while(n);var o=r}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Em(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var UM=typeof WeakMap=="function"?WeakMap:Map;function rS(e,t,r){r=bo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nd||(Nd=!0,ov=n),Yh(e,t)},r}function nS(e,t,r){r=bo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var o=t.value;r.payload=function(){return n(o)},r.callback=function(){Yh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yh(e,t),typeof n!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Eb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new UM;var o=new Set;n.set(t,o)}else o=n.get(t),o===void 0&&(o=new Set,n.set(t,o));o.has(r)||(o.add(r),e=rI.bind(null,e,t,r),t.then(e,e))}function Ob(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ab(e,t,r,n,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bo(-1,1),t.tag=2,la(r,t,1))),r.lanes|=1),e)}var qM=Io.ReactCurrentOwner,Lr=!1;function br(e,t,r,n){t.child=e===null?Dj(t,null,r,n):Ji(t,e.child,r,n)}function Db(e,t,r,n,o){r=r.render;var a=t.ref;return Ki(t,o),n=qg(e,t,r,n,a,o),r=Wg(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(gt&&r&&Ag(t),t.flags|=1,br(e,t,n,o),t.child)}function Mb(e,t,r,n,o){if(e===null){var a=r.type;return typeof a=="function"&&!ey(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,oS(e,t,a,n,o)):(e=Ju(r.type,null,n,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fl,r(i,n)&&e.ref===t.ref)return No(e,t,o)}return t.flags|=1,e=da(a,n),e.ref=t.ref,e.return=t,t.child=e}function oS(e,t,r,n,o){if(e!==null){var a=e.memoizedProps;if(Fl(a,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=a,(e.lanes&o)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,No(e,t,o)}return Gh(e,t,r,n,o)}function aS(e,t,r){var n=t.pendingProps,o=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Li,Hr),Hr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,st(Li,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,st(Li,Hr),Hr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,st(Li,Hr),Hr|=n;return br(e,t,o,r),t.child}function iS(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gh(e,t,r,n,o){var a=Br(r)?Qa:vr.current;return a=Qi(t,a),Ki(t,o),r=qg(e,t,r,n,a,o),n=Wg(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,No(e,t,o)):(gt&&n&&Ag(t),t.flags|=1,br(e,t,r,o),t.child)}function Ib(e,t,r,n,o){if(Br(r)){var a=!0;gd(t)}else a=!1;if(Ki(t,o),t.stateNode===null)Xu(e,t),tS(t,r,n),Vh(t,r,n,o),n=!0;else if(e===null){var i=t.stateNode,s=t.memoizedProps;i.props=s;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=vn(u):(u=Br(r)?Qa:vr.current,u=Qi(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==n||c!==u)&&Pb(t,i,n,u),Yo=!1;var p=t.memoizedState;i.state=p,kd(t,n,i,o),c=t.memoizedState,s!==n||p!==c||Fr.current||Yo?(typeof d=="function"&&(Hh(t,r,d,n),c=t.memoizedState),(s=Yo||Nb(t,r,s,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ij(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Pn(t.type,s),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=vn(c):(c=Br(r)?Qa:vr.current,c=Qi(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s!==f||p!==c)&&Pb(t,i,n,c),Yo=!1,p=t.memoizedState,i.state=p,kd(t,n,i,o);var v=t.memoizedState;s!==f||p!==v||Fr.current||Yo?(typeof m=="function"&&(Hh(t,r,m,n),v=t.memoizedState),(u=Yo||Nb(t,r,u,n,p,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Xh(e,t,r,n,a,o)}function Xh(e,t,r,n,o,a){iS(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return o&&xb(t,r,!1),No(e,t,a);n=t.stateNode,qM.current=t;var s=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Ji(t,e.child,null,a),t.child=Ji(t,null,s,a)):br(e,t,s,a),t.memoizedState=n.state,o&&xb(t,r,!0),t.child}function sS(e){var t=e.stateNode;t.pendingContext?yb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yb(e,t.context,!1),$g(e,t.containerInfo)}function Tb(e,t,r,n,o){return Zi(),Mg(o),t.flags|=256,br(e,t,r,n),t.child}var Qh={dehydrated:null,treeContext:null,retryLane:0};function Zh(e){return{baseLanes:e,cachePool:null,transitions:null}}function lS(e,t,r){var n=t.pendingProps,o=xt.current,a=!1,i=(t.flags&128)!==0,s;if((s=i)||(s=e!==null&&e.memoizedState===null?!1:(o&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),st(xt,o&1),e===null)return Wh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Wf(i,n,0,null),e=Ha(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Zh(r),t.memoizedState=Qh,e):Vg(t,i));if(o=e.memoizedState,o!==null&&(s=o.dehydrated,s!==null))return WM(e,t,i,n,s,o,r);if(a){a=n.fallback,i=t.mode,o=e.child,s=o.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==o?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=da(o,c),n.subtreeFlags=o.subtreeFlags&14680064),s!==null?a=da(s,a):(a=Ha(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Zh(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Qh,n}return a=e.child,e=a.sibling,n=da(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vg(e,t){return t=Wf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gu(e,t,r,n){return n!==null&&Mg(n),Ji(t,e.child,null,r),e=Vg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WM(e,t,r,n,o,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Em(Error(ue(422))),gu(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,o=t.mode,n=Wf({mode:"visible",children:n.children},o,0,null),a=Ha(a,o,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ji(t,e.child,null,i),t.child.memoizedState=Zh(i),t.memoizedState=Qh,a);if(!(t.mode&1))return gu(e,t,i,null);if(o.data==="$!"){if(n=o.nextSibling&&o.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(ue(419)),n=Em(a,n,void 0),gu(e,t,i,n)}if(s=(i&e.childLanes)!==0,Lr||s){if(n=Gt,n!==null){switch(i&-i){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(n.suspendedLanes|i)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,Co(e,o),Tn(n,e,o,-1))}return Jg(),n=Em(Error(ue(421))),gu(e,t,i,n)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=nI.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,Gr=sa(o.nextSibling),Qr=t,gt=!0,On=null,e!==null&&(un[dn++]=ho,un[dn++]=vo,un[dn++]=Za,ho=e.id,vo=e.overflow,Za=t),t=Vg(t,n.children),t.flags|=4096,t)}function Rb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Kh(e.return,t,r)}function Om(e,t,r,n,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=o)}function cS(e,t,r){var n=t.pendingProps,o=n.revealOrder,a=n.tail;if(br(e,t,n.children,r),n=xt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rb(e,r,t);else if(e.tag===19)Rb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(st(xt,n),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&_d(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),Om(t,!1,o,r,a);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_d(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}Om(t,!0,r,null,a);break;case"together":Om(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function No(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=da(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=da(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function KM(e,t,r){switch(t.tag){case 3:sS(t),Zi();break;case 5:Tj(t);break;case 1:Br(t.type)&&gd(t);break;case 4:$g(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,o=t.memoizedProps.value;st(bd,n._currentValue),n._currentValue=o;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(st(xt,xt.current&1),t.flags|=128,null):r&t.child.childLanes?lS(e,t,r):(st(xt,xt.current&1),e=No(e,t,r),e!==null?e.sibling:null);st(xt,xt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cS(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),st(xt,xt.current),n)break;return null;case 22:case 23:return t.lanes=0,aS(e,t,r)}return No(e,t,r)}var uS,Jh,dS,fS;uS=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Jh=function(){};dS=function(e,t,r,n){var o=e.memoizedProps;if(o!==n){e=t.stateNode,Ba(Qn.current);var a=null;switch(r){case"input":o=wh(e,o),n=wh(e,n),a=[];break;case"select":o=wt({},o,{value:void 0}),n=wt({},n,{value:void 0}),a=[];break;case"textarea":o=jh(e,o),n=jh(e,n),a=[];break;default:typeof o.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hd)}Ch(r,n);var i;r=null;for(u in o)if(!n.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var s=o[u];for(i in s)s.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ml.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(s=o!=null?o[u]:void 0,n.hasOwnProperty(u)&&c!==s&&(c!=null||s!=null))if(u==="style")if(s){for(i in s)!s.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&s[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,s=s?s.__html:void 0,c!=null&&s!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ut("scroll",e),a||s===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};fS=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ys(e,t){if(!gt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function dr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags&14680064,n|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,n|=o.subtreeFlags,n|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function HM(e,t,r){var n=t.pendingProps;switch(Dg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dr(t),null;case 1:return Br(t.type)&&vd(),dr(t),null;case 3:return n=t.stateNode,es(),ft(Fr),ft(vr),Bg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(hu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(sv(On),On=null))),Jh(e,t),dr(t),null;case 5:Fg(t);var o=Ba(Kl.current);if(r=t.type,e!==null&&t.stateNode!=null)dS(e,t,r,n,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return dr(t),null}if(e=Ba(Qn.current),hu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Yn]=t,n[ql]=a,e=(t.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(o=0;o<sl.length;o++)ut(sl[o],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":K0(n,a),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ut("invalid",n);break;case"textarea":V0(n,a),ut("invalid",n)}Ch(r,a),o=null;for(var i in a)if(a.hasOwnProperty(i)){var s=a[i];i==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&mu(n.textContent,s,e),o=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&mu(n.textContent,s,e),o=["children",""+s]):Ml.hasOwnProperty(i)&&s!=null&&i==="onScroll"&&ut("scroll",n)}switch(r){case"input":iu(n),H0(n,a,!0);break;case"textarea":iu(n),Y0(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=hd)}n=o,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=F_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Yn]=t,e[ql]=n,uS(e,t,!1,!1),t.stateNode=e;e:{switch(i=Nh(r,n),r){case"dialog":ut("cancel",e),ut("close",e),o=n;break;case"iframe":case"object":case"embed":ut("load",e),o=n;break;case"video":case"audio":for(o=0;o<sl.length;o++)ut(sl[o],e);o=n;break;case"source":ut("error",e),o=n;break;case"img":case"image":case"link":ut("error",e),ut("load",e),o=n;break;case"details":ut("toggle",e),o=n;break;case"input":K0(e,n),o=wh(e,n),ut("invalid",e);break;case"option":o=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},o=wt({},n,{value:void 0}),ut("invalid",e);break;case"textarea":V0(e,n),o=jh(e,n),ut("invalid",e);break;default:o=n}Ch(r,o),s=o;for(a in s)if(s.hasOwnProperty(a)){var c=s[a];a==="style"?q_(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&B_(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Il(e,c):typeof c=="number"&&Il(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ml.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ut("scroll",e):c!=null&&gg(e,a,c,i))}switch(r){case"input":iu(e),H0(e,n,!1);break;case"textarea":iu(e),Y0(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ma(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Bi(e,!!n.multiple,a,!1):n.defaultValue!=null&&Bi(e,!!n.multiple,n.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return dr(t),null;case 6:if(e&&t.stateNode!=null)fS(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=Ba(Kl.current),Ba(Qn.current),hu(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yn]=t,(a=n.nodeValue!==r)&&(e=Qr,e!==null))switch(e.tag){case 3:mu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&mu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yn]=t,t.stateNode=n}return dr(t),null;case 13:if(ft(xt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Gr!==null&&t.mode&1&&!(t.flags&128))Oj(),Zi(),t.flags|=98560,a=!1;else if(a=hu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Yn]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;dr(t),a=!1}else On!==null&&(sv(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||xt.current&1?zt===0&&(zt=3):Jg())),t.updateQueue!==null&&(t.flags|=4),dr(t),null);case 4:return es(),Jh(e,t),e===null&&Bl(t.stateNode.containerInfo),dr(t),null;case 10:return Rg(t.type._context),dr(t),null;case 17:return Br(t.type)&&vd(),dr(t),null;case 19:if(ft(xt),a=t.memoizedState,a===null)return dr(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)Ys(a,!1);else{if(zt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=_d(e),i!==null){for(t.flags|=128,Ys(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return st(xt,xt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Nt()>rs&&(t.flags|=128,n=!0,Ys(a,!1),t.lanes=4194304)}else{if(!n)if(e=_d(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ys(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!gt)return dr(t),null}else 2*Nt()-a.renderingStartTime>rs&&r!==1073741824&&(t.flags|=128,n=!0,Ys(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Nt(),t.sibling=null,r=xt.current,st(xt,n?r&1|2:r&1),t):(dr(t),null);case 22:case 23:return Zg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hr&1073741824&&(dr(t),t.subtreeFlags&6&&(t.flags|=8192)):dr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function VM(e,t){switch(Dg(t),t.tag){case 1:return Br(t.type)&&vd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return es(),ft(Fr),ft(vr),Bg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fg(t),null;case 13:if(ft(xt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ft(xt),null;case 4:return es(),null;case 10:return Rg(t.type._context),null;case 22:case 23:return Zg(),null;case 24:return null;default:return null}}var yu=!1,pr=!1,YM=typeof WeakSet=="function"?WeakSet:Set,be=null;function zi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function ev(e,t,r){try{r()}catch(n){St(e,t,n)}}var zb=!1;function GM(e,t){if(zh=fd,e=gj(),Og(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var o=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,s=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||o!==0&&f.nodeType!==3||(s=i+o),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===o&&(s=i),p===a&&++d===n&&(c=i),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Lh={focusedElem:e,selectionRange:r},fd=!1,be=t;be!==null;)if(t=be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,be=e;else for(;be!==null;){t=be;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,y=v.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:Pn(t.type,g),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(k){St(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,be=e;break}be=t.return}return v=zb,zb=!1,v}function bl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var o=n=n.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&ev(t,r,a)}o=o.next}while(o!==n)}}function Uf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tv(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pS(e){var t=e.alternate;t!==null&&(e.alternate=null,pS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yn],delete t[ql],delete t[Bh],delete t[AM],delete t[DM])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mS(e){return e.tag===5||e.tag===3||e.tag===4}function Lb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hd));else if(n!==4&&(e=e.child,e!==null))for(rv(e,t,r),e=e.sibling;e!==null;)rv(e,t,r),e=e.sibling}function nv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nv(e,t,r),e=e.sibling;e!==null;)nv(e,t,r),e=e.sibling}var nr=null,En=!1;function Ko(e,t,r){for(r=r.child;r!==null;)hS(e,t,r),r=r.sibling}function hS(e,t,r){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(If,r)}catch{}switch(r.tag){case 5:pr||zi(r,t);case 6:var n=nr,o=En;nr=null,Ko(e,t,r),nr=n,En=o,nr!==null&&(En?(e=nr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nr.removeChild(r.stateNode));break;case 18:nr!==null&&(En?(e=nr,r=r.stateNode,e.nodeType===8?_m(e.parentNode,r):e.nodeType===1&&_m(e,r),Ll(e)):_m(nr,r.stateNode));break;case 4:n=nr,o=En,nr=r.stateNode.containerInfo,En=!0,Ko(e,t,r),nr=n,En=o;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){o=n=n.next;do{var a=o,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&ev(r,t,i),o=o.next}while(o!==n)}Ko(e,t,r);break;case 1:if(!pr&&(zi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){St(r,t,s)}Ko(e,t,r);break;case 21:Ko(e,t,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,Ko(e,t,r),pr=n):Ko(e,t,r);break;default:Ko(e,t,r)}}function $b(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new YM),t.forEach(function(n){var o=oI.bind(null,e,n);r.has(n)||(r.add(n),n.then(o,o))})}}function Nn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var o=r[n];try{var a=e,i=t,s=i;e:for(;s!==null;){switch(s.tag){case 5:nr=s.stateNode,En=!1;break e;case 3:nr=s.stateNode.containerInfo,En=!0;break e;case 4:nr=s.stateNode.containerInfo,En=!0;break e}s=s.return}if(nr===null)throw Error(ue(160));hS(a,i,o),nr=null,En=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){St(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vS(t,e),t=t.sibling}function vS(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nn(t,e),qn(e),n&4){try{bl(3,e,e.return),Uf(3,e)}catch(g){St(e,e.return,g)}try{bl(5,e,e.return)}catch(g){St(e,e.return,g)}}break;case 1:Nn(t,e),qn(e),n&512&&r!==null&&zi(r,r.return);break;case 5:if(Nn(t,e),qn(e),n&512&&r!==null&&zi(r,r.return),e.flags&32){var o=e.stateNode;try{Il(o,"")}catch(g){St(e,e.return,g)}}if(n&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,s=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&L_(o,a),Nh(s,i);var u=Nh(s,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?q_(o,f):d==="dangerouslySetInnerHTML"?B_(o,f):d==="children"?Il(o,f):gg(o,d,f,u)}switch(s){case"input":kh(o,a);break;case"textarea":$_(o,a);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Bi(o,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Bi(o,!!a.multiple,a.defaultValue,!0):Bi(o,!!a.multiple,a.multiple?[]:"",!1))}o[ql]=a}catch(g){St(e,e.return,g)}}break;case 6:if(Nn(t,e),qn(e),n&4){if(e.stateNode===null)throw Error(ue(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(g){St(e,e.return,g)}}break;case 3:if(Nn(t,e),qn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(g){St(e,e.return,g)}break;case 4:Nn(t,e),qn(e);break;case 13:Nn(t,e),qn(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Xg=Nt())),n&4&&$b(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pr=(u=pr)||d,Nn(t,e),pr=u):Nn(t,e),qn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(be=e,d=e.child;d!==null;){for(f=be=d;be!==null;){switch(p=be,m=p.child,p.tag){case 0:case 11:case 14:case 15:bl(4,p,p.return);break;case 1:zi(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){St(n,r,g)}}break;case 5:zi(p,p.return);break;case 22:if(p.memoizedState!==null){Bb(f);continue}}m!==null?(m.return=p,be=m):Bb(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{o=f.stateNode,u?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,s.style.display=U_("display",i))}catch(g){St(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){St(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(t,e),qn(e),n&4&&$b(e);break;case 21:break;default:Nn(t,e),qn(e)}}function qn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mS(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var o=n.stateNode;n.flags&32&&(Il(o,""),n.flags&=-33);var a=Lb(e);nv(e,a,o);break;case 3:case 4:var i=n.stateNode.containerInfo,s=Lb(e);rv(e,s,i);break;default:throw Error(ue(161))}}catch(c){St(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function XM(e,t,r){be=e,gS(e)}function gS(e,t,r){for(var n=(e.mode&1)!==0;be!==null;){var o=be,a=o.child;if(o.tag===22&&n){var i=o.memoizedState!==null||yu;if(!i){var s=o.alternate,c=s!==null&&s.memoizedState!==null||pr;s=yu;var u=pr;if(yu=i,(pr=c)&&!u)for(be=o;be!==null;)i=be,c=i.child,i.tag===22&&i.memoizedState!==null?Ub(o):c!==null?(c.return=i,be=c):Ub(o);for(;a!==null;)be=a,gS(a),a=a.sibling;be=o,yu=s,pr=u}Fb(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,be=a):Fb(e)}}function Fb(e){for(;be!==null;){var t=be;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pr||Uf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pr)if(r===null)n.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Pn(t.type,r.memoizedProps);n.componentDidUpdate(o,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jb(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jb(t,i,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ll(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}pr||t.flags&512&&tv(t)}catch(p){St(t,t.return,p)}}if(t===e){be=null;break}if(r=t.sibling,r!==null){r.return=t.return,be=r;break}be=t.return}}function Bb(e){for(;be!==null;){var t=be;if(t===e){be=null;break}var r=t.sibling;if(r!==null){r.return=t.return,be=r;break}be=t.return}}function Ub(e){for(;be!==null;){var t=be;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uf(4,t)}catch(c){St(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var o=t.return;try{n.componentDidMount()}catch(c){St(t,o,c)}}var a=t.return;try{tv(t)}catch(c){St(t,a,c)}break;case 5:var i=t.return;try{tv(t)}catch(c){St(t,i,c)}}}catch(c){St(t,t.return,c)}if(t===e){be=null;break}var s=t.sibling;if(s!==null){s.return=t.return,be=s;break}be=t.return}}var QM=Math.ceil,Cd=Io.ReactCurrentDispatcher,Yg=Io.ReactCurrentOwner,hn=Io.ReactCurrentBatchConfig,We=0,Gt=null,Et=null,ar=0,Hr=0,Li=ba(0),zt=0,Gl=null,ei=0,qf=0,Gg=0,wl=null,Rr=null,Xg=0,rs=1/0,co=null,Nd=!1,ov=null,ca=null,xu=!1,na=null,Pd=0,kl=0,av=null,Qu=-1,Zu=0;function jr(){return We&6?Nt():Qu!==-1?Qu:Qu=Nt()}function ua(e){return e.mode&1?We&2&&ar!==0?ar&-ar:IM.transition!==null?(Zu===0&&(Zu=tj()),Zu):(e=et,e!==0||(e=window.event,e=e===void 0?16:lj(e.type)),e):1}function Tn(e,t,r,n){if(50<kl)throw kl=0,av=null,Error(ue(185));vc(e,r,n),(!(We&2)||e!==Gt)&&(e===Gt&&(!(We&2)&&(qf|=r),zt===4&&Jo(e,ar)),Ur(e,n),r===1&&We===0&&!(t.mode&1)&&(rs=Nt()+500,$f&&wa()))}function Ur(e,t){var r=e.callbackNode;ID(e,t);var n=dd(e,e===Gt?ar:0);if(n===0)r!==null&&Q0(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Q0(r),t===1)e.tag===0?MM(qb.bind(null,e)):Nj(qb.bind(null,e)),EM(function(){!(We&6)&&wa()}),r=null;else{switch(rj(n)){case 1:r=kg;break;case 4:r=J_;break;case 16:r=ud;break;case 536870912:r=ej;break;default:r=ud}r=SS(r,yS.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function yS(e,t){if(Qu=-1,Zu=0,We&6)throw Error(ue(327));var r=e.callbackNode;if(Hi()&&e.callbackNode!==r)return null;var n=dd(e,e===Gt?ar:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ed(e,n);else{t=n;var o=We;We|=2;var a=bS();(Gt!==e||ar!==t)&&(co=null,rs=Nt()+500,Ka(e,t));do try{eI();break}catch(s){xS(e,s)}while(!0);Tg(),Cd.current=a,We=o,Et!==null?t=0:(Gt=null,ar=0,t=zt)}if(t!==0){if(t===2&&(o=Dh(e),o!==0&&(n=o,t=iv(e,o))),t===1)throw r=Gl,Ka(e,0),Jo(e,n),Ur(e,Nt()),r;if(t===6)Jo(e,n);else{if(o=e.current.alternate,!(n&30)&&!ZM(o)&&(t=Ed(e,n),t===2&&(a=Dh(e),a!==0&&(n=a,t=iv(e,a))),t===1))throw r=Gl,Ka(e,0),Jo(e,n),Ur(e,Nt()),r;switch(e.finishedWork=o,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:Ia(e,Rr,co);break;case 3:if(Jo(e,n),(n&130023424)===n&&(t=Xg+500-Nt(),10<t)){if(dd(e,0)!==0)break;if(o=e.suspendedLanes,(o&n)!==n){jr(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Fh(Ia.bind(null,e,Rr,co),t);break}Ia(e,Rr,co);break;case 4:if(Jo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,o=-1;0<n;){var i=31-In(n);a=1<<i,i=t[i],i>o&&(o=i),n&=~a}if(n=o,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QM(n/1960))-n,10<n){e.timeoutHandle=Fh(Ia.bind(null,e,Rr,co),n);break}Ia(e,Rr,co);break;case 5:Ia(e,Rr,co);break;default:throw Error(ue(329))}}}return Ur(e,Nt()),e.callbackNode===r?yS.bind(null,e):null}function iv(e,t){var r=wl;return e.current.memoizedState.isDehydrated&&(Ka(e,t).flags|=256),e=Ed(e,t),e!==2&&(t=Rr,Rr=r,t!==null&&sv(t)),e}function sv(e){Rr===null?Rr=e:Rr.push.apply(Rr,e)}function ZM(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var o=r[n],a=o.getSnapshot;o=o.value;try{if(!zn(a(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jo(e,t){for(t&=~Gg,t&=~qf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-In(t),n=1<<r;e[r]=-1,t&=~n}}function qb(e){if(We&6)throw Error(ue(327));Hi();var t=dd(e,0);if(!(t&1))return Ur(e,Nt()),null;var r=Ed(e,t);if(e.tag!==0&&r===2){var n=Dh(e);n!==0&&(t=n,r=iv(e,n))}if(r===1)throw r=Gl,Ka(e,0),Jo(e,t),Ur(e,Nt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ia(e,Rr,co),Ur(e,Nt()),null}function Qg(e,t){var r=We;We|=1;try{return e(t)}finally{We=r,We===0&&(rs=Nt()+500,$f&&wa())}}function ti(e){na!==null&&na.tag===0&&!(We&6)&&Hi();var t=We;We|=1;var r=hn.transition,n=et;try{if(hn.transition=null,et=1,e)return e()}finally{et=n,hn.transition=r,We=t,!(We&6)&&wa()}}function Zg(){Hr=Li.current,ft(Li)}function Ka(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,PM(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(Dg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vd();break;case 3:es(),ft(Fr),ft(vr),Bg();break;case 5:Fg(n);break;case 4:es();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:Rg(n.type._context);break;case 22:case 23:Zg()}r=r.return}if(Gt=e,Et=e=da(e.current,null),ar=Hr=t,zt=0,Gl=null,Gg=qf=ei=0,Rr=wl=null,Fa!==null){for(t=0;t<Fa.length;t++)if(r=Fa[t],n=r.interleaved,n!==null){r.interleaved=null;var o=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=o,n.next=i}r.pending=n}Fa=null}return e}function xS(e,t){do{var r=Et;try{if(Tg(),Yu.current=Sd,jd){for(var n=bt.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}jd=!1}if(Ja=0,Ht=It=bt=null,xl=!1,Hl=0,Yg.current=null,r===null||r.return===null){zt=1,Gl=t,Et=null;break}e:{var a=e,i=r.return,s=r,c=t;if(t=ar,s.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ob(i);if(m!==null){m.flags&=-257,Ab(m,i,s,a,t),m.mode&1&&Eb(a,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){Eb(a,u,t),Jg();break e}c=Error(ue(426))}}else if(gt&&s.mode&1){var y=Ob(i);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Ab(y,i,s,a,t),Mg(ts(c,s));break e}}a=c=ts(c,s),zt!==4&&(zt=2),wl===null?wl=[a]:wl.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=rS(a,c,t);_b(a,x);break e;case 1:s=c;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ca===null||!ca.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=nS(a,s,t);_b(a,k);break e}}a=a.return}while(a!==null)}kS(r)}catch(S){t=S,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function bS(){var e=Cd.current;return Cd.current=Sd,e===null?Sd:e}function Jg(){(zt===0||zt===3||zt===2)&&(zt=4),Gt===null||!(ei&268435455)&&!(qf&268435455)||Jo(Gt,ar)}function Ed(e,t){var r=We;We|=2;var n=bS();(Gt!==e||ar!==t)&&(co=null,Ka(e,t));do try{JM();break}catch(o){xS(e,o)}while(!0);if(Tg(),We=r,Cd.current=n,Et!==null)throw Error(ue(261));return Gt=null,ar=0,zt}function JM(){for(;Et!==null;)wS(Et)}function eI(){for(;Et!==null&&!SD();)wS(Et)}function wS(e){var t=jS(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?kS(e):Et=t,Yg.current=null}function kS(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=VM(r,t),r!==null){r.flags&=32767,Et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Et=null;return}}else if(r=HM(r,t,Hr),r!==null){Et=r;return}if(t=t.sibling,t!==null){Et=t;return}Et=t=e}while(t!==null);zt===0&&(zt=5)}function Ia(e,t,r){var n=et,o=hn.transition;try{hn.transition=null,et=1,tI(e,t,r,n)}finally{hn.transition=o,et=n}return null}function tI(e,t,r,n){do Hi();while(na!==null);if(We&6)throw Error(ue(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(TD(e,a),e===Gt&&(Et=Gt=null,ar=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xu||(xu=!0,SS(ud,function(){return Hi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=hn.transition,hn.transition=null;var i=et;et=1;var s=We;We|=4,Yg.current=null,GM(e,r),vS(r,e),wM(Lh),fd=!!zh,Lh=zh=null,e.current=r,XM(r),CD(),We=s,et=i,hn.transition=a}else e.current=r;if(xu&&(xu=!1,na=e,Pd=o),a=e.pendingLanes,a===0&&(ca=null),ED(r.stateNode),Ur(e,Nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],n(o.value,{componentStack:o.stack,digest:o.digest});if(Nd)throw Nd=!1,e=ov,ov=null,e;return Pd&1&&e.tag!==0&&Hi(),a=e.pendingLanes,a&1?e===av?kl++:(kl=0,av=e):kl=0,wa(),null}function Hi(){if(na!==null){var e=rj(Pd),t=hn.transition,r=et;try{if(hn.transition=null,et=16>e?16:e,na===null)var n=!1;else{if(e=na,na=null,Pd=0,We&6)throw Error(ue(331));var o=We;for(We|=4,be=e.current;be!==null;){var a=be,i=a.child;if(be.flags&16){var s=a.deletions;if(s!==null){for(var c=0;c<s.length;c++){var u=s[c];for(be=u;be!==null;){var d=be;switch(d.tag){case 0:case 11:case 15:bl(8,d,a)}var f=d.child;if(f!==null)f.return=d,be=f;else for(;be!==null;){d=be;var p=d.sibling,m=d.return;if(pS(d),d===u){be=null;break}if(p!==null){p.return=m,be=p;break}be=m}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}be=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,be=i;else e:for(;be!==null;){if(a=be,a.flags&2048)switch(a.tag){case 0:case 11:case 15:bl(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,be=x;break e}be=a.return}}var b=e.current;for(be=b;be!==null;){i=be;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,be=w;else e:for(i=b;be!==null;){if(s=be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Uf(9,s)}}catch(S){St(s,s.return,S)}if(s===i){be=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,be=k;break e}be=s.return}}if(We=o,wa(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(If,e)}catch{}n=!0}return n}finally{et=r,hn.transition=t}}return!1}function Wb(e,t,r){t=ts(r,t),t=rS(e,t,1),e=la(e,t,1),t=jr(),e!==null&&(vc(e,1,t),Ur(e,t))}function St(e,t,r){if(e.tag===3)Wb(e,e,r);else for(;t!==null;){if(t.tag===3){Wb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ca===null||!ca.has(n))){e=ts(r,e),e=nS(t,e,1),t=la(t,e,1),e=jr(),t!==null&&(vc(t,1,e),Ur(t,e));break}}t=t.return}}function rI(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jr(),e.pingedLanes|=e.suspendedLanes&r,Gt===e&&(ar&r)===r&&(zt===4||zt===3&&(ar&130023424)===ar&&500>Nt()-Xg?Ka(e,0):Gg|=r),Ur(e,t)}function _S(e,t){t===0&&(e.mode&1?(t=cu,cu<<=1,!(cu&130023424)&&(cu=4194304)):t=1);var r=jr();e=Co(e,t),e!==null&&(vc(e,t,r),Ur(e,r))}function nI(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_S(e,r)}function oI(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),_S(e,r)}var jS;jS=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,KM(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,gt&&t.flags&1048576&&Pj(t,xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xu(e,t),e=t.pendingProps;var o=Qi(t,vr.current);Ki(t,r),o=qg(null,t,n,e,o,r);var a=Wg();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Br(n)?(a=!0,gd(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Lg(t),o.updater=Bf,t.stateNode=o,o._reactInternals=t,Vh(t,n,e,r),t=Xh(null,t,n,!0,a,r)):(t.tag=0,gt&&a&&Ag(t),br(null,t,o,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xu(e,t),e=t.pendingProps,o=n._init,n=o(n._payload),t.type=n,o=t.tag=iI(n),e=Pn(n,e),o){case 0:t=Gh(null,t,n,e,r);break e;case 1:t=Ib(null,t,n,e,r);break e;case 11:t=Db(null,t,n,e,r);break e;case 14:t=Mb(null,t,n,Pn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Gh(e,t,n,o,r);case 1:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Ib(e,t,n,o,r);case 3:e:{if(sS(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,o=a.element,Ij(e,t),kd(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=ts(Error(ue(423)),t),t=Tb(e,t,n,r,o);break e}else if(n!==o){o=ts(Error(ue(424)),t),t=Tb(e,t,n,r,o);break e}else for(Gr=sa(t.stateNode.containerInfo.firstChild),Qr=t,gt=!0,On=null,r=Dj(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zi(),n===o){t=No(e,t,r);break e}br(e,t,n,r)}t=t.child}return t;case 5:return Tj(t),e===null&&Wh(t),n=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,i=o.children,$h(n,o)?i=null:a!==null&&$h(n,a)&&(t.flags|=32),iS(e,t),br(e,t,i,r),t.child;case 6:return e===null&&Wh(t),null;case 13:return lS(e,t,r);case 4:return $g(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ji(t,null,n,r):br(e,t,n,r),t.child;case 11:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Db(e,t,n,o,r);case 7:return br(e,t,t.pendingProps,r),t.child;case 8:return br(e,t,t.pendingProps.children,r),t.child;case 12:return br(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,o=t.pendingProps,a=t.memoizedProps,i=o.value,st(bd,n._currentValue),n._currentValue=i,a!==null)if(zn(a.value,i)){if(a.children===o.children&&!Fr.current){t=No(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){i=a.child;for(var c=s.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=bo(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Kh(a.return,r,t),s.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(ue(341));i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Kh(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}br(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,n=t.pendingProps.children,Ki(t,r),o=vn(o),n=n(o),t.flags|=1,br(e,t,n,r),t.child;case 14:return n=t.type,o=Pn(n,t.pendingProps),o=Pn(n.type,o),Mb(e,t,n,o,r);case 15:return oS(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,o=t.pendingProps,o=t.elementType===n?o:Pn(n,o),Xu(e,t),t.tag=1,Br(n)?(e=!0,gd(t)):e=!1,Ki(t,r),tS(t,n,o),Vh(t,n,o,r),Xh(null,t,n,!0,e,r);case 19:return cS(e,t,r);case 22:return aS(e,t,r)}throw Error(ue(156,t.tag))};function SS(e,t){return Z_(e,t)}function aI(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(e,t,r,n){return new aI(e,t,r,n)}function ey(e){return e=e.prototype,!(!e||!e.isReactComponent)}function iI(e){if(typeof e=="function")return ey(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xg)return 11;if(e===bg)return 14}return 2}function da(e,t){var r=e.alternate;return r===null?(r=fn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,o,a){var i=2;if(n=e,typeof e=="function")ey(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Pi:return Ha(r.children,o,a,t);case yg:i=8,o|=8;break;case gh:return e=fn(12,r,t,o|2),e.elementType=gh,e.lanes=a,e;case yh:return e=fn(13,r,t,o),e.elementType=yh,e.lanes=a,e;case xh:return e=fn(19,r,t,o),e.elementType=xh,e.lanes=a,e;case T_:return Wf(r,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M_:i=10;break e;case I_:i=9;break e;case xg:i=11;break e;case bg:i=14;break e;case Vo:i=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=fn(i,r,t,o),t.elementType=e,t.type=n,t.lanes=a,t}function Ha(e,t,r,n){return e=fn(7,e,n,t),e.lanes=r,e}function Wf(e,t,r,n){return e=fn(22,e,n,t),e.elementType=T_,e.lanes=r,e.stateNode={isHidden:!1},e}function Am(e,t,r){return e=fn(6,e,null,t),e.lanes=r,e}function Dm(e,t,r){return t=fn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sI(e,t,r,n,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fm(0),this.expirationTimes=fm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fm(0),this.identifierPrefix=n,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ty(e,t,r,n,o,a,i,s,c){return e=new sI(e,t,r,s,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=fn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(a),e}function lI(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ni,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function CS(e){if(!e)return ha;e=e._reactInternals;e:{if(ci(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Br(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Br(r))return Cj(e,r,t)}return t}function NS(e,t,r,n,o,a,i,s,c){return e=ty(r,n,!0,e,o,a,i,s,c),e.context=CS(null),r=e.current,n=jr(),o=ua(r),a=bo(n,o),a.callback=t??null,la(r,a,o),e.current.lanes=o,vc(e,o,n),Ur(e,n),e}function Kf(e,t,r,n){var o=t.current,a=jr(),i=ua(o);return r=CS(r),t.context===null?t.context=r:t.pendingContext=r,t=bo(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=la(o,t,i),e!==null&&(Tn(e,o,i,a),Vu(e,o,i)),i}function Od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ry(e,t){Kb(e,t),(e=e.alternate)&&Kb(e,t)}function cI(){return null}var PS=typeof reportError=="function"?reportError:function(e){console.error(e)};function ny(e){this._internalRoot=e}Hf.prototype.render=ny.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Kf(e,t,null,null)};Hf.prototype.unmount=ny.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ti(function(){Kf(null,e,null,null)}),t[So]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=aj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zo.length&&t!==0&&t<Zo[r].priority;r++);Zo.splice(r,0,e),r===0&&sj(e)}};function oy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hb(){}function uI(e,t,r,n,o){if(o){if(typeof n=="function"){var a=n;n=function(){var u=Od(i);a.call(u)}}var i=NS(t,n,e,0,null,!1,!1,"",Hb);return e._reactRootContainer=i,e[So]=i.current,Bl(e.nodeType===8?e.parentNode:e),ti(),i}for(;o=e.lastChild;)e.removeChild(o);if(typeof n=="function"){var s=n;n=function(){var u=Od(c);s.call(u)}}var c=ty(e,0,!1,null,null,!1,!1,"",Hb);return e._reactRootContainer=c,e[So]=c.current,Bl(e.nodeType===8?e.parentNode:e),ti(function(){Kf(t,c,r,n)}),c}function Yf(e,t,r,n,o){var a=r._reactRootContainer;if(a){var i=a;if(typeof o=="function"){var s=o;o=function(){var c=Od(i);s.call(c)}}Kf(t,i,e,o)}else i=uI(r,t,e,o,n);return Od(i)}nj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=il(t.pendingLanes);r!==0&&(_g(t,r|1),Ur(t,Nt()),!(We&6)&&(rs=Nt()+500,wa()))}break;case 13:ti(function(){var n=Co(e,1);if(n!==null){var o=jr();Tn(n,e,1,o)}}),ry(e,1)}};jg=function(e){if(e.tag===13){var t=Co(e,134217728);if(t!==null){var r=jr();Tn(t,e,134217728,r)}ry(e,134217728)}};oj=function(e){if(e.tag===13){var t=ua(e),r=Co(e,t);if(r!==null){var n=jr();Tn(r,e,t,n)}ry(e,t)}};aj=function(){return et};ij=function(e,t){var r=et;try{return et=e,t()}finally{et=r}};Eh=function(e,t,r){switch(t){case"input":if(kh(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var o=Lf(n);if(!o)throw Error(ue(90));z_(n),kh(n,o)}}}break;case"textarea":$_(e,r);break;case"select":t=r.value,t!=null&&Bi(e,!!r.multiple,t,!1)}};H_=Qg;V_=ti;var dI={usingClientEntryPoint:!1,Events:[yc,Di,Lf,W_,K_,Qg]},Gs={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fI={bundleType:Gs.bundleType,version:Gs.version,rendererPackageName:Gs.rendererPackageName,rendererConfig:Gs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Io.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X_(e),e===null?null:e.stateNode},findFiberByHostInstance:Gs.findFiberByHostInstance||cI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{If=bu.inject(fI),Xn=bu}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dI;tn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(t))throw Error(ue(200));return lI(e,t,null,r)};tn.createRoot=function(e,t){if(!oy(e))throw Error(ue(299));var r=!1,n="",o=PS;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ty(e,1,!1,null,null,r,!1,n,o),e[So]=t.current,Bl(e.nodeType===8?e.parentNode:e),new ny(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=X_(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return ti(e)};tn.hydrate=function(e,t,r){if(!Vf(t))throw Error(ue(200));return Yf(null,e,t,!0,r)};tn.hydrateRoot=function(e,t,r){if(!oy(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,o=!1,a="",i=PS;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=NS(t,null,e,1,r??null,o,!1,a,i),e[So]=t.current,Bl(e),n)for(e=0;e<n.length;e++)r=n[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Hf(t)};tn.render=function(e,t,r){if(!Vf(t))throw Error(ue(200));return Yf(null,e,t,!1,r)};tn.unmountComponentAtNode=function(e){if(!Vf(e))throw Error(ue(40));return e._reactRootContainer?(ti(function(){Yf(null,null,e,!1,function(){e._reactRootContainer=null,e[So]=null})}),!0):!1};tn.unstable_batchedUpdates=Qg;tn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vf(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return Yf(e,t,r,!1,n)};tn.version="18.3.1-next-f1338f8080-20240426";function ES(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ES)}catch(e){console.error(e)}}ES(),E_.exports=tn;var go=E_.exports;const pI=ao(go);var OS,Vb=go;OS=Vb.createRoot,Vb.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(e,t)=>{const r=h.forwardRef(({color:n="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:c,...u},d)=>h.createElement("svg",{ref:d,...mI,width:o,height:o,stroke:n,strokeWidth:i?Number(a)*24/Number(o):a,className:["lucide",`lucide-${hI(e)}`,s].join(" "),...u},[...t.map(([f,p])=>h.createElement(f,p)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=Oe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Oe("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Oe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=Oe("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=Oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Oe("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=Oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=Oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=Oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=Oe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=Oe("DoorClosed",[["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}],["path",{d:"M14 12v.01",key:"xfcn54"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=Oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=Oe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Oe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=Oe("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=Oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=Oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=Oe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=Oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=Oe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=Oe("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=Oe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=Oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=Oe("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=Oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=Oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=Oe("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=Oe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Oe("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=Oe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=Oe("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=Oe("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Oe("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function zI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const LI=e=>{switch(e){case"success":return BI;case"info":return qI;case"warning":return UI;case"error":return WI;default:return null}},$I=Array(12).fill(0),FI=({visible:e,className:t})=>ne.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ne.createElement("div",{className:"sonner-spinner"},$I.map((r,n)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),BI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),qI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),KI=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HI=()=>{const[e,t]=ne.useState(document.hidden);return ne.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let cv=1;class VI{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,a=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:cv++,i=this.toasts.find(c=>c.id===a),s=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),i?this.toasts=this.toasts.map(c=>c.id===a?(this.publish({...c,...t,id:a,title:n}),{...c,...t,id:a,dismissible:s,title:n}):c):this.addToast({title:n,...o,dismissible:s,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let a=n!==void 0,i;const s=o.then(async u=>{if(i=["resolve",u],ne.isValidElement(u))a=!1,this.create({id:n,type:"default",message:u});else if(GI(u)&&!u.ok){a=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,p=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}else if(u instanceof Error){a=!1;const f=typeof r.error=="function"?await r.error(u):r.error,p=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:p,...v})}else if(r.success!==void 0){a=!1;const f=typeof r.success=="function"?await r.success(u):r.success,p=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!ne.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:p,...v})}}).catch(async u=>{if(i=["reject",u],r.error!==void 0){a=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,m=typeof d=="object"&&!ne.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...m})}}).finally(()=>{a&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),c=()=>new Promise((u,d)=>s.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:c}:Object.assign(n,{unwrap:c})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||cv++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ir=new VI,YI=(e,t)=>{const r=(t==null?void 0:t.id)||cv++;return Ir.addToast({title:e,...t,id:r}),r},GI=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",XI=YI,QI=()=>Ir.toasts,ZI=()=>Ir.getActiveToasts(),de=Object.assign(XI,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:QI,getToasts:ZI});zI("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function ku(e){return e.label!==void 0}const JI=3,eT="24px",tT="16px",Gb=4e3,rT=356,nT=14,oT=45,aT=200;function Wn(...e){return e.filter(Boolean).join(" ")}function iT(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const sT=e=>{var t,r,n,o,a,i,s,c,u;const{invert:d,toast:f,unstyled:p,interacting:m,setHeights:v,visibleToasts:g,heights:y,index:x,toasts:b,expanded:w,removeToast:k,defaultRichColors:S,closeButton:_,style:N,cancelButtonStyle:C,actionButtonStyle:z,className:U="",descriptionClassName:M="",duration:Y,position:ae,gap:Q,expandByDefault:F,classNames:K,icons:V,closeButtonAriaLabel:T="Close toast"}=e,[W,se]=ne.useState(null),[ge,ee]=ne.useState(null),[te,J]=ne.useState(!1),[ye,P]=ne.useState(!1),[B,E]=ne.useState(!1),[A,H]=ne.useState(!1),[q,O]=ne.useState(!1),[ie,re]=ne.useState(0),[me,xe]=ne.useState(0),De=ne.useRef(f.duration||Y||Gb),Ke=ne.useRef(null),ze=ne.useRef(null),Be=x===0,er=x+1<=g,Ie=f.type,rt=f.dismissible!==!1,mt=f.className||"",Ar=f.descriptionClassName||"",wn=ne.useMemo(()=>y.findIndex(Ce=>Ce.toastId===f.id)||0,[y,f.id]),ht=ne.useMemo(()=>{var Ce;return(Ce=f.closeButton)!=null?Ce:_},[f.closeButton,_]),he=ne.useMemo(()=>f.duration||Y||Gb,[f.duration,Y]),Me=ne.useRef(0),qe=ne.useRef(0),lt=ne.useRef(0),Ut=ne.useRef(null),[kt,Un]=ae.split("-"),kn=ne.useMemo(()=>y.reduce((Ce,Te,He)=>He>=wn?Ce:Ce+Te.height,0),[y,wn]),_n=HI(),jn=f.invert||d,Sn=Ie==="loading";qe.current=ne.useMemo(()=>wn*Q+kn,[wn,kn]),ne.useEffect(()=>{De.current=he},[he]),ne.useEffect(()=>{J(!0)},[]),ne.useEffect(()=>{const Ce=ze.current;if(Ce){const Te=Ce.getBoundingClientRect().height;return xe(Te),v(He=>[{toastId:f.id,height:Te,position:f.position},...He]),()=>v(He=>He.filter($e=>$e.toastId!==f.id))}},[v,f.id]),ne.useLayoutEffect(()=>{if(!te)return;const Ce=ze.current,Te=Ce.style.height;Ce.style.height="auto";const He=Ce.getBoundingClientRect().height;Ce.style.height=Te,xe(He),v($e=>$e.find(Ve=>Ve.toastId===f.id)?$e.map(Ve=>Ve.toastId===f.id?{...Ve,height:He}:Ve):[{toastId:f.id,height:He,position:f.position},...$e])},[te,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const lr=ne.useCallback(()=>{P(!0),re(qe.current),v(Ce=>Ce.filter(Te=>Te.toastId!==f.id)),setTimeout(()=>{k(f)},aT)},[f,k,v,qe]);ne.useEffect(()=>{if(f.promise&&Ie==="loading"||f.duration===1/0||f.type==="loading")return;let Ce;return w||m||_n?(()=>{if(lt.current<Me.current){const $e=new Date().getTime()-Me.current;De.current=De.current-$e}lt.current=new Date().getTime()})():(()=>{De.current!==1/0&&(Me.current=new Date().getTime(),Ce=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),lr()},De.current))})(),()=>clearTimeout(Ce)},[w,m,f,Ie,_n,lr]),ne.useEffect(()=>{f.delete&&(lr(),f.onDismiss==null||f.onDismiss.call(f,f))},[lr,f.delete]);function cr(){var Ce;if(V!=null&&V.loading){var Te;return ne.createElement("div",{className:Wn(K==null?void 0:K.loader,f==null||(Te=f.classNames)==null?void 0:Te.loader,"sonner-loader"),"data-visible":Ie==="loading"},V.loading)}return ne.createElement(FI,{className:Wn(K==null?void 0:K.loader,f==null||(Ce=f.classNames)==null?void 0:Ce.loader),visible:Ie==="loading"})}const fi=f.icon||(V==null?void 0:V[Ie])||LI(Ie);var ct,_t;return ne.createElement("li",{tabIndex:0,ref:ze,className:Wn(U,mt,K==null?void 0:K.toast,f==null||(t=f.classNames)==null?void 0:t.toast,K==null?void 0:K.default,K==null?void 0:K[Ie],f==null||(r=f.classNames)==null?void 0:r[Ie]),"data-sonner-toast":"","data-rich-colors":(ct=f.richColors)!=null?ct:S,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":te,"data-promise":!!f.promise,"data-swiped":q,"data-removed":ye,"data-visible":er,"data-y-position":kt,"data-x-position":Un,"data-index":x,"data-front":Be,"data-swiping":B,"data-dismissible":rt,"data-type":Ie,"data-invert":jn,"data-swipe-out":A,"data-swipe-direction":ge,"data-expanded":!!(w||F&&te),"data-testid":f.testId,style:{"--index":x,"--toasts-before":x,"--z-index":b.length-x,"--offset":`${ye?ie:qe.current}px`,"--initial-height":F?"auto":`${me}px`,...N,...f.style},onDragEnd:()=>{E(!1),se(null),Ut.current=null},onPointerDown:Ce=>{Ce.button!==2&&(Sn||!rt||(Ke.current=new Date,re(qe.current),Ce.target.setPointerCapture(Ce.pointerId),Ce.target.tagName!=="BUTTON"&&(E(!0),Ut.current={x:Ce.clientX,y:Ce.clientY})))},onPointerUp:()=>{var Ce,Te,He;if(A||!rt)return;Ut.current=null;const $e=Number(((Ce=ze.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),jt=Number(((Te=ze.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ve=new Date().getTime()-((He=Ke.current)==null?void 0:He.getTime()),Fe=W==="x"?$e:jt,At=Math.abs(Fe)/Ve;if(Math.abs(Fe)>=oT||At>.11){re(qe.current),f.onDismiss==null||f.onDismiss.call(f,f),ee(W==="x"?$e>0?"right":"left":jt>0?"down":"up"),lr(),H(!0);return}else{var nt,Xe;(nt=ze.current)==null||nt.style.setProperty("--swipe-amount-x","0px"),(Xe=ze.current)==null||Xe.style.setProperty("--swipe-amount-y","0px")}O(!1),E(!1),se(null)},onPointerMove:Ce=>{var Te,He,$e;if(!Ut.current||!rt||((Te=window.getSelection())==null?void 0:Te.toString().length)>0)return;const Ve=Ce.clientY-Ut.current.y,Fe=Ce.clientX-Ut.current.x;var At;const nt=(At=e.swipeDirections)!=null?At:iT(ae);!W&&(Math.abs(Fe)>1||Math.abs(Ve)>1)&&se(Math.abs(Fe)>Math.abs(Ve)?"x":"y");let Xe={x:0,y:0};const Cn=tr=>1/(1.5+Math.abs(tr)/20);if(W==="y"){if(nt.includes("top")||nt.includes("bottom"))if(nt.includes("top")&&Ve<0||nt.includes("bottom")&&Ve>0)Xe.y=Ve;else{const tr=Ve*Cn(Ve);Xe.y=Math.abs(tr)<Math.abs(Ve)?tr:Ve}}else if(W==="x"&&(nt.includes("left")||nt.includes("right")))if(nt.includes("left")&&Fe<0||nt.includes("right")&&Fe>0)Xe.x=Fe;else{const tr=Fe*Cn(Fe);Xe.x=Math.abs(tr)<Math.abs(Fe)?tr:Fe}(Math.abs(Xe.x)>0||Math.abs(Xe.y)>0)&&O(!0),(He=ze.current)==null||He.style.setProperty("--swipe-amount-x",`${Xe.x}px`),($e=ze.current)==null||$e.style.setProperty("--swipe-amount-y",`${Xe.y}px`)}},ht&&!f.jsx&&Ie!=="loading"?ne.createElement("button",{"aria-label":T,"data-disabled":Sn,"data-close-button":!0,onClick:Sn||!rt?()=>{}:()=>{lr(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Wn(K==null?void 0:K.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(_t=V==null?void 0:V.close)!=null?_t:KI):null,(Ie||f.icon||f.promise)&&f.icon!==null&&((V==null?void 0:V[Ie])!==null||f.icon)?ne.createElement("div",{"data-icon":"",className:Wn(K==null?void 0:K.icon,f==null||(o=f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||cr():null,f.type!=="loading"?fi:null):null,ne.createElement("div",{"data-content":"",className:Wn(K==null?void 0:K.content,f==null||(a=f.classNames)==null?void 0:a.content)},ne.createElement("div",{"data-title":"",className:Wn(K==null?void 0:K.title,f==null||(i=f.classNames)==null?void 0:i.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ne.createElement("div",{"data-description":"",className:Wn(M,Ar,K==null?void 0:K.description,f==null||(s=f.classNames)==null?void 0:s.description)},typeof f.description=="function"?f.description():f.description):null),ne.isValidElement(f.cancel)?f.cancel:f.cancel&&ku(f.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:Ce=>{ku(f.cancel)&&rt&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ce),lr())},className:Wn(K==null?void 0:K.cancelButton,f==null||(c=f.classNames)==null?void 0:c.cancelButton)},f.cancel.label):null,ne.isValidElement(f.action)?f.action:f.action&&ku(f.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||z,onClick:Ce=>{ku(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ce),!Ce.defaultPrevented&&lr())},className:Wn(K==null?void 0:K.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function Xb(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function lT(e,t){const r={};return[e,t].forEach((n,o)=>{const a=o===1,i=a?"--mobile-offset":"--offset",s=a?tT:eT;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=s:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(s)}),r}const cT=ne.forwardRef(function(t,r){const{id:n,invert:o,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:c,className:u,offset:d,mobileOffset:f,theme:p="light",richColors:m,duration:v,style:g,visibleToasts:y=JI,toastOptions:x,dir:b=Xb(),gap:w=nT,icons:k,containerAriaLabel:S="Notifications"}=t,[_,N]=ne.useState([]),C=ne.useMemo(()=>n?_.filter(te=>te.toasterId===n):_.filter(te=>!te.toasterId),[_,n]),z=ne.useMemo(()=>Array.from(new Set([a].concat(C.filter(te=>te.position).map(te=>te.position)))),[C,a]),[U,M]=ne.useState([]),[Y,ae]=ne.useState(!1),[Q,F]=ne.useState(!1),[K,V]=ne.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),T=ne.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=ne.useRef(null),ge=ne.useRef(!1),ee=ne.useCallback(te=>{N(J=>{var ye;return(ye=J.find(P=>P.id===te.id))!=null&&ye.delete||Ir.dismiss(te.id),J.filter(({id:P})=>P!==te.id)})},[]);return ne.useEffect(()=>Ir.subscribe(te=>{if(te.dismiss){requestAnimationFrame(()=>{N(J=>J.map(ye=>ye.id===te.id?{...ye,delete:!0}:ye))});return}setTimeout(()=>{pI.flushSync(()=>{N(J=>{const ye=J.findIndex(P=>P.id===te.id);return ye!==-1?[...J.slice(0,ye),{...J[ye],...te},...J.slice(ye+1)]:[te,...J]})})})}),[_]),ne.useEffect(()=>{if(p!=="system"){V(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;const te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:J})=>{V(J?"dark":"light")})}catch{te.addListener(({matches:ye})=>{try{V(ye?"dark":"light")}catch(P){console.error(P)}})}},[p]),ne.useEffect(()=>{_.length<=1&&ae(!1)},[_]),ne.useEffect(()=>{const te=J=>{var ye;if(i.every(E=>J[E]||J.code===E)){var B;ae(!0),(B=T.current)==null||B.focus()}J.code==="Escape"&&(document.activeElement===T.current||(ye=T.current)!=null&&ye.contains(document.activeElement))&&ae(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[i]),ne.useEffect(()=>{if(T.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,ge.current=!1)}},[T.current]),ne.createElement("section",{ref:r,"aria-label":`${S} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},z.map((te,J)=>{var ye;const[P,B]=te.split("-");return C.length?ne.createElement("ol",{key:te,dir:b==="auto"?Xb():b,tabIndex:-1,ref:T,className:u,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":P,"data-x-position":B,style:{"--front-toast-height":`${((ye=U[0])==null?void 0:ye.height)||0}px`,"--width":`${rT}px`,"--gap":`${w}px`,...g,...lT(d,f)},onBlur:E=>{ge.current&&!E.currentTarget.contains(E.relatedTarget)&&(ge.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:E=>{E.target instanceof HTMLElement&&E.target.dataset.dismissible==="false"||ge.current||(ge.current=!0,se.current=E.relatedTarget)},onMouseEnter:()=>ae(!0),onMouseMove:()=>ae(!0),onMouseLeave:()=>{Q||ae(!1)},onDragEnd:()=>ae(!1),onPointerDown:E=>{E.target instanceof HTMLElement&&E.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},C.filter(E=>!E.position&&J===0||E.position===te).map((E,A)=>{var H,q;return ne.createElement(sT,{key:E.id,icons:k,index:A,toast:E,defaultRichColors:m,duration:(H=x==null?void 0:x.duration)!=null?H:v,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:o,visibleToasts:y,closeButton:(q=x==null?void 0:x.closeButton)!=null?q:c,interacting:Q,position:te,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:ee,toasts:C.filter(O=>O.position==E.position),heights:U.filter(O=>O.position==E.position),setHeights:M,expandByDefault:s,gap:w,expanded:Y,swipeDirections:t.swipeDirections})})):null}))}),uT="POS_DB",dT=9;class fT{constructor(){Bs(this,"db",null);Bs(this,"isInitialized",!1)}async init(){if(!(this.isInitialized&&this.db)){if(typeof indexedDB>"u")throw new Error("IndexedDB is not available in this environment");return new Promise((t,r)=>{const n=indexedDB.open(uT,dT);n.onerror=()=>r(n.error),n.onsuccess=()=>{this.db=n.result,this.isInitialized=!0,t()},n.onupgradeneeded=o=>{const a=o.target.result;if(!a.objectStoreNames.contains("products")){const i=a.createObjectStore("products",{keyPath:"id"});i.createIndex("category","category",{unique:!1}),i.createIndex("name","name",{unique:!1})}if(!a.objectStoreNames.contains("sales")){const i=a.createObjectStore("sales",{keyPath:"id"});i.createIndex("completed_at","completed_at",{unique:!1}),i.createIndex("sale_number","sale_number",{unique:!0})}if(a.objectStoreNames.contains("sale_items")||a.createObjectStore("sale_items",{keyPath:"id"}).createIndex("sale_id","sale_id",{unique:!1}),a.objectStoreNames.contains("cash_drawer")||a.createObjectStore("cash_drawer",{keyPath:"id"}).createIndex("denomination","denomination",{unique:!0}),!a.objectStoreNames.contains("cash_movements")){const i=a.createObjectStore("cash_movements",{keyPath:"id"});i.createIndex("created_at","created_at",{unique:!1}),i.createIndex("sale_id","sale_id",{unique:!1})}if(a.objectStoreNames.contains("logo_config")||a.createObjectStore("logo_config",{keyPath:"id"}),a.objectStoreNames.contains("materia_prima")||a.createObjectStore("materia_prima",{keyPath:"id"}).createIndex("name","name",{unique:!1}),!a.objectStoreNames.contains("product_materia_prima")){const i=a.createObjectStore("product_materia_prima",{keyPath:"id"});i.createIndex("product_id","product_id",{unique:!1}),i.createIndex("materia_prima_id","materia_prima_id",{unique:!1})}if(a.objectStoreNames.contains("app_settings")||a.createObjectStore("app_settings",{keyPath:"id"}),!a.objectStoreNames.contains("combos")){const i=a.createObjectStore("combos",{keyPath:"id"});i.createIndex("name","name",{unique:!1}),i.createIndex("active","active",{unique:!1})}if(!a.objectStoreNames.contains("kds_orders")){const i=a.createObjectStore("kds_orders",{keyPath:"id"});i.createIndex("status","status",{unique:!1}),i.createIndex("created_at","created_at",{unique:!1})}}})}}getStore(t,r="readonly"){if(!this.db)throw new Error("Database not initialized");if(!this.db.objectStoreNames.contains(t))throw new Error(`Object store '${t}' not found. Please refresh the page to upgrade the database.`);return this.db.transaction(t,r).objectStore(t)}hasStore(t){return this.db?this.db.objectStoreNames.contains(t):!1}async add(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").add(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async put(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").put(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async get(t,r){return new Promise((n,o)=>{const i=this.getStore(t).get(r);i.onsuccess=()=>n(i.result),i.onerror=()=>o(i.error)})}async getAll(t){return new Promise((r,n)=>{const a=this.getStore(t).getAll();a.onsuccess=()=>r(a.result),a.onerror=()=>n(a.error)})}async getAllByIndex(t,r,n){return new Promise((o,a)=>{const s=this.getStore(t).index(r),c=n!==void 0?s.getAll(n):s.getAll();c.onsuccess=()=>o(c.result),c.onerror=()=>a(c.error)})}async delete(t,r){return new Promise((n,o)=>{const i=this.getStore(t,"readwrite").delete(r);i.onsuccess=()=>n(),i.onerror=()=>o(i.error)})}async clear(t){return new Promise((r,n)=>{const a=this.getStore(t,"readwrite").clear();a.onsuccess=()=>r(),a.onerror=()=>n(a.error)})}async exportData(){const[t,r,n,o,a,i,s,c,u,d,f]=await Promise.all([this.getAll("products"),this.getAll("sales"),this.getAll("sale_items"),this.getAll("cash_drawer"),this.getAll("cash_movements"),this.getAll("logo_config"),this.getAll("materia_prima"),this.getAll("product_materia_prima"),this.hasStore("combos")?this.getAll("combos"):[],this.getAll("app_settings"),this.hasStore("kds_orders")?this.getAll("kds_orders"):[]]);return JSON.stringify({products:t,sales:r,sale_items:n,cash_drawer:o,cash_movements:a,logo_config:i,materia_prima:s,product_materia_prima:c,combos:u,app_settings:d,kds_orders:f},null,2)}async importData(t){const r=JSON.parse(t);await this.clear("products"),await this.clear("sales"),await this.clear("sale_items"),await this.clear("cash_drawer"),await this.clear("cash_movements"),await this.clear("logo_config"),await this.clear("materia_prima"),await this.clear("product_materia_prima"),this.hasStore("combos")&&await this.clear("combos"),await this.clear("app_settings");for(const n of r.products||[])await this.add("products",n);for(const n of r.sales||[])await this.add("sales",n);for(const n of r.sale_items||[])await this.add("sale_items",n);for(const n of r.cash_drawer||[])await this.add("cash_drawer",n);for(const n of r.cash_movements||[])await this.add("cash_movements",n);for(const n of r.logo_config||[])await this.add("logo_config",n);for(const n of r.materia_prima||[])await this.add("materia_prima",n);for(const n of r.product_materia_prima||[])await this.add("product_materia_prima",n);if(this.hasStore("combos"))for(const n of r.combos||[])await this.add("combos",n);for(const n of r.app_settings||[])await this.add("app_settings",n);if(this.hasStore("kds_orders")){await this.clear("kds_orders");for(const n of r.kds_orders||[])await this.add("kds_orders",n)}}async resetDatabase(){const t=[this.clear("products"),this.clear("sales"),this.clear("sale_items"),this.clear("cash_drawer"),this.clear("cash_movements"),this.clear("logo_config"),this.clear("materia_prima"),this.clear("product_materia_prima")];this.hasStore("combos")&&t.push(this.clear("combos")),this.hasStore("kds_orders")&&t.push(this.clear("kds_orders")),await Promise.all(t)}}const L=new fT;function ea(e){return e?e.kds_mode?e.kds_mode:e.kds_enabled?"server":"off":"off"}const Tm={light:{primary:"#D7191C",accent:"#0077CC",text:"#1A1A1A",background:"#FAFAF7",backgroundSecondary:"#FFFFFF",backgroundAccent:"#E5E7EB"},dark:{primary:"#3B82F6",accent:"#10B981",text:"#E5E7EB",background:"#0F172A",backgroundSecondary:"#1E293B",backgroundAccent:"#334155"}},$S=h.createContext(void 0);function Qb(e){const t=e.replace("#","");if(t.length!==6)return"#FFFFFF";const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,[a,i,s]=[r,n,o].map(u=>u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4));return .2126*a+.7152*i+.0722*s>.5?"#000000":"#FFFFFF"}function pT({children:e}){const[t,r]=h.useState(()=>localStorage.getItem("theme")||"light"),[n,o]=h.useState(Tm),[a,i]=h.useState(!1),s=(p,m)=>{const v=p[m],g=document.documentElement;g.style.setProperty("--color-primary",v.primary),g.style.setProperty("--color-accent",v.accent),g.style.setProperty("--color-text",v.text),g.style.setProperty("--color-background",v.background),g.style.setProperty("--color-background-secondary",v.backgroundSecondary),g.style.setProperty("--color-background-accent",v.backgroundAccent),g.style.setProperty("--color-on-primary",Qb(v.primary)),g.style.setProperty("--color-on-accent",Qb(v.accent)),m==="dark"?g.classList.add("dark"):g.classList.remove("dark")};h.useEffect(()=>{(async()=>{try{await L.init();const m=await L.getAll("logo_config");m.length>0&&m[0].theme_config?(o(m[0].theme_config),s(m[0].theme_config,t)):s(Tm,t)}catch(m){console.error("Failed to load theme config:",m),s(Tm,t)}finally{i(!0)}})()},[t]),h.useEffect(()=>{a&&s(n,t)},[t,n,a]);const c=p=>{s(p||n,t)},u=h.useCallback(async(p,m)=>{try{await L.init();const v=await L.get("app_settings","default");if(ea(v)!=="server"||!(v!=null&&v.kds_url))return;const y=p||n,x=m||t,b=y[x],w={mode:x,colors:{primary:b.primary,accent:b.accent,text:b.text,background:b.background,backgroundSecondary:b.backgroundSecondary,backgroundAccent:b.backgroundAccent}},k=new AbortController,S=setTimeout(()=>k.abort(),3e3);try{await fetch(`${v.kds_url}/api/theme`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(w),signal:k.signal})}finally{clearTimeout(S)}}catch(v){console.error("Error syncing theme to KDS:",v)}},[t,n]),d=()=>{const p=t==="light"?"dark":"light";r(p),localStorage.setItem("theme",p)};h.useEffect(()=>{a&&u()},[t,a,u]);const f=async p=>{try{await L.init();const m=await L.getAll("logo_config"),v={id:m.length>0?m[0].id:crypto.randomUUID(),acronym:m.length>0?m[0].acronym:"SSB",logo_image:m.length>0?m[0].logo_image:void 0,theme_config:p,updated_at:new Date().toISOString()};m.length>0?await L.put("logo_config",v):await L.add("logo_config",v),o(p),c(p),await u(p,t)}catch(m){throw console.error("Failed to update theme config:",m),m}};return l.jsx($S.Provider,{value:{theme:t,toggleTheme:d,themeConfig:n,updateThemeConfig:f,applyTheme:c,syncThemeToKDS:u,isLoading:!a},children:e})}function bc(){const e=h.useContext($S);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const FS=h.createContext(void 0);function mT({children:e}){const[t,r]=h.useState({acronym:"SSB",logo_image:void 0}),[n,o]=h.useState(!0);h.useEffect(()=>{a()},[]);const a=async()=>{try{await L.init();const s=await L.getAll("logo_config");s.length>0&&r({acronym:s[0].acronym,logo_image:s[0].logo_image})}catch(s){console.error("Error loading logo config:",s)}finally{o(!1)}},i=async s=>{try{await L.init();const c=await L.getAll("logo_config"),u={id:c.length>0?c[0].id:crypto.randomUUID(),acronym:s.acronym,logo_image:s.logo_image,theme_config:c.length>0?c[0].theme_config:void 0,updated_at:new Date().toISOString()};c.length>0?await L.put("logo_config",u):await L.add("logo_config",u),r(s)}catch(c){throw console.error("Error updating logo config:",c),c}};return l.jsx(FS.Provider,{value:{logoConfig:t,loading:n,updateLogoConfig:i,refresh:a},children:e})}function uy(){const e=h.useContext(FS);if(e===void 0)throw new Error("useLogo must be used within a LogoProvider");return e}function hT(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.useMemo(()=>n=>{t.forEach(o=>o(n))},t)}const Gf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function hs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function dy(e){return"nodeType"in e}function Er(e){var t,r;return e?hs(e)?e:dy(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function fy(e){const{Document:t}=Er(e);return e instanceof t}function wc(e){return hs(e)?!1:e instanceof Er(e).HTMLElement}function BS(e){return e instanceof Er(e).SVGElement}function vs(e){return e?hs(e)?e.document:dy(e)?fy(e)?e:wc(e)||BS(e)?e.ownerDocument:document:document:document}const Ln=Gf?h.useLayoutEffect:h.useEffect;function Xf(e){const t=h.useRef(e);return Ln(()=>{t.current=e}),h.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t.current==null?void 0:t.current(...n)},[])}function vT(){const e=h.useRef(null),t=h.useCallback((n,o)=>{e.current=setInterval(n,o)},[]),r=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Xl(e,t){t===void 0&&(t=[e]);const r=h.useRef(e);return Ln(()=>{r.current!==e&&(r.current=e)},t),r}function kc(e,t){const r=h.useRef();return h.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Id(e){const t=Xf(e),r=h.useRef(null),n=h.useCallback(o=>{o!==r.current&&(t==null||t(o,r.current)),r.current=o},[]);return[r,n]}function Td(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let Rm={};function _c(e,t){return h.useMemo(()=>{if(t)return t;const r=Rm[e]==null?0:Rm[e]+1;return Rm[e]=r,e+"-"+r},[e,t])}function US(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];return n.reduce((a,i)=>{const s=Object.entries(i);for(const[c,u]of s){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const Vi=US(1),Ql=US(-1);function gT(e){return"clientX"in e&&"clientY"in e}function Qf(e){if(!e)return!1;const{KeyboardEvent:t}=Er(e.target);return t&&e instanceof t}function yT(e){if(!e)return!1;const{TouchEvent:t}=Er(e.target);return t&&e instanceof t}function Rd(e){if(yT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return gT(e)?{x:e.clientX,y:e.clientY}:null}const Jn=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Jn.Translate.toString(e),Jn.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Zb="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xT(e){return e.matches(Zb)?e:e.querySelector(Zb)}const bT={display:"none"};function wT(e){let{id:t,value:r}=e;return ne.createElement("div",{id:t,style:bT},r)}function kT(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ne.createElement("div",{id:t,style:o,role:"status","aria-live":n,"aria-atomic":!0},r)}function _T(){const[e,t]=h.useState("");return{announce:h.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const qS=h.createContext(null);function jT(e){const t=h.useContext(qS);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function ST(){const[e]=h.useState(()=>new Set),t=h.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[h.useCallback(n=>{let{type:o,event:a}=n;e.forEach(i=>{var s;return(s=i[o])==null?void 0:s.call(i,a)})},[e]),t]}const CT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},NT={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function PT(e){let{announcements:t=NT,container:r,hiddenTextDescribedById:n,screenReaderInstructions:o=CT}=e;const{announce:a,announcement:i}=_T(),s=_c("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),jT(h.useMemo(()=>({onDragStart(f){let{active:p}=f;a(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;a(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;a(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!c)return null;const d=ne.createElement(ne.Fragment,null,ne.createElement(wT,{id:n,value:o.draggable}),ne.createElement(kT,{id:s,announcement:i}));return r?go.createPortal(d,r):d}var Rt;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Rt||(Rt={}));function zd(){}function zm(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function ET(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return h.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const $n=Object.freeze({x:0,y:0});function WS(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function OT(e,t){const r=Rd(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function KS(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function AT(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function Jb(e){let{left:t,top:r,height:n,width:o}=e;return[{x:t,y:r},{x:t+o,y:r},{x:t,y:r+n},{x:t+o,y:r+n}]}function HS(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function ew(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const DT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=ew(t,t.left,t.top),a=[];for(const i of n){const{id:s}=i,c=r.get(s);if(c){const u=WS(ew(c),o);a.push({id:s,data:{droppableContainer:i,value:u}})}}return a.sort(KS)},MT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=Jb(t),a=[];for(const i of n){const{id:s}=i,c=r.get(s);if(c){const u=Jb(c),d=o.reduce((p,m,v)=>p+WS(u[v],m),0),f=Number((d/4).toFixed(4));a.push({id:s,data:{droppableContainer:i,value:f}})}}return a.sort(KS)};function IT(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),i=o-n,s=a-r;if(n<o&&r<a){const c=t.width*t.height,u=e.width*e.height,d=i*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const TT=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const o=[];for(const a of n){const{id:i}=a,s=r.get(i);if(s){const c=IT(s,t);c>0&&o.push({id:i,data:{droppableContainer:a,value:c}})}}return o.sort(AT)};function RT(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function VS(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:$n}function zT(e){return function(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return o.reduce((i,s)=>({...i,top:i.top+e*s.y,bottom:i.bottom+e*s.y,left:i.left+e*s.x,right:i.right+e*s.x}),{...r})}}const LT=zT(1);function YS(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function $T(e,t,r){const n=YS(t);if(!n)return e;const{scaleX:o,scaleY:a,x:i,y:s}=n,c=e.left-i-(1-o)*parseFloat(r),u=e.top-s-(1-a)*parseFloat(r.slice(r.indexOf(" ")+1)),d=o?e.width/o:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const FT={ignoreTransform:!1};function gs(e,t){t===void 0&&(t=FT);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Er(e).getComputedStyle(e);u&&(r=$T(r,u,d))}const{top:n,left:o,width:a,height:i,bottom:s,right:c}=r;return{top:n,left:o,width:a,height:i,bottom:s,right:c}}function tw(e){return gs(e,{ignoreTransform:!0})}function BT(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function UT(e,t){return t===void 0&&(t=Er(e).getComputedStyle(e)),t.position==="fixed"}function qT(e,t){t===void 0&&(t=Er(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const a=t[o];return typeof a=="string"?r.test(a):!1})}function Zf(e,t){const r=[];function n(o){if(t!=null&&r.length>=t||!o)return r;if(fy(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!wc(o)||BS(o)||r.includes(o))return r;const a=Er(e).getComputedStyle(o);return o!==e&&qT(o,a)&&r.push(o),UT(o,a)?r:n(o.parentNode)}return e?n(e):r}function GS(e){const[t]=Zf(e,1);return t??null}function Lm(e){return!Gf||!e?null:hs(e)?e:dy(e)?fy(e)||e===vs(e).scrollingElement?window:wc(e)?e:null:null}function XS(e){return hs(e)?e.scrollX:e.scrollLeft}function QS(e){return hs(e)?e.scrollY:e.scrollTop}function uv(e){return{x:XS(e),y:QS(e)}}var Vt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Vt||(Vt={}));function ZS(e){return!Gf||!e?!1:e===document.scrollingElement}function JS(e){const t={x:0,y:0},r=ZS(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},o=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,i=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:o,isLeft:a,isBottom:i,isRight:s,maxScroll:n,minScroll:t}}const WT={x:.2,y:.2};function KT(e,t,r,n,o){let{top:a,left:i,right:s,bottom:c}=r;n===void 0&&(n=10),o===void 0&&(o=WT);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=JS(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&a<=t.top+g.height?(m.y=Vt.Backward,v.y=n*Math.abs((t.top+g.height-a)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Vt.Forward,v.y=n*Math.abs((t.bottom-g.height-c)/g.height)),!p&&s>=t.right-g.width?(m.x=Vt.Forward,v.x=n*Math.abs((t.right-g.width-s)/g.width)):!f&&i<=t.left+g.width&&(m.x=Vt.Backward,v.x=n*Math.abs((t.left+g.width-i)/g.width)),{direction:m,speed:v}}function HT(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:i}=window;return{top:0,left:0,right:a,bottom:i,width:a,height:i}}const{top:t,left:r,right:n,bottom:o}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:o,width:e.clientWidth,height:e.clientHeight}}function eC(e){return e.reduce((t,r)=>Vi(t,uv(r)),$n)}function VT(e){return e.reduce((t,r)=>t+XS(r),0)}function YT(e){return e.reduce((t,r)=>t+QS(r),0)}function tC(e,t){if(t===void 0&&(t=gs),!e)return;const{top:r,left:n,bottom:o,right:a}=t(e);GS(e)&&(o<=0||a<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const GT=[["x",["left","right"],VT],["y",["top","bottom"],YT]];class py{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Zf(r),o=eC(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,i,s]of GT)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=s(n),d=o[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Nl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var o;(o=this.target)==null||o.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function XT(e){const{EventTarget:t}=Er(e);return e instanceof t?e:vs(e)}function $m(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var cn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(cn||(cn={}));function rw(e){e.preventDefault()}function QT(e){e.stopPropagation()}var Ue;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ue||(Ue={}));const rC={start:[Ue.Space,Ue.Enter],cancel:[Ue.Esc],end:[Ue.Space,Ue.Enter,Ue.Tab]},ZT=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Ue.Right:return{...r,x:r.x+25};case Ue.Left:return{...r,x:r.x-25};case Ue.Down:return{...r,y:r.y+25};case Ue.Up:return{...r,y:r.y-25}}};class my{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Nl(vs(r)),this.windowListeners=new Nl(Er(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&tC(n),r($n)}handleKeyDown(t){if(Qf(t)){const{active:r,context:n,options:o}=this.props,{keyboardCodes:a=rC,coordinateGetter:i=ZT,scrollBehavior:s="smooth"}=o,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:$n;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(t,{active:r,context:n.current,currentCoordinates:d});if(f){const p=Ql(f,d),m={x:0,y:0},{scrollableAncestors:v}=n.current;for(const g of v){const y=t.code,{isTop:x,isRight:b,isLeft:w,isBottom:k,maxScroll:S,minScroll:_}=JS(g),N=HT(g),C={x:Math.min(y===Ue.Right?N.right-N.width/2:N.right,Math.max(y===Ue.Right?N.left:N.left+N.width/2,f.x)),y:Math.min(y===Ue.Down?N.bottom-N.height/2:N.bottom,Math.max(y===Ue.Down?N.top:N.top+N.height/2,f.y))},z=y===Ue.Right&&!b||y===Ue.Left&&!w,U=y===Ue.Down&&!k||y===Ue.Up&&!x;if(z&&C.x!==f.x){const M=g.scrollLeft+p.x,Y=y===Ue.Right&&M<=S.x||y===Ue.Left&&M>=_.x;if(Y&&!p.y){g.scrollTo({left:M,behavior:s});return}Y?m.x=g.scrollLeft-M:m.x=y===Ue.Right?g.scrollLeft-S.x:g.scrollLeft-_.x,m.x&&g.scrollBy({left:-m.x,behavior:s});break}else if(U&&C.y!==f.y){const M=g.scrollTop+p.y,Y=y===Ue.Down&&M<=S.y||y===Ue.Up&&M>=_.y;if(Y&&!p.x){g.scrollTo({top:M,behavior:s});return}Y?m.y=g.scrollTop-M:m.y=y===Ue.Down?g.scrollTop-S.y:g.scrollTop-_.y,m.y&&g.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,Vi(Ql(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}my.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=rC,onActivation:o}=t,{active:a}=r;const{code:i}=e.nativeEvent;if(n.start.includes(i)){const s=a.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function nw(e){return!!(e&&"distance"in e)}function ow(e){return!!(e&&"delay"in e)}class hy{constructor(t,r,n){var o;n===void 0&&(n=XT(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:a}=t,{target:i}=a;this.props=t,this.events=r,this.document=vs(i),this.documentListeners=new Nl(this.document),this.listeners=new Nl(n),this.windowListeners=new Nl(Er(i)),this.initialCoordinates=(o=Rd(a))!=null?o:$n,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.DragStart,rw),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),this.windowListeners.add(cn.ContextMenu,rw),this.documentListeners.add(cn.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ow(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(nw(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:o}=this.props;o(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(cn.Click,QT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cn.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:o,props:a}=this,{onMove:i,options:{activationConstraint:s}}=a;if(!o)return;const c=(r=Rd(t))!=null?r:$n,u=Ql(o,c);if(!n&&s){if(nw(s)){if(s.tolerance!=null&&$m(u,s.tolerance))return this.handleCancel();if($m(u,s.distance))return this.handleStart()}if(ow(s)&&$m(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),i(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Ue.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const JT={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class vy extends hy{constructor(t){const{event:r}=t,n=vs(r.target);super(t,JT,n)}}vy.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const e3={move:{name:"mousemove"},end:{name:"mouseup"}};var dv;(function(e){e[e.RightClick=2]="RightClick"})(dv||(dv={}));class t3 extends hy{constructor(t){super(t,e3,vs(t.event.target))}}t3.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===dv.RightClick?!1:(n==null||n({event:r}),!0)}}];const Fm={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class nC extends hy{constructor(t){super(t,Fm)}static setup(){return window.addEventListener(Fm.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Fm.move.name,t)};function t(){}}}nC.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:o}=r;return o.length>1?!1:(n==null||n({event:r}),!0)}}];var Pl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Pl||(Pl={}));var Ld;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ld||(Ld={}));function r3(e){let{acceleration:t,activator:r=Pl.Pointer,canScroll:n,draggingRect:o,enabled:a,interval:i=5,order:s=Ld.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=o3({delta:f,disabled:!a}),[v,g]=vT(),y=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),b=h.useMemo(()=>{switch(r){case Pl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Pl.DraggableRect:return o}},[r,o,c]),w=h.useRef(null),k=h.useCallback(()=>{const _=w.current;if(!_)return;const N=y.current.x*x.current.x,C=y.current.y*x.current.y;_.scrollBy(N,C)},[]),S=h.useMemo(()=>s===Ld.TreeOrder?[...u].reverse():u,[s,u]);h.useEffect(()=>{if(!a||!u.length||!b){g();return}for(const _ of S){if((n==null?void 0:n(_))===!1)continue;const N=u.indexOf(_),C=d[N];if(!C)continue;const{direction:z,speed:U}=KT(_,C,b,t,p);for(const M of["x","y"])m[M][z[M]]||(U[M]=0,z[M]=0);if(U.x>0||U.y>0){g(),w.current=_,v(k,i),y.current=U,x.current=z;return}}y.current={x:0,y:0},x.current={x:0,y:0},g()},[t,k,n,g,a,i,JSON.stringify(b),JSON.stringify(m),v,u,S,d,JSON.stringify(p)])}const n3={x:{[Vt.Backward]:!1,[Vt.Forward]:!1},y:{[Vt.Backward]:!1,[Vt.Forward]:!1}};function o3(e){let{delta:t,disabled:r}=e;const n=Td(t);return kc(o=>{if(r||!n||!o)return n3;const a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Vt.Backward]:o.x[Vt.Backward]||a.x===-1,[Vt.Forward]:o.x[Vt.Forward]||a.x===1},y:{[Vt.Backward]:o.y[Vt.Backward]||a.y===-1,[Vt.Forward]:o.y[Vt.Forward]||a.y===1}}},[r,t,n])}function a3(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return kc(o=>{var a;return t==null?null:(a=n??o)!=null?a:null},[n,t])}function i3(e,t){return h.useMemo(()=>e.reduce((r,n)=>{const{sensor:o}=n,a=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,n)}));return[...r,...a]},[]),[e,t])}var Zl;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Zl||(Zl={}));var fv;(function(e){e.Optimized="optimized"})(fv||(fv={}));const aw=new Map;function s3(e,t){let{dragging:r,dependencies:n,config:o}=t;const[a,i]=h.useState(null),{frequency:s,measure:c,strategy:u}=o,d=h.useRef(e),f=y(),p=Xl(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&i(b=>b===null?x:b.concat(x.filter(w=>!b.includes(w))))},[p]),v=h.useRef(null),g=kc(x=>{if(f&&!r)return aw;if(!x||x===aw||d.current!==e||a!=null){const b=new Map;for(let w of e){if(!w)continue;if(a&&a.length>0&&!a.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const k=w.node.current,S=k?new py(c(k),k):null;w.rect.current=S,S&&b.set(w.id,S)}return b}return x},[e,a,r,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[r,f]),h.useEffect(()=>{a&&a.length>0&&i(null)},[JSON.stringify(a)]),h.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},s))},[s,f,m,...n]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:a!=null};function y(){switch(u){case Zl.Always:return!1;case Zl.BeforeDragging:return r;default:return!r}}}function gy(e,t){return kc(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function l3(e,t){return gy(e,t)}function c3(e){let{callback:t,disabled:r}=e;const n=Xf(t),o=h.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(n)},[n,r]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function Jf(e){let{callback:t,disabled:r}=e;const n=Xf(t),o=h.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(n)},[r]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function u3(e){return new py(gs(e),e)}function iw(e,t,r){t===void 0&&(t=u3);const[n,o]=h.useState(null);function a(){o(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=c3({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),s=Jf({callback:a});return Ln(()=>{a(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),n}function d3(e){const t=gy(e);return VS(e,t)}const sw=[];function f3(e){const t=h.useRef(e),r=kc(n=>e?n&&n!==sw&&e&&t.current&&e.parentNode===t.current.parentNode?n:Zf(e):sw,[e]);return h.useEffect(()=>{t.current=e},[e]),r}function p3(e){const[t,r]=h.useState(null),n=h.useRef(e),o=h.useCallback(a=>{const i=Lm(a.target);i&&r(s=>s?(s.set(i,uv(i)),new Map(s)):null)},[]);return h.useEffect(()=>{const a=n.current;if(e!==a){i(a);const s=e.map(c=>{const u=Lm(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,uv(u)]):null}).filter(c=>c!=null);r(s.length?new Map(s):null),n.current=e}return()=>{i(e),i(a)};function i(s){s.forEach(c=>{const u=Lm(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,i)=>Vi(a,i),$n):eC(e):$n,[e,t])}function lw(e,t){t===void 0&&(t=[]);const r=h.useRef(null);return h.useEffect(()=>{r.current=null},t),h.useEffect(()=>{const n=e!==$n;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Ql(e,r.current):$n}function m3(e){h.useEffect(()=>{if(!Gf)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function h3(e,t){return h.useMemo(()=>e.reduce((r,n)=>{let{eventName:o,handler:a}=n;return r[o]=i=>{a(i,t)},r},{}),[e,t])}function oC(e){return h.useMemo(()=>e?BT(e):null,[e])}const cw=[];function v3(e,t){t===void 0&&(t=gs);const[r]=e,n=oC(r?Er(r):null),[o,a]=h.useState(cw);function i(){a(()=>e.length?e.map(c=>ZS(c)?n:new py(t(c),c)):cw)}const s=Jf({callback:i});return Ln(()=>{s==null||s.disconnect(),i(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),o}function aC(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return wc(t)?t:e}function g3(e){let{measure:t}=e;const[r,n]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(wc(d)){n(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),a=Jf({callback:o}),i=h.useCallback(u=>{const d=aC(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),n(d?t(d):null)},[t,a]),[s,c]=Id(i);return h.useMemo(()=>({nodeRef:s,rect:r,setRef:c}),[r,s,c])}const y3=[{sensor:vy,options:{}},{sensor:my,options:{}}],x3={current:{}},ed={draggable:{measure:tw},droppable:{measure:tw,strategy:Zl.WhileDragging,frequency:fv.Optimized},dragOverlay:{measure:gs}};class El extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const b3={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new El,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:zd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ed,measureDroppableContainers:zd,windowRect:null,measuringScheduled:!1},iC={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:zd,draggableNodes:new Map,over:null,measureDroppableContainers:zd},jc=h.createContext(iC),sC=h.createContext(b3);function w3(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new El}}}function k3(e,t){switch(t.type){case Rt.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Rt.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Rt.DragEnd:case Rt.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Rt.RegisterDroppable:{const{element:r}=t,{id:n}=r,o=new El(e.droppable.containers);return o.set(n,r),{...e,droppable:{...e.droppable,containers:o}}}case Rt.SetDroppableDisabled:{const{id:r,key:n,disabled:o}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new El(e.droppable.containers);return i.set(r,{...a,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case Rt.UnregisterDroppable:{const{id:r,key:n}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const a=new El(e.droppable.containers);return a.delete(r),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function _3(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:o}=h.useContext(jc),a=Td(n),i=Td(r==null?void 0:r.id);return h.useEffect(()=>{if(!t&&!n&&a&&i!=null){if(!Qf(a)||document.activeElement===a.target)return;const s=o.get(i);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=xT(d);if(f){f.focus();break}}})}},[n,t,o,i,a]),null}function lC(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((o,a)=>a({transform:o,...n}),r):r}function j3(e){return h.useMemo(()=>({draggable:{...ed.draggable,...e==null?void 0:e.draggable},droppable:{...ed.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ed.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function S3(e){let{activeNode:t,measure:r,initialRect:n,config:o=!0}=e;const a=h.useRef(!1),{x:i,y:s}=typeof o=="boolean"?{x:o,y:o}:o;Ln(()=>{if(!i&&!s||!t){a.current=!1;return}if(a.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=VS(d,n);if(i||(f.x=0),s||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=GS(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,i,s,n,r])}const ep=h.createContext({...$n,scaleX:1,scaleY:1});var Go;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Go||(Go={}));const C3=h.memo(function(t){var r,n,o,a;let{id:i,accessibility:s,autoScroll:c=!0,children:u,sensors:d=y3,collisionDetection:f=TT,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(k3,void 0,w3),[y,x]=g,[b,w]=ST(),[k,S]=h.useState(Go.Uninitialized),_=k===Go.Initialized,{draggable:{active:N,nodes:C,translate:z},droppable:{containers:U}}=y,M=N!=null?C.get(N):null,Y=h.useRef({initial:null,translated:null}),ae=h.useMemo(()=>{var ct;return N!=null?{id:N,data:(ct=M==null?void 0:M.data)!=null?ct:x3,rect:Y}:null},[N,M]),Q=h.useRef(null),[F,K]=h.useState(null),[V,T]=h.useState(null),W=Xl(v,Object.values(v)),se=_c("DndDescribedBy",i),ge=h.useMemo(()=>U.getEnabled(),[U]),ee=j3(p),{droppableRects:te,measureDroppableContainers:J,measuringScheduled:ye}=s3(ge,{dragging:_,dependencies:[z.x,z.y],config:ee.droppable}),P=a3(C,N),B=h.useMemo(()=>V?Rd(V):null,[V]),E=fi(),A=l3(P,ee.draggable.measure);S3({activeNode:N!=null?C.get(N):null,config:E.layoutShiftCompensation,initialRect:A,measure:ee.draggable.measure});const H=iw(P,ee.draggable.measure,A),q=iw(P?P.parentElement:null),O=h.useRef({activatorEvent:null,active:null,activeNode:P,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:U,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ie=U.getNodeFor((r=O.current.over)==null?void 0:r.id),re=g3({measure:ee.dragOverlay.measure}),me=(n=re.nodeRef.current)!=null?n:P,xe=_?(o=re.rect)!=null?o:H:null,De=!!(re.nodeRef.current&&re.rect),Ke=d3(De?null:H),ze=oC(me?Er(me):null),Be=f3(_?ie??P:null),er=v3(Be),Ie=lC(m,{transform:{x:z.x-Ke.x,y:z.y-Ke.y,scaleX:1,scaleY:1},activatorEvent:V,active:ae,activeNodeRect:H,containerNodeRect:q,draggingNodeRect:xe,over:O.current.over,overlayNodeRect:re.rect,scrollableAncestors:Be,scrollableAncestorRects:er,windowRect:ze}),rt=B?Vi(B,z):null,mt=p3(Be),Ar=lw(mt),wn=lw(mt,[H]),ht=Vi(Ie,Ar),he=xe?LT(xe,Ie):null,Me=ae&&he?f({active:ae,collisionRect:he,droppableRects:te,droppableContainers:ge,pointerCoordinates:rt}):null,qe=HS(Me,"id"),[lt,Ut]=h.useState(null),kt=De?Ie:Vi(Ie,wn),Un=RT(kt,(a=lt==null?void 0:lt.rect)!=null?a:null,H),kn=h.useRef(null),_n=h.useCallback((ct,_t)=>{let{sensor:Ce,options:Te}=_t;if(Q.current==null)return;const He=C.get(Q.current);if(!He)return;const $e=ct.nativeEvent,jt=new Ce({active:Q.current,activeNode:He,event:$e,options:Te,context:O,onAbort(Fe){if(!C.get(Fe))return;const{onDragAbort:nt}=W.current,Xe={id:Fe};nt==null||nt(Xe),b({type:"onDragAbort",event:Xe})},onPending(Fe,At,nt,Xe){if(!C.get(Fe))return;const{onDragPending:tr}=W.current,nn={id:Fe,constraint:At,initialCoordinates:nt,offset:Xe};tr==null||tr(nn),b({type:"onDragPending",event:nn})},onStart(Fe){const At=Q.current;if(At==null)return;const nt=C.get(At);if(!nt)return;const{onDragStart:Xe}=W.current,Cn={activatorEvent:$e,active:{id:At,data:nt.data,rect:Y}};go.unstable_batchedUpdates(()=>{Xe==null||Xe(Cn),S(Go.Initializing),x({type:Rt.DragStart,initialCoordinates:Fe,active:At}),b({type:"onDragStart",event:Cn}),K(kn.current),T($e)})},onMove(Fe){x({type:Rt.DragMove,coordinates:Fe})},onEnd:Ve(Rt.DragEnd),onCancel:Ve(Rt.DragCancel)});kn.current=jt;function Ve(Fe){return async function(){const{active:nt,collisions:Xe,over:Cn,scrollAdjustedTranslate:tr}=O.current;let nn=null;if(nt&&tr){const{cancelDrop:Ca}=W.current;nn={activatorEvent:$e,active:nt,collisions:Xe,delta:tr,over:Cn},Fe===Rt.DragEnd&&typeof Ca=="function"&&await Promise.resolve(Ca(nn))&&(Fe=Rt.DragCancel)}Q.current=null,go.unstable_batchedUpdates(()=>{x({type:Fe}),S(Go.Uninitialized),Ut(null),K(null),T(null),kn.current=null;const Ca=Fe===Rt.DragEnd?"onDragEnd":"onDragCancel";if(nn){const Na=W.current[Ca];Na==null||Na(nn),b({type:Ca,event:nn})}})}}},[C]),jn=h.useCallback((ct,_t)=>(Ce,Te)=>{const He=Ce.nativeEvent,$e=C.get(Te);if(Q.current!==null||!$e||He.dndKit||He.defaultPrevented)return;const jt={active:$e};ct(Ce,_t.options,jt)===!0&&(He.dndKit={capturedBy:_t.sensor},Q.current=Te,_n(Ce,_t))},[C,_n]),Sn=i3(d,jn);m3(d),Ln(()=>{H&&k===Go.Initializing&&S(Go.Initialized)},[H,k]),h.useEffect(()=>{const{onDragMove:ct}=W.current,{active:_t,activatorEvent:Ce,collisions:Te,over:He}=O.current;if(!_t||!Ce)return;const $e={active:_t,activatorEvent:Ce,collisions:Te,delta:{x:ht.x,y:ht.y},over:He};go.unstable_batchedUpdates(()=>{ct==null||ct($e),b({type:"onDragMove",event:$e})})},[ht.x,ht.y]),h.useEffect(()=>{const{active:ct,activatorEvent:_t,collisions:Ce,droppableContainers:Te,scrollAdjustedTranslate:He}=O.current;if(!ct||Q.current==null||!_t||!He)return;const{onDragOver:$e}=W.current,jt=Te.get(qe),Ve=jt&&jt.rect.current?{id:jt.id,rect:jt.rect.current,data:jt.data,disabled:jt.disabled}:null,Fe={active:ct,activatorEvent:_t,collisions:Ce,delta:{x:He.x,y:He.y},over:Ve};go.unstable_batchedUpdates(()=>{Ut(Ve),$e==null||$e(Fe),b({type:"onDragOver",event:Fe})})},[qe]),Ln(()=>{O.current={activatorEvent:V,active:ae,activeNode:P,collisionRect:he,collisions:Me,droppableRects:te,draggableNodes:C,draggingNode:me,draggingNodeRect:xe,droppableContainers:U,over:lt,scrollableAncestors:Be,scrollAdjustedTranslate:ht},Y.current={initial:xe,translated:he}},[ae,P,Me,he,C,me,xe,te,U,lt,Be,ht]),r3({...E,delta:z,draggingRect:he,pointerCoordinates:rt,scrollableAncestors:Be,scrollableAncestorRects:er});const lr=h.useMemo(()=>({active:ae,activeNode:P,activeNodeRect:H,activatorEvent:V,collisions:Me,containerNodeRect:q,dragOverlay:re,draggableNodes:C,droppableContainers:U,droppableRects:te,over:lt,measureDroppableContainers:J,scrollableAncestors:Be,scrollableAncestorRects:er,measuringConfiguration:ee,measuringScheduled:ye,windowRect:ze}),[ae,P,H,V,Me,q,re,C,U,te,lt,J,Be,er,ee,ye,ze]),cr=h.useMemo(()=>({activatorEvent:V,activators:Sn,active:ae,activeNodeRect:H,ariaDescribedById:{draggable:se},dispatch:x,draggableNodes:C,over:lt,measureDroppableContainers:J}),[V,Sn,ae,H,x,se,C,lt,J]);return ne.createElement(qS.Provider,{value:w},ne.createElement(jc.Provider,{value:cr},ne.createElement(sC.Provider,{value:lr},ne.createElement(ep.Provider,{value:Un},u)),ne.createElement(_3,{disabled:(s==null?void 0:s.restoreFocus)===!1})),ne.createElement(PT,{...s,hiddenTextDescribedById:se}));function fi(){const ct=(F==null?void 0:F.autoScrollEnabled)===!1,_t=typeof c=="object"?c.enabled===!1:c===!1,Ce=_&&!ct&&!_t;return typeof c=="object"?{...c,enabled:Ce}:{enabled:Ce}}}),N3=h.createContext(null),uw="button",P3="Draggable";function E3(e){let{id:t,data:r,disabled:n=!1,attributes:o}=e;const a=_c(P3),{activators:i,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(jc),{role:m=uw,roleDescription:v="draggable",tabIndex:g=0}=o??{},y=(c==null?void 0:c.id)===t,x=h.useContext(y?ep:N3),[b,w]=Id(),[k,S]=Id(),_=h3(i,t),N=Xl(r);Ln(()=>(f.set(t,{id:t,key:a,node:b,activatorNode:k,data:N}),()=>{const z=f.get(t);z&&z.key===a&&f.delete(t)}),[f,t]);const C=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":n,"aria-pressed":y&&m===uw?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,m,g,y,v,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:C,isDragging:y,listeners:n?void 0:_,node:b,over:p,setNodeRef:w,setActivatorNodeRef:S,transform:x}}function cC(){return h.useContext(sC)}const O3="Droppable",A3={timeout:25};function D3(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:o}=e;const a=_c(O3),{active:i,dispatch:s,over:c,measureDroppableContainers:u}=h.useContext(jc),d=h.useRef({disabled:r}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:y}={...A3,...o},x=Xl(g??n),b=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},y)},[y]),w=Jf({callback:b,disabled:v||!i}),k=h.useCallback((C,z)=>{w&&(z&&(w.unobserve(z),f.current=!1),C&&w.observe(C))},[w]),[S,_]=Id(k),N=Xl(t);return h.useEffect(()=>{!w||!S.current||(w.disconnect(),f.current=!1,w.observe(S.current))},[S,w]),h.useEffect(()=>(s({type:Rt.RegisterDroppable,element:{id:n,key:a,disabled:r,node:S,rect:p,data:N}}),()=>s({type:Rt.UnregisterDroppable,key:a,id:n})),[n]),h.useEffect(()=>{r!==d.current.disabled&&(s({type:Rt.SetDroppableDisabled,id:n,key:a,disabled:r}),d.current.disabled=r)},[n,a,r,s]),{active:i,rect:p,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:_}}function M3(e){let{animation:t,children:r}=e;const[n,o]=h.useState(null),[a,i]=h.useState(null),s=Td(r);return!r&&!n&&s&&o(s),Ln(()=>{if(!a)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){o(null);return}Promise.resolve(t(u,a)).then(()=>{o(null)})},[t,n,a]),ne.createElement(ne.Fragment,null,r,n?h.cloneElement(n,{ref:i}):null)}const I3={x:0,y:0,scaleX:1,scaleY:1};function T3(e){let{children:t}=e;return ne.createElement(jc.Provider,{value:iC},ne.createElement(ep.Provider,{value:I3},t))}const R3={position:"fixed",touchAction:"none"},z3=e=>Qf(e)?"transform 250ms ease":void 0,L3=h.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:o,children:a,className:i,rect:s,style:c,transform:u,transition:d=z3}=e;if(!s)return null;const f=o?u:{...u,scaleX:1,scaleY:1},p={...R3,width:s.width,height:s.height,top:s.top,left:s.left,transform:Jn.Transform.toString(f),transformOrigin:o&&n?OT(n,s):void 0,transition:typeof d=="function"?d(n):d,...c};return ne.createElement(r,{className:i,style:p,ref:t},a)}),$3=e=>t=>{let{active:r,dragOverlay:n}=t;const o={},{styles:a,className:i}=e;if(a!=null&&a.active)for(const[s,c]of Object.entries(a.active))c!==void 0&&(o[s]=r.node.style.getPropertyValue(s),r.node.style.setProperty(s,c));if(a!=null&&a.dragOverlay)for(const[s,c]of Object.entries(a.dragOverlay))c!==void 0&&n.node.style.setProperty(s,c);return i!=null&&i.active&&r.node.classList.add(i.active),i!=null&&i.dragOverlay&&n.node.classList.add(i.dragOverlay),function(){for(const[c,u]of Object.entries(o))r.node.style.setProperty(c,u);i!=null&&i.active&&r.node.classList.remove(i.active)}},F3=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:Jn.Transform.toString(t)},{transform:Jn.Transform.toString(r)}]},B3={duration:250,easing:"ease",keyframes:F3,sideEffects:$3({styles:{active:{opacity:"0"}}})};function U3(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:o}=e;return Xf((a,i)=>{if(t===null)return;const s=r.get(a);if(!s)return;const c=s.node.current;if(!c)return;const u=aC(i);if(!u)return;const{transform:d}=Er(i).getComputedStyle(i),f=YS(d);if(!f)return;const p=typeof t=="function"?t:q3(t);return tC(c,o.draggable.measure),p({active:{id:a,data:s.data,node:c,rect:o.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:i,rect:o.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:o,transform:f})})}function q3(e){const{duration:t,easing:r,sideEffects:n,keyframes:o}={...B3,...e};return a=>{let{active:i,dragOverlay:s,transform:c,...u}=a;if(!t)return;const d={x:s.rect.left-i.rect.left,y:s.rect.top-i.rect.top},f={scaleX:c.scaleX!==1?i.rect.width*c.scaleX/s.rect.width:1,scaleY:c.scaleY!==1?i.rect.height*c.scaleY/s.rect.height:1},p={x:c.x-d.x,y:c.y-d.y,...f},m=o({...u,active:i,dragOverlay:s,transform:{initial:c,final:p}}),[v]=m,g=m[m.length-1];if(JSON.stringify(v)===JSON.stringify(g))return;const y=n==null?void 0:n({active:i,dragOverlay:s,...u}),x=s.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(b=>{x.onfinish=()=>{y==null||y(),b()}})}}let dw=0;function W3(e){return h.useMemo(()=>{if(e!=null)return dw++,dw},[e])}const K3=ne.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:o,transition:a,modifiers:i,wrapperElement:s="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggableNodes:v,droppableContainers:g,dragOverlay:y,over:x,measuringConfiguration:b,scrollableAncestors:w,scrollableAncestorRects:k,windowRect:S}=cC(),_=h.useContext(ep),N=W3(f==null?void 0:f.id),C=lC(i,{activatorEvent:d,active:f,activeNodeRect:p,containerNodeRect:m,draggingNodeRect:y.rect,over:x,overlayNodeRect:y.rect,scrollableAncestors:w,scrollableAncestorRects:k,transform:_,windowRect:S}),z=gy(p),U=U3({config:n,draggableNodes:v,droppableContainers:g,measuringConfiguration:b}),M=z?y.setRef:void 0;return ne.createElement(T3,null,ne.createElement(M3,{animation:U},f&&N?ne.createElement(L3,{key:N,id:f.id,ref:M,as:s,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:z,style:{zIndex:u,...o},transform:C},r):null))});function Ol(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function H3(e,t){return e.reduce((r,n,o)=>{const a=t.get(n);return a&&(r[o]=a),r},Array(e.length))}function _u(e){return e!==null&&e>=0}function V3(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Y3(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const $d=e=>{let{rects:t,activeIndex:r,overIndex:n,index:o}=e;const a=Ol(t,n,r),i=t[o],s=a[o];return!s||!i?null:{x:s.left-i.left,y:s.top-i.top,scaleX:s.width/i.width,scaleY:s.height/i.height}},uC="Sortable",dC=ne.createContext({activeIndex:-1,containerId:uC,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:$d,disabled:{draggable:!1,droppable:!1}});function Bm(e){let{children:t,id:r,items:n,strategy:o=$d,disabled:a=!1}=e;const{active:i,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=cC(),f=_c(uC,r),p=s.rect!==null,m=h.useMemo(()=>n.map(_=>typeof _=="object"&&"id"in _?_.id:_),[n]),v=i!=null,g=i?m.indexOf(i.id):-1,y=u?m.indexOf(u.id):-1,x=h.useRef(m),b=!V3(m,x.current),w=y!==-1&&g===-1||b,k=Y3(a);Ln(()=>{b&&v&&d(m)},[b,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const S=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:k,disableTransforms:w,items:m,overIndex:y,useDragOverlay:p,sortedRects:H3(m,c),strategy:o}),[g,f,k.draggable,k.droppable,w,m,y,c,p,o]);return ne.createElement(dC.Provider,{value:S},t)}const G3=e=>{let{id:t,items:r,activeIndex:n,overIndex:o}=e;return Ol(r,n,o).indexOf(t)},X3=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:o,items:a,newIndex:i,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!n||s!==a&&o===i?!1:r?!0:i!==o&&t===c},Q3={duration:200,easing:"ease"},fC="transform",Z3=Jn.Transition.toString({property:fC,duration:0,easing:"linear"}),J3={roleDescription:"sortable"};function e4(e){let{disabled:t,index:r,node:n,rect:o}=e;const[a,i]=h.useState(null),s=h.useRef(r);return Ln(()=>{if(!t&&r!==s.current&&n.current){const c=o.current;if(c){const u=gs(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}r!==s.current&&(s.current=r)},[t,r,n,o]),h.useEffect(()=>{a&&i(null)},[a]),a}function yy(e){let{animateLayoutChanges:t=X3,attributes:r,disabled:n,data:o,getNewIndex:a=G3,id:i,strategy:s,resizeObserverConfig:c,transition:u=Q3}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:y,useDragOverlay:x,strategy:b}=h.useContext(dC),w=t4(n,m),k=d.indexOf(i),S=h.useMemo(()=>({sortable:{containerId:f,index:k,items:d},...o}),[f,o,k,d]),_=h.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:N,node:C,isOver:z,setNodeRef:U}=D3({id:i,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:_,...c}}),{active:M,activatorEvent:Y,activeNodeRect:ae,attributes:Q,setNodeRef:F,listeners:K,isDragging:V,over:T,setActivatorNodeRef:W,transform:se}=E3({id:i,data:S,attributes:{...J3,...r},disabled:w.draggable}),ge=hT(U,F),ee=!!M,te=ee&&!v&&_u(p)&&_u(y),J=!x&&V,ye=J&&te?se:null,B=te?ye??(s??b)({rects:g,activeNodeRect:ae,activeIndex:p,overIndex:y,index:k}):null,E=_u(p)&&_u(y)?a({id:i,items:d,activeIndex:p,overIndex:y}):k,A=M==null?void 0:M.id,H=h.useRef({activeId:A,items:d,newIndex:E,containerId:f}),q=d!==H.current.items,O=t({active:M,containerId:f,isDragging:V,isSorting:ee,id:i,index:k,items:d,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:u,wasDragging:H.current.activeId!=null}),ie=e4({disabled:!O,index:k,node:C,rect:N});return h.useEffect(()=>{ee&&H.current.newIndex!==E&&(H.current.newIndex=E),f!==H.current.containerId&&(H.current.containerId=f),d!==H.current.items&&(H.current.items=d)},[ee,E,f,d]),h.useEffect(()=>{if(A===H.current.activeId)return;if(A!=null&&H.current.activeId==null){H.current.activeId=A;return}const me=setTimeout(()=>{H.current.activeId=A},50);return()=>clearTimeout(me)},[A]),{active:M,activeIndex:p,attributes:Q,data:S,rect:N,index:k,newIndex:E,items:d,isOver:z,isSorting:ee,isDragging:V,listeners:K,node:C,overIndex:y,over:T,setNodeRef:ge,setActivatorNodeRef:W,setDroppableNodeRef:U,setDraggableNodeRef:F,transform:ie??B,transition:re()};function re(){if(ie||q&&H.current.newIndex===k)return Z3;if(!(J&&!Qf(Y)||!u)&&(ee||O))return Jn.Transition.toString({...u,property:fC})}}function t4(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function Fd(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const r4=[Ue.Down,Ue.Right,Ue.Up,Ue.Left],n4=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:o,droppableContainers:a,over:i,scrollableAncestors:s}}=t;if(r4.includes(e.code)){if(e.preventDefault(),!r||!n)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Ue.Down:n.top<p.top&&c.push(f);break;case Ue.Up:n.top>p.top&&c.push(f);break;case Ue.Left:n.left>p.left&&c.push(f);break;case Ue.Right:n.left<p.left&&c.push(f);break}});const u=MT({collisionRect:n,droppableRects:o,droppableContainers:c});let d=HS(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(r.id),p=a.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const y=Zf(v).some((_,N)=>s[N]!==_),x=pC(f,p),b=o4(f,p),w=y||!x?{x:0,y:0}:{x:b?n.width-m.width:0,y:b?n.height-m.height:0},k={x:m.left,y:m.top};return w.x&&w.y?k:Ql(k,w)}}}};function pC(e,t){return!Fd(e)||!Fd(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function o4(e,t){return!Fd(e)||!Fd(t)||!pC(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function tp(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{await L.init();const d=(await L.getAll("products")).sort((f,p)=>f.category!==p.category?f.category.localeCompare(p.category):f.name.localeCompare(p.name));t(d)}catch(u){console.error("Error loading products:",u)}finally{n(!1)}};return{products:e,loading:r,addProduct:async u=>{try{await L.init();const d=new Date().toISOString(),f={...u,id:crypto.randomUUID(),created_at:d,updated_at:d};return await L.add("products",f),await o(),f.id}catch(d){throw console.error("Error adding product:",d),d}},updateProduct:async(u,d)=>{try{await L.init();const f=await L.get("products",u);if(!f)throw new Error("Product not found");const p={...f,...d,updated_at:new Date().toISOString()};await L.put("products",p),await o()}catch(f){throw console.error("Error updating product:",f),f}},deleteProduct:async u=>{try{await L.init(),await L.delete("products",u),await o()}catch(d){throw console.error("Error deleting product:",d),d}},updateStock:async(u,d)=>{await L.init();const f=await L.get("products",u);if(!f)return;const p=f.stock+d;if(p<0)throw new Error("Insufficient stock");const m={...f,stock:p,updated_at:new Date().toISOString()};await L.put("products",m)},refresh:o}}function rp(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{await L.init();const d=(await L.getAll("sales")).sort((f,p)=>new Date(p.completed_at).getTime()-new Date(f.completed_at).getTime());t(d)}catch(u){console.error("Error loading sales:",u)}finally{n(!1)}},a=async(u,d,f,p,m,v,g,y,x,b)=>{try{await L.init();const w=new Map;let k=0;u.forEach(Q=>{Q.combo_instance_id&&Q.combo_unit_price!==void 0?w.has(Q.combo_instance_id)||w.set(Q.combo_instance_id,Q.combo_unit_price):k+=Q.product_price*Q.quantity});const _=k+Array.from(w.values()).reduce((Q,F)=>Q+F,0)+(b||0),N=f?f-_:void 0,C=await L.getAll("sales"),z=C.length>0?Math.max(...C.map(Q=>{const F=Q.sale_number.replace(/^S-/,"");return parseInt(F)||0})):0,U=String(z+1),M=new Date().toISOString(),Y={id:crypto.randomUUID(),sale_number:U,total_amount:_,payment_method:d,cash_received:f,change_given:N,bills_received:p,bills_change:m,scheduled_time:v,customer_name:g,order_type:y,delivery_address:x,delivery_charge:b,completed_at:M,created_at:M};await L.add("sales",Y);const ae=u.map(Q=>({id:crypto.randomUUID(),sale_id:Y.id,product_id:Q.product_id,product_name:Q.product_name,product_price:Q.product_price,production_cost:Q.production_cost||0,quantity:Q.quantity,subtotal:Q.product_price*Q.quantity,removed_ingredients:Q.removedIngredients,combo_name:Q.combo_name,combo_instance_id:Q.combo_instance_id,combo_slot_index:Q.combo_slot_index,combo_unit_price:Q.combo_unit_price,created_at:M}));for(const Q of ae)await L.add("sale_items",Q);for(const Q of u){const F=await L.get("products",Q.product_id);if(F&&!F.uses_materia_prima){const K={...F,stock:Math.max(0,F.stock-Q.quantity),updated_at:M};await L.put("products",K)}}return await o(),Y}catch(w){throw console.error("Error creating sale:",w),w}},i=h.useCallback(async u=>{try{return await L.init(),await L.getAllByIndex("sale_items","sale_id",u)}catch(d){return console.error("Error loading sale items:",d),[]}},[]);return{sales:e,loading:r,createSale:a,getSaleItems:i,getSaleById:async u=>{try{return await L.init(),await L.get("sales",u)??null}catch(d){return console.error("Error loading sale:",d),null}},updateSale:async(u,d)=>{try{await L.init();const f=await L.get("sales",u);if(!f)throw new Error("Sale not found");const p={...f,...d};return await L.put("sales",p),await o(),p}catch(f){throw console.error("Error updating sale:",f),f}},refresh:o}}const a4=[10,20,50,100,200,500,1e3,2e3,1e4,2e4];function mC(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),o=h.useCallback(async()=>{await L.init();for(const b of a4)if((await L.getAllByIndex("cash_drawer","denomination",b)).length===0){const k={id:crypto.randomUUID(),denomination:b,quantity:0,updated_at:new Date().toISOString()};await L.add("cash_drawer",k)}},[]),a=h.useCallback(async()=>{try{await L.init(),await o();const k=(await L.getAll("cash_drawer")).map(S=>({id:S.id,denomination:S.denomination,quantity:S.quantity,updated_at:S.updated_at})).sort((S,_)=>_.denomination-S.denomination);t(k)}catch(b){console.error("Error loading cash drawer:",b)}finally{n(!1)}},[o]),i=async b=>{if(await L.init(),(await L.getAllByIndex("cash_drawer","denomination",b)).length===0){const k={id:crypto.randomUUID(),denomination:b,quantity:0,updated_at:new Date().toISOString()};await L.add("cash_drawer",k)}},s=async(b,w,k,S,_)=>{try{await L.init();const N={id:crypto.randomUUID(),movement_type:b,bills_in:w,bills_out:k,sale_id:S,notes:_,created_at:new Date().toISOString()};await L.add("cash_movements",N)}catch(N){console.error("Error logging cash movement:",N)}},c=async(b,w,k,S)=>{try{await L.init(),await i(b);const _=await L.getAllByIndex("cash_drawer","denomination",b);if(_.length===0)throw new Error("Bill not found");const N=_[0],C=w-N.quantity,z={...N,quantity:w,updated_at:new Date().toISOString()};if(await L.put("cash_drawer",z),k&&C!==0){const M=((Y,ae)=>({[Y.toString()]:Math.abs(ae)}))(b,C);await s(k,C>0?M:void 0,C<0?M:void 0,void 0,S)}await a()}catch(_){throw console.error("Error updating bill quantity:",_),_}},u=async(b,w)=>{await i(b),await L.init();const k=await L.getAllByIndex("cash_drawer","denomination",b);if(k.length>0){const _={...k[0],quantity:w,updated_at:new Date().toISOString()};await L.put("cash_drawer",_)}},d=async(b,w,k)=>{await i(b);const S=e.find(_=>_.denomination===b);S&&(await c(b,S.quantity+w),await s(k?"sale":"manual_add",{[b.toString()]:w},void 0,k))},f=async(b,w,k)=>{const S=e.find(_=>_.denomination===b);S&&S.quantity>=w&&(await c(b,S.quantity-w),await s(k?"change_given":"manual_remove",void 0,{[b.toString()]:w},k))},p=b=>{if(b===0)return[];if(b<0)return null;const w=[...e].sort((_,N)=>N.denomination-_.denomination),k=[];let S=b;for(const _ of w){if(_.quantity===0)continue;const N=Math.floor(S/_.denomination),C=Math.min(N,_.quantity);if(C>0&&(k.push({bill_value:_.denomination,quantity:C}),S-=C*_.denomination),S===0)break}return S>0?null:k},m=async(b,w)=>{try{if(!b||b.length===0)return;for(const S of b){const _=e.find(N=>N.denomination===S.bill_value);_&&_.quantity>=S.quantity&&await u(S.bill_value,_.quantity-S.quantity)}const k={};b.forEach(S=>{k[S.bill_value.toString()]=S.quantity}),await s("change_given",void 0,k,w),await a()}catch(k){throw console.error("Error processing change:",k),k}},v=async(b,w)=>{try{const k={};b.forEach(_=>{k[_]=(k[_]||0)+1});for(const[_,N]of Object.entries(k)){const C=parseInt(_),z=e.find(U=>U.denomination===C);z&&await u(C,z.quantity+N)}const S={};return Object.entries(k).forEach(([_,N])=>{S[_]=N}),await s("sale",S,void 0,w),await a(),k}catch(k){throw console.error("Error processing cash received:",k),k}},g=()=>e.reduce((b,w)=>b+w.denomination*w.quantity,0),y=h.useCallback(async()=>{try{return await L.init(),(await L.getAll("cash_movements")).sort((w,k)=>new Date(k.created_at).getTime()-new Date(w.created_at).getTime()).slice(0,100)}catch(b){return console.error("Error loading cash movements:",b),[]}},[]),x=async()=>{try{await L.init();const b={};e.forEach(k=>{k.quantity>0&&(b[k.denomination.toString()]=k.quantity)});for(const k of e)if(k.quantity>0){const S={...k,quantity:0,updated_at:new Date().toISOString()},_=await L.getAllByIndex("cash_drawer","denomination",k.denomination);_.length>0&&await L.put("cash_drawer",{...S,id:_[0].id})}const w=Object.entries(b).reduce((k,[S,_])=>k+Number(S)*_,0);await s("cash_closing",void 0,b,void 0,`Cierre de caja - Total: $${w.toFixed(2)}`),await a()}catch(b){throw console.error("Error resetting cash drawer:",b),b}};return h.useEffect(()=>{a()},[a]),{bills:e,loading:r,updateBillQuantity:c,addBills:d,removeBills:f,calculateOptimalChange:p,processChange:m,processCashReceived:v,getTotalCash:g,getCashMovements:y,resetCashDrawer:x,refresh:a}}function Sc(){const[e,t]=h.useState([]),[r,n]=h.useState(!0),[o,a]=h.useState(new Map);h.useEffect(()=>{i(),s()},[]);const i=async()=>{try{if(await L.init(),!L.hasStore("materia_prima")){console.warn("materia_prima store not found, database needs upgrade"),t([]),n(!1);return}const S=(await L.getAll("materia_prima")).sort((_,N)=>_.name.localeCompare(N.name));t(S)}catch(k){console.error("Error loading materia prima:",k),t([])}finally{n(!1)}},s=async()=>{try{if(await L.init(),!L.hasStore("product_materia_prima")){a(new Map);return}const k=await L.getAll("product_materia_prima"),S=new Map;for(const _ of k){const N=S.get(_.product_id)||[];N.push(_),S.set(_.product_id,N)}a(S)}catch(k){console.error("Error loading product materia prima cache:",k),a(new Map)}},c=async k=>{try{await L.init();const S=new Date().toISOString(),_={...k,id:crypto.randomUUID(),created_at:S,updated_at:S};await L.add("materia_prima",_),await i()}catch(S){throw console.error("Error adding materia prima:",S),S}},u=async(k,S)=>{try{await L.init();const _=await L.get("materia_prima",k);if(!_)throw new Error("Materia prima not found");const N={..._,...S,updated_at:new Date().toISOString()};await L.put("materia_prima",N),S.cost_per_unit!==void 0&&await y(k),await i()}catch(_){throw console.error("Error updating materia prima:",_),_}},d=async k=>{try{if(await L.init(),(await L.getAllByIndex("product_materia_prima","materia_prima_id",k)).length>0)throw new Error("No se puede eliminar: est vinculado a productos");await L.delete("materia_prima",k),await i()}catch(S){throw console.error("Error deleting materia prima:",S),S}},f=async(k,S)=>{await L.init();const _=await L.get("materia_prima",k);if(!_)return;const N=_.stock+S;if(N<0)throw new Error("Stock insuficiente");const C={..._,stock:N,updated_at:new Date().toISOString()};await L.put("materia_prima",C)},p=async k=>{try{return await L.init(),L.hasStore("product_materia_prima")?await L.getAllByIndex("product_materia_prima","product_id",k):[]}catch(S){return console.error("Error getting product materia prima:",S),[]}},m=h.useCallback(k=>o.get(k)||[],[o]),v=async(k,S)=>{try{await L.init();const _=await L.getAllByIndex("product_materia_prima","product_id",k);for(const C of _)await L.delete("product_materia_prima",C.id);const N=[];for(const C of S){const z={id:crypto.randomUUID(),product_id:k,materia_prima_id:C.materia_prima_id,quantity:C.quantity,removable:C.removable,created_at:new Date().toISOString(),is_variable:C.is_variable,min_quantity:C.min_quantity,max_quantity:C.max_quantity,default_quantity:C.default_quantity,price_per_unit:C.price_per_unit,linked_to:C.linked_to,linked_multiplier:C.linked_multiplier};await L.add("product_materia_prima",z),N.push(z)}a(C=>{const z=new Map(C);return z.set(k,N),z})}catch(_){throw console.error("Error setting product materia prima:",_),_}},g=async k=>{try{if(await L.init(),!L.hasStore("materia_prima")||!L.hasStore("product_materia_prima"))return 0;const S=await p(k);let _=0;const N=new Map;for(const C of S){if(C.linked_to)continue;const z=await L.get("materia_prima",C.materia_prima_id);if(z){const U=C.is_variable?C.default_quantity??1:C.quantity;_+=z.cost_per_unit*U,C.is_variable&&N.set(C.materia_prima_id,C.default_quantity??1)}}for(const C of S){if(!C.linked_to||!C.linked_multiplier)continue;const z=N.get(C.linked_to);if(z===void 0)continue;const U=await L.get("materia_prima",C.materia_prima_id);if(U){const M=z*C.linked_multiplier+(C.quantity||0);_+=U.cost_per_unit*M}}return _}catch(S){return console.error("Error calculating product cost:",S),0}},y=async k=>{try{await L.init();const S=await L.getAllByIndex("product_materia_prima","materia_prima_id",k),_=[...new Set(S.map(N=>N.product_id))];for(const N of _){const C=await g(N),z=await L.get("products",N);z&&z.uses_materia_prima&&await L.put("products",{...z,production_cost:C,updated_at:new Date().toISOString()})}}catch(S){console.error("Error recalculating affected products cost:",S)}},x=async k=>{try{if(await L.init(),!L.hasStore("materia_prima")||!L.hasStore("product_materia_prima"))return!0;const S=await p(k);for(const _ of S){const N=await L.get("materia_prima",_.materia_prima_id);if(!N||N.stock<_.quantity)return!1}return!0}catch(S){return console.error("Error checking stock availability:",S),!1}},b=async(k,S=1,_)=>{try{await L.init();const N=await p(k);for(const C of N){if(_&&_.length>0){const z=e.find(U=>U.id===C.materia_prima_id);if(z&&_.includes(z.name))continue}await f(C.materia_prima_id,-(C.quantity*S))}}catch(N){throw console.error("Error deducting materia prima stock:",N),N}},w=h.useCallback(async k=>{try{if(await L.init(),!L.hasStore("materia_prima")||!L.hasStore("product_materia_prima"))return 0;const S=await p(k);if(S.length===0)return 0;let _=1/0;const N=new Map;for(const C of S){if(C.linked_to)continue;const z=await L.get("materia_prima",C.materia_prima_id);if(!z)return 0;const U=C.is_variable?C.min_quantity??1:C.quantity,M=Math.floor(z.stock/U);_=Math.min(_,M),C.is_variable&&N.set(C.materia_prima_id,C.min_quantity??1)}for(const C of S){if(!C.linked_to||!C.linked_multiplier)continue;const z=N.get(C.linked_to);if(z===void 0)continue;const U=await L.get("materia_prima",C.materia_prima_id);if(!U)return 0;const M=z*C.linked_multiplier+(C.quantity||0);if(M>0){const Y=Math.floor(U.stock/M);_=Math.min(_,Y)}}return _===1/0?0:_}catch(S){return console.error("Error calculating available stock:",S),0}},[]);return{materiaPrima:e,loading:r,addMateriaPrima:c,updateMateriaPrima:u,deleteMateriaPrima:d,updateStock:f,getProductMateriaPrima:p,getProductMateriaPrimaCached:m,setProductMateriaPrima:v,calculateProductCost:g,checkStockAvailability:x,deductMateriaPrimaStock:b,calculateAvailableStock:w,refresh:i,refreshCache:s,productMPCache:o}}function hC(){const[e,t]=h.useState([]),[r,n]=h.useState(!0);h.useEffect(()=>{o()},[]);const o=async()=>{try{if(await L.init(),!L.hasStore("combos")){console.warn("combos store not found, database needs upgrade"),t([]),n(!1);return}const m=(await L.getAll("combos")).sort((v,g)=>v.name.localeCompare(g.name));t(m)}catch(p){console.error("Error loading combos:",p),t([])}finally{n(!1)}},a=async p=>{try{await L.init();const m=new Date().toISOString(),v={...p,id:crypto.randomUUID(),created_at:m,updated_at:m};return await L.add("combos",v),await o(),v.id}catch(m){throw console.error("Error adding combo:",m),m}},i=async(p,m)=>{try{await L.init();const v=await L.get("combos",p);if(!v)throw new Error("Combo not found");const g={...v,...m,updated_at:new Date().toISOString()};await L.put("combos",g),await o()}catch(v){throw console.error("Error updating combo:",v),v}},s=async p=>{try{await L.init(),await L.delete("combos",p),await o()}catch(m){throw console.error("Error deleting combo:",m),m}},c=async p=>{try{await L.init();for(const m of p){const v=await L.get("combos",m.id);if(v){const g={...v,display_order:m.display_order,updated_at:new Date().toISOString()};await L.put("combos",g)}}await o()}catch(m){throw console.error("Error updating combos order:",m),m}},u=h.useCallback(async(p,m)=>{if(p.price_type==="fixed")return p.fixed_price||0;try{await L.init();let v=0;for(const g of m){const y=await L.get("products",g.productId);y&&(v+=y.price*g.quantity)}return p.discount_type==="percentage"&&p.discount_value?v=v*(1-p.discount_value/100):p.discount_type==="fixed"&&p.discount_value&&(v=Math.max(0,v-p.discount_value)),Math.round(v)}catch(v){return console.error("Error calculating combo price:",v),0}},[]),d=h.useCallback(async p=>{try{await L.init();const m=[];for(const v of p.slots){const g=await L.get("products",v.default_product_id);if(g)for(let y=0;y<v.quantity;y++)m.push({slotId:v.id,slotName:v.name,productId:g.id,productName:g.name,productPrice:g.price,removedIngredients:[]})}return m}catch(m){return console.error("Error getting default selections:",m),[]}},[]),f=h.useCallback(async p=>{try{await L.init();const m=[];for(const v of p.product_ids){const g=await L.get("products",v);g&&g.active&&m.push(g)}return m}catch(m){return console.error("Error getting slot products:",m),[]}},[]);return{combos:e,loading:r,addCombo:a,updateCombo:i,deleteCombo:s,updateCombosOrder:c,calculateComboPrice:u,getDefaultSelections:d,getSlotProducts:f,refresh:o}}function vC(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=vC(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=vC(e))&&(n&&(n+=" "),n+=t);return n}const i4=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},s4=(e,t)=>({classGroupId:e,validator:t}),gC=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),Bd="-",fw=[],l4="arbitrary..",c4=e=>{const t=d4(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return u4(i);const s=i.split(Bd),c=s[0]===""&&s.length>1?1:0;return yC(s,c,t)},getConflictingClassGroupIds:(i,s)=>{if(s){const c=n[i],u=r[i];return c?u?i4(u,c):c:u||fw}return r[i]||fw}}},yC=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],a=r.nextPart.get(o);if(a){const u=yC(e,t+1,a);if(u)return u}const i=r.validators;if(i===null)return;const s=t===0?e.join(Bd):e.slice(t).join(Bd),c=i.length;for(let u=0;u<c;u++){const d=i[u];if(d.validator(s))return d.classGroupId}},u4=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?l4+n:void 0})(),d4=e=>{const{theme:t,classGroups:r}=e;return f4(r,t)},f4=(e,t)=>{const r=gC();for(const n in e){const o=e[n];xy(o,r,n,t)}return r},xy=(e,t,r,n)=>{const o=e.length;for(let a=0;a<o;a++){const i=e[a];p4(i,t,r,n)}},p4=(e,t,r,n)=>{if(typeof e=="string"){m4(e,t,r);return}if(typeof e=="function"){h4(e,t,r,n);return}v4(e,t,r,n)},m4=(e,t,r)=>{const n=e===""?t:xC(t,e);n.classGroupId=r},h4=(e,t,r,n)=>{if(g4(e)){xy(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(s4(r,e))},v4=(e,t,r,n)=>{const o=Object.entries(e),a=o.length;for(let i=0;i<a;i++){const[s,c]=o[i];xy(c,xC(t,s),r,n)}},xC=(e,t)=>{let r=e;const n=t.split(Bd),o=n.length;for(let a=0;a<o;a++){const i=n[a];let s=r.nextPart.get(i);s||(s=gC(),r.nextPart.set(i,s)),r=s}return r},g4=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,y4=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(a,i)=>{r[a]=i,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(a){let i=r[a];if(i!==void 0)return i;if((i=n[a])!==void 0)return o(a,i),i},set(a,i){a in r?r[a]=i:o(a,i)}}},pv="!",pw=":",x4=[],mw=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),b4=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const a=[];let i=0,s=0,c=0,u;const d=o.length;for(let g=0;g<d;g++){const y=o[g];if(i===0&&s===0){if(y===pw){a.push(o.slice(c,g)),c=g+1;continue}if(y==="/"){u=g;continue}}y==="["?i++:y==="]"?i--:y==="("?s++:y===")"&&s--}const f=a.length===0?o:o.slice(c);let p=f,m=!1;f.endsWith(pv)?(p=f.slice(0,-1),m=!0):f.startsWith(pv)&&(p=f.slice(1),m=!0);const v=u&&u>c?u-c:void 0;return mw(a,m,p,v)};if(t){const o=t+pw,a=n;n=i=>i.startsWith(o)?a(i.slice(o.length)):mw(x4,!1,i,void 0,!0)}if(r){const o=n;n=a=>r({className:a,parseClassName:o})}return n},w4=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let a=0;a<r.length;a++){const i=r[a],s=i[0]==="[",c=t.has(i);s||c?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(i)):o.push(i)}return o.length>0&&(o.sort(),n.push(...o)),n}},k4=e=>({cache:y4(e.cacheSize),parseClassName:b4(e),sortModifiers:w4(e),...c4(e)}),_4=/\s+/,j4=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:a}=t,i=[],s=e.trim().split(_4);let c="";for(let u=s.length-1;u>=0;u-=1){const d=s[u],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:v,maybePostfixModifierPosition:g}=r(d);if(f){c=d+(c.length>0?" "+c:c);continue}let y=!!g,x=n(y?v.substring(0,g):v);if(!x){if(!y){c=d+(c.length>0?" "+c:c);continue}if(x=n(v),!x){c=d+(c.length>0?" "+c:c);continue}y=!1}const b=p.length===0?"":p.length===1?p[0]:a(p).join(":"),w=m?b+pv:b,k=w+x;if(i.indexOf(k)>-1)continue;i.push(k);const S=o(x,y);for(let _=0;_<S.length;++_){const N=S[_];i.push(w+N)}c=d+(c.length>0?" "+c:c)}return c},S4=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=bC(r))&&(o&&(o+=" "),o+=n);return o},bC=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=bC(e[n]))&&(r&&(r+=" "),r+=t);return r},C4=(e,...t)=>{let r,n,o,a;const i=c=>{const u=t.reduce((d,f)=>f(d),e());return r=k4(u),n=r.cache.get,o=r.cache.set,a=s,s(c)},s=c=>{const u=n(c);if(u)return u;const d=j4(c,r);return o(c,d),d};return a=i,(...c)=>a(S4(...c))},N4=[],Mt=e=>{const t=r=>r[e]||N4;return t.isThemeGetter=!0,t},wC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,P4=/^\d+\/\d+$/,E4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,O4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,A4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,D4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ki=e=>P4.test(e),Re=e=>!!e&&!Number.isNaN(Number(e)),Ho=e=>!!e&&Number.isInteger(Number(e)),Um=e=>e.endsWith("%")&&Re(e.slice(0,-1)),so=e=>E4.test(e),I4=()=>!0,T4=e=>O4.test(e)&&!A4.test(e),_C=()=>!1,R4=e=>D4.test(e),z4=e=>M4.test(e),L4=e=>!_e(e)&&!je(e),$4=e=>ys(e,CC,_C),_e=e=>wC.test(e),Da=e=>ys(e,NC,T4),qm=e=>ys(e,W4,Re),hw=e=>ys(e,jC,_C),F4=e=>ys(e,SC,z4),ju=e=>ys(e,PC,R4),je=e=>kC.test(e),Xs=e=>xs(e,NC),B4=e=>xs(e,K4),vw=e=>xs(e,jC),U4=e=>xs(e,CC),q4=e=>xs(e,SC),Su=e=>xs(e,PC,!0),ys=(e,t,r)=>{const n=wC.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},xs=(e,t,r=!1)=>{const n=kC.exec(e);return n?n[1]?t(n[1]):r:!1},jC=e=>e==="position"||e==="percentage",SC=e=>e==="image"||e==="url",CC=e=>e==="length"||e==="size"||e==="bg-size",NC=e=>e==="length",W4=e=>e==="number",K4=e=>e==="family-name",PC=e=>e==="shadow",H4=()=>{const e=Mt("color"),t=Mt("font"),r=Mt("text"),n=Mt("font-weight"),o=Mt("tracking"),a=Mt("leading"),i=Mt("breakpoint"),s=Mt("container"),c=Mt("spacing"),u=Mt("radius"),d=Mt("shadow"),f=Mt("inset-shadow"),p=Mt("text-shadow"),m=Mt("drop-shadow"),v=Mt("blur"),g=Mt("perspective"),y=Mt("aspect"),x=Mt("ease"),b=Mt("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],S=()=>[...k(),je,_e],_=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],C=()=>[je,_e,c],z=()=>[ki,"full","auto",...C()],U=()=>[Ho,"none","subgrid",je,_e],M=()=>["auto",{span:["full",Ho,je,_e]},Ho,je,_e],Y=()=>[Ho,"auto",je,_e],ae=()=>["auto","min","max","fr",je,_e],Q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],F=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...C()],V=()=>[ki,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...C()],T=()=>[e,je,_e],W=()=>[...k(),vw,hw,{position:[je,_e]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ge=()=>["auto","cover","contain",U4,$4,{size:[je,_e]}],ee=()=>[Um,Xs,Da],te=()=>["","none","full",u,je,_e],J=()=>["",Re,Xs,Da],ye=()=>["solid","dashed","dotted","double"],P=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>[Re,Um,vw,hw],E=()=>["","none",v,je,_e],A=()=>["none",Re,je,_e],H=()=>["none",Re,je,_e],q=()=>[Re,je,_e],O=()=>[ki,"full",...C()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[so],breakpoint:[so],color:[I4],container:[so],"drop-shadow":[so],ease:["in","out","in-out"],font:[L4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[so],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[so],shadow:[so],spacing:["px",Re],text:[so],"text-shadow":[so],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ki,_e,je,y]}],container:["container"],columns:[{columns:[Re,_e,je,s]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:S()}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Ho,"auto",je,_e]}],basis:[{basis:[ki,"full","auto",s,...C()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Re,ki,"auto","initial","none",_e]}],grow:[{grow:["",Re,je,_e]}],shrink:[{shrink:["",Re,je,_e]}],order:[{order:[Ho,"first","last","none",je,_e]}],"grid-cols":[{"grid-cols":U()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":U()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ae()}],"auto-rows":[{"auto-rows":ae()}],gap:[{gap:C()}],"gap-x":[{"gap-x":C()}],"gap-y":[{"gap-y":C()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...F(),"normal"]}],"justify-self":[{"justify-self":["auto",...F()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...F(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...F(),{baseline:["","last"]}]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...F(),"baseline"]}],"place-self":[{"place-self":["auto",...F()]}],p:[{p:C()}],px:[{px:C()}],py:[{py:C()}],ps:[{ps:C()}],pe:[{pe:C()}],pt:[{pt:C()}],pr:[{pr:C()}],pb:[{pb:C()}],pl:[{pl:C()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":C()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":C()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[s,"screen",...V()]}],"min-w":[{"min-w":[s,"screen","none",...V()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",r,Xs,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,je,qm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Um,_e]}],"font-family":[{font:[B4,_e,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,je,_e]}],"line-clamp":[{"line-clamp":[Re,"none",je,qm]}],leading:[{leading:[a,...C()]}],"list-image":[{"list-image":["none",je,_e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",je,_e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ye(),"wavy"]}],"text-decoration-thickness":[{decoration:[Re,"from-font","auto",je,Da]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Re,"auto",je,_e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je,_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je,_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:ge()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ho,je,_e],radial:["",je,_e],conic:[Ho,je,_e]},q4,F4]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:ee()}],"gradient-via-pos":[{via:ee()}],"gradient-to-pos":[{to:ee()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:J()}],"border-w-x":[{"border-x":J()}],"border-w-y":[{"border-y":J()}],"border-w-s":[{"border-s":J()}],"border-w-e":[{"border-e":J()}],"border-w-t":[{"border-t":J()}],"border-w-r":[{"border-r":J()}],"border-w-b":[{"border-b":J()}],"border-w-l":[{"border-l":J()}],"divide-x":[{"divide-x":J()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":J()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ye(),"hidden","none"]}],"divide-style":[{divide:[...ye(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...ye(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Re,je,_e]}],"outline-w":[{outline:["",Re,Xs,Da]}],"outline-color":[{outline:T()}],shadow:[{shadow:["","none",d,Su,ju]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",f,Su,ju]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:J()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Re,Da]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":J()}],"inset-ring-color":[{"inset-ring":T()}],"text-shadow":[{"text-shadow":["none",p,Su,ju]}],"text-shadow-color":[{"text-shadow":T()}],opacity:[{opacity:[Re,je,_e]}],"mix-blend":[{"mix-blend":[...P(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":P()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Re]}],"mask-image-linear-from-pos":[{"mask-linear-from":B()}],"mask-image-linear-to-pos":[{"mask-linear-to":B()}],"mask-image-linear-from-color":[{"mask-linear-from":T()}],"mask-image-linear-to-color":[{"mask-linear-to":T()}],"mask-image-t-from-pos":[{"mask-t-from":B()}],"mask-image-t-to-pos":[{"mask-t-to":B()}],"mask-image-t-from-color":[{"mask-t-from":T()}],"mask-image-t-to-color":[{"mask-t-to":T()}],"mask-image-r-from-pos":[{"mask-r-from":B()}],"mask-image-r-to-pos":[{"mask-r-to":B()}],"mask-image-r-from-color":[{"mask-r-from":T()}],"mask-image-r-to-color":[{"mask-r-to":T()}],"mask-image-b-from-pos":[{"mask-b-from":B()}],"mask-image-b-to-pos":[{"mask-b-to":B()}],"mask-image-b-from-color":[{"mask-b-from":T()}],"mask-image-b-to-color":[{"mask-b-to":T()}],"mask-image-l-from-pos":[{"mask-l-from":B()}],"mask-image-l-to-pos":[{"mask-l-to":B()}],"mask-image-l-from-color":[{"mask-l-from":T()}],"mask-image-l-to-color":[{"mask-l-to":T()}],"mask-image-x-from-pos":[{"mask-x-from":B()}],"mask-image-x-to-pos":[{"mask-x-to":B()}],"mask-image-x-from-color":[{"mask-x-from":T()}],"mask-image-x-to-color":[{"mask-x-to":T()}],"mask-image-y-from-pos":[{"mask-y-from":B()}],"mask-image-y-to-pos":[{"mask-y-to":B()}],"mask-image-y-from-color":[{"mask-y-from":T()}],"mask-image-y-to-color":[{"mask-y-to":T()}],"mask-image-radial":[{"mask-radial":[je,_e]}],"mask-image-radial-from-pos":[{"mask-radial-from":B()}],"mask-image-radial-to-pos":[{"mask-radial-to":B()}],"mask-image-radial-from-color":[{"mask-radial-from":T()}],"mask-image-radial-to-color":[{"mask-radial-to":T()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[Re]}],"mask-image-conic-from-pos":[{"mask-conic-from":B()}],"mask-image-conic-to-pos":[{"mask-conic-to":B()}],"mask-image-conic-from-color":[{"mask-conic-from":T()}],"mask-image-conic-to-color":[{"mask-conic-to":T()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:ge()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",je,_e]}],filter:[{filter:["","none",je,_e]}],blur:[{blur:E()}],brightness:[{brightness:[Re,je,_e]}],contrast:[{contrast:[Re,je,_e]}],"drop-shadow":[{"drop-shadow":["","none",m,Su,ju]}],"drop-shadow-color":[{"drop-shadow":T()}],grayscale:[{grayscale:["",Re,je,_e]}],"hue-rotate":[{"hue-rotate":[Re,je,_e]}],invert:[{invert:["",Re,je,_e]}],saturate:[{saturate:[Re,je,_e]}],sepia:[{sepia:["",Re,je,_e]}],"backdrop-filter":[{"backdrop-filter":["","none",je,_e]}],"backdrop-blur":[{"backdrop-blur":E()}],"backdrop-brightness":[{"backdrop-brightness":[Re,je,_e]}],"backdrop-contrast":[{"backdrop-contrast":[Re,je,_e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Re,je,_e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Re,je,_e]}],"backdrop-invert":[{"backdrop-invert":["",Re,je,_e]}],"backdrop-opacity":[{"backdrop-opacity":[Re,je,_e]}],"backdrop-saturate":[{"backdrop-saturate":[Re,je,_e]}],"backdrop-sepia":[{"backdrop-sepia":["",Re,je,_e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":C()}],"border-spacing-x":[{"border-spacing-x":C()}],"border-spacing-y":[{"border-spacing-y":C()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",je,_e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Re,"initial",je,_e]}],ease:[{ease:["linear","initial",x,je,_e]}],delay:[{delay:[Re,je,_e]}],animate:[{animate:["none",b,je,_e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,je,_e]}],"perspective-origin":[{"perspective-origin":S()}],rotate:[{rotate:A()}],"rotate-x":[{"rotate-x":A()}],"rotate-y":[{"rotate-y":A()}],"rotate-z":[{"rotate-z":A()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:q()}],"skew-x":[{"skew-x":q()}],"skew-y":[{"skew-y":q()}],transform:[{transform:[je,_e,"","none","gpu","cpu"]}],"transform-origin":[{origin:S()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:O()}],"translate-x":[{"translate-x":O()}],"translate-y":[{"translate-y":O()}],"translate-z":[{"translate-z":O()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je,_e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je,_e]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Re,Xs,Da,qm]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},V4=C4(H4);function Yt(...e){return V4(tt(e))}function pe(e){return`$${e.toLocaleString("es-AR",{minimumFractionDigits:e%1===0?0:2,maximumFractionDigits:2})}`}function it(e){return e.toLocaleString("es-AR",{minimumFractionDigits:e%1===0?0:2,maximumFractionDigits:2})}const Wm=[10,20,50,100,200,500,1e3,2e3,1e4,2e4];function Y4({product:e,isLocked:t,onAddToCart:r,onLongPress:n,getStock:o,displayPrice:a,hasRemovableIngredients:i,isOutOfStock:s}){const c=h.useRef(null),u=h.useRef(!1),{attributes:d,listeners:f,setNodeRef:p,transform:m,transition:v,isDragging:g}=yy({id:e.id,disabled:t,data:{type:"product"}}),y={transform:Jn.Transform.toString(m),transition:v,opacity:g?.5:1,touchAction:t?"auto":"none"},x=()=>{u.current=!1,c.current=setTimeout(()=>{u.current=!0,n(e)},500)},b=()=>{c.current&&(clearTimeout(c.current),c.current=null),u.current||r(e),u.current=!1},w=()=>{c.current&&(clearTimeout(c.current),c.current=null)};return l.jsx("div",{ref:p,style:y,className:"relative h-full",...t?{}:{...d,...f},children:l.jsxs("button",{onContextMenu:k=>k.preventDefault(),onPointerDown:t&&!s?x:void 0,onPointerUp:t&&!s?b:void 0,onPointerLeave:t&&!s?w:void 0,onClick:t&&!s||s?void 0:()=>r(e),disabled:s,className:`w-full h-full p-6 rounded-lg shadow-md transition-all duration-200 relative flex flex-col justify-between ${s?"opacity-50 cursor-not-allowed":t?"hover:shadow-xl hover:scale-105 select-none":"cursor-move"}`,style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[s&&l.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded text-xs font-bold",style:{backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:"SIN STOCK"}),i&&!s&&l.jsx("div",{className:"absolute top-2 right-2 p-1 rounded-md opacity-80",style:{backgroundColor:"var(--color-on-primary)"},title:"Manten presionado para personalizar",children:l.jsx(fa,{size:14,style:{color:"var(--color-primary)"}})}),l.jsx("div",{children:l.jsx("div",{className:"text-lg font-bold mb-2",children:e.name})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:pe(a)}),l.jsxs("div",{className:"text-sm opacity-90",children:["Stock: ",it(o(e))]})]})]})})}function G4({combo:e,isLocked:t,onOpenComboModal:r,isOutOfStock:n,stockCount:o}){const{attributes:a,listeners:i,setNodeRef:s,transform:c,transition:u,isDragging:d}=yy({id:`combo-${e.id}`,disabled:t,data:{type:"combo"}}),f={transform:Jn.Transform.toString(c),transition:u,opacity:d?.5:1,touchAction:t?"auto":"none"};return l.jsx("div",{ref:s,style:f,className:"relative h-full",...t?{}:{...a,...i},children:l.jsxs("button",{onClick:t&&!n?()=>r(e):void 0,disabled:n,className:`w-full h-full p-6 rounded-lg shadow-md transition-all duration-200 text-left relative flex flex-col justify-between ${n?"opacity-50 cursor-not-allowed":t?"hover:shadow-xl hover:scale-105 select-none":"cursor-move"}`,style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[n&&l.jsx("div",{className:"absolute top-2 left-2 px-2 py-0.5 rounded text-xs font-bold z-10",style:{backgroundColor:"rgba(0,0,0,0.5)",color:"white"},children:"SIN STOCK"}),l.jsx("div",{children:l.jsx("div",{className:"text-lg font-bold mb-2",children:e.name.replace("Combo","")})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl font-bold mb-1",children:e.price_type==="fixed"?pe(e.fixed_price||0):e.discount_type==="percentage"?`-${e.discount_value}%`:`-${pe(e.discount_value||0)}`}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"text-sm opacity-90",children:[e.slots.length," producto",e.slots.length!==1?"s":""]}),l.jsx("div",{className:"text-sm opacity-90",children:"|"}),l.jsxs("div",{className:"text-sm opacity-90",children:["Stock: ",o]})]})]}),l.jsx("div",{className:"absolute top-2 right-2 px-2 py-0.5 rounded text-xs font-semibold",style:{backgroundColor:"rgba(255,255,255,0.2)"},children:"COMBO"})]})})}function gw({category:e,isLocked:t,children:r}){const{attributes:n,listeners:o,setNodeRef:a,transform:i,transition:s,isDragging:c}=yy({id:`category-${e}`,disabled:t,data:{type:"category"}}),u={transform:Jn.Transform.toString(i),transition:s,opacity:c?.5:1};return l.jsxs("div",{ref:a,style:u,className:"mb-8",children:[l.jsx("h2",{...t?{}:{...n,...o},className:`text-xl font-semibold capitalize mb-4 ${t?"":"cursor-move hover:opacity-80 transition-opacity"}`,style:{color:"var(--color-text)",touchAction:t?"auto":"none"},children:e}),r]})}function yw(){var L0;const{products:e,refresh:t,updateProduct:r,updateStock:n}=tp(),{sales:o,createSale:a,updateSale:i}=rp(),{calculateOptimalChange:s,processChange:c,processCashReceived:u}=mC(),{checkStockAvailability:d,calculateAvailableStock:f,refresh:p,getProductMateriaPrimaCached:m,materiaPrima:v,productMPCache:g}=Sc(),{combos:y,calculateComboPrice:x,getDefaultSelections:b,getSlotProducts:w,updateCombosOrder:k}=hC(),{syncThemeToKDS:S}=bc(),[_,N]=h.useState([]),[C,z]=h.useState(!1),[U,M]=h.useState("cash"),[Y,ae]=h.useState(0),[Q,F]=h.useState(null),[K,V]=h.useState(!1),[T,W]=h.useState([]),[se,ge]=h.useState({}),[ee,te]=h.useState({}),[J,ye]=h.useState([]),[P,B]=h.useState(!1),[E,A]=h.useState(null),[H,q]=h.useState([]),[O,ie]=h.useState(null),[re,me]=h.useState("off"),[xe,De]=h.useState(""),[Ke,ze]=h.useState(0),[Be,er]=h.useState(0),[Ie,rt]=h.useState(null),[mt,Ar]=h.useState(null),[wn,ht]=h.useState([]),[he,Me]=h.useState(!1),[qe,lt]=h.useState(!1),[Ut,kt]=h.useState([]),[Un,kn]=h.useState("disconnected"),_n=h.useRef(null),jn=h.useRef(null),Sn=h.useRef(null),lr=h.useRef(new Set),[cr,fi]=h.useState(null),[ct,_t]=h.useState(null),Ce=h.useRef(null),[Te,He]=h.useState(null),[$e,jt]=h.useState("cash"),[Ve,Fe]=h.useState(0),[At,nt]=h.useState([]),[Xe,Cn]=h.useState({}),[tr,nn]=h.useState(""),[Ca,Na]=h.useState(!1),[Ps,Yp]=h.useState(null),[Pa,Es]=h.useState([]),[eA,Gp]=h.useState(!1),[gr,Xp]=h.useState(null),[Os,As]=h.useState([]),[i0,Qp]=h.useState({}),[Zp,Yc]=h.useState(0),[yr,pi]=h.useState(""),Ds=h.useCallback(j=>{if(!j)return!0;const R=j.match(/^(\d{1,2}):(\d{2})$/);if(!R)return!1;const $=parseInt(R[1],10),D=parseInt(R[2],10);return $>=0&&$<=23&&D>=0&&D<=59},[]),tA=h.useCallback(j=>{let R=j.replace(/[^0-9]/g,"");R.length>4&&(R=R.slice(0,4));let $=R;if(R.length>2&&($=R.slice(0,2)+":"+R.slice(2)),R.length>=2){let D=parseInt(R.slice(0,2),10);D>23&&(D=23);const I=D.toString().padStart(2,"0");if(R.length>2){let Z=parseInt(R.slice(2),10);R.length===4&&Z>59&&(Z=59);const ve=Z.toString().padStart(R.length-2,"0");$=I+":"+ve}else $=I}pi($)},[]),[Ms,Is]=h.useState(""),[Dr,mi]=h.useState("pickup"),[Ts,Rs]=h.useState(""),[hi,s0]=h.useState(null),[rA,l0]=h.useState(!1),[Ea,c0]=h.useState(null),[Uo,Gc]=h.useState([]),[Xc,zs]=h.useState(""),[u0,Jp]=h.useState(""),[Oa,Qc]=h.useState("pickup"),[d0,em]=h.useState(""),[Ls,tm]=h.useState(null),[f0,Zc]=h.useState([]),rm=h.useMemo(()=>y.filter(j=>j.active),[y]),[vi,p0]=h.useState([]),[nA,oA]=h.useState({}),[aA,iA]=h.useState({}),[sA,lA]=h.useState(new Set),[m0,cA]=h.useState({}),uA=ET(zm(vy,{activationConstraint:{distance:8}}),zm(nC,{activationConstraint:{delay:150,tolerance:5}}),zm(my,{coordinateGetter:n4})),h0=h.useCallback(async()=>{try{await L.init();const j=await L.get("app_settings","default");j?(B(j.pos_layout_locked),j.category_order&&q(j.category_order),me(ea(j)),De(j.kds_url||""),ze(j.delivery_charge||0),er(j.free_delivery_threshold||0),ht(j.hidden_categories||[]),Me(j.hide_combos||!1),console.log("KDS Settings loaded:",{kdsMode:ea(j),kdsUrl:j.kds_url})):console.log("KDS Settings: no settings found in IndexedDB")}catch(j){console.error("Error loading settings:",j)}},[]),v0=h.useCallback(async()=>{const j=e.filter($=>$.uses_materia_prima);if(j.length===0){ge({});return}const R=await Promise.all(j.map(async $=>{const D=await f($.id);return[$.id,D]}));ge(Object.fromEntries(R))},[e,f]);h.useEffect(()=>{if(!e.length||g.size===0){te({});return}const j={};for(const R of e){if(!R.uses_materia_prima)continue;const $=m(R.id);let D=0;for(const I of $)I.is_variable&&I.min_quantity&&I.price_per_unit&&(D+=I.min_quantity*I.price_per_unit);D>0&&(j[R.id]=R.price+D)}te(j)},[e,g,m]);const g0=j=>j.uses_materia_prima&&ee[j.id]?ee[j.id]:j.price,$s=j=>j.uses_materia_prima?se[j.id]||0:j.stock,y0=j=>{const R=j.toLowerCase();return R.includes("triple")?"triple":R.includes("simple")?"simple":"double"},dA=(j,R)=>{for(const $ of j.slots)for(const D of $.product_ids){const I=e.find(Z=>Z.id===D);if(I&&I.category==="hamburguesas"&&y0(I.name)===R)return!0}return!1},x0=J.filter(j=>j.active),b0=Array.from(new Set(x0.map(j=>j.category))).filter(j=>!wn.includes(j)),nm=rm.length>0&&!he?[...b0,"combos"]:b0,gi=H.length>0?[...H.filter(j=>nm.includes(j)),...nm.filter(j=>!H.includes(j))]:nm,Fs=async(j,R=[],$)=>{const D=R.sort().join(","),I=$?$.map(le=>`${le.materia_prima_id}:${le.quantity}`).join(","):"",Z=`${D}|${I}`,ve=_.find(le=>{const Ae=le.removedIngredients.sort().join(","),fe=le.variableIngredients?le.variableIngredients.map(Se=>`${Se.materia_prima_id}:${Se.quantity}`).join(","):"",ke=`${Ae}|${fe}`;return le.id===j.id&&ke===Z}),oe=ve?ve.quantity+1:1,G=$s(j);if(oe>G){de.error("Stock insuficiente");return}if(j.uses_materia_prima&&!await d(j.id)){de.error("Materia prima insuficiente para este producto");return}const ce=$?$.reduce((le,Ae)=>le+Ae.quantity*Ae.unit_price,0):0;N(le=>{const Ae=le.find(fe=>{const ke=fe.removedIngredients.sort().join(","),Se=fe.variableIngredients?fe.variableIngredients.map(Qe=>`${Qe.materia_prima_id}:${Qe.quantity}`).join(","):"",Ye=`${ke}|${Se}`;return fe.id===j.id&&Ye===Z});return Ae?le.map(fe=>fe.cartItemId===Ae.cartItemId?{...fe,quantity:fe.quantity+1}:fe):[...le,{...j,price:j.price+ce,quantity:1,cartItemId:crypto.randomUUID(),removedIngredients:R,variableIngredients:$}]}),de.success(`${j.name} agregado`)},fA=j=>{if(!j.uses_materia_prima){Fs(j);return}const R=m(j.id);if(R.length===0){Fs(j);return}const $=R.filter(I=>I.removable===!0||I.is_variable===!0);if($.length===0){Fs(j);return}const D=$.map(I=>{const Z=v.find(ve=>ve.id===I.materia_prima_id);return{id:I.materia_prima_id,name:(Z==null?void 0:Z.name)||"Desconocido",removed:!1,is_variable:I.is_variable,min_quantity:I.min_quantity,max_quantity:I.max_quantity,default_quantity:I.default_quantity,price_per_unit:I.price_per_unit,selected_quantity:I.default_quantity??1}});Es(D),Yp(j),Na(!0)},pA=j=>{Es(R=>R.map($=>$.id===j?{...$,removed:!$.removed}:$))},w0=(j,R)=>{Es($=>$.map(D=>{if(D.id!==j||!D.is_variable)return D;const I=Math.max(D.min_quantity??0,Math.min(D.max_quantity??99,(D.selected_quantity??1)+R));return{...D,selected_quantity:I}}))},mA=()=>{if(!Ps)return;const j=Pa.filter($=>$.removed&&!$.is_variable).map($=>$.name),R=Pa.filter($=>$.is_variable&&($.selected_quantity??0)>0).map($=>({materia_prima_id:$.id,name:$.name,quantity:$.selected_quantity??$.default_quantity??1,unit_price:$.price_per_unit??0}));Fs(Ps,j,R.length>0?R:void 0),Na(!1),Yp(null),Es([])},k0=()=>{Na(!1),Yp(null),Es([])},hA=async j=>{Xp(j);const R={};for(const I of j.slots)R[I.id]=await w(I);Qp(R);const $=await b(j);As($);const D=await x(j,$.map(I=>({productId:I.productId,quantity:1})));Yc(D),Gp(!0)},vA=async(j,R,$)=>{var oe;const D=gr==null?void 0:gr.slots.find(G=>G.id===j),I=(oe=i0[j])==null?void 0:oe.find(G=>G.id===$);if(!D||!I)return;const Z=[...Os];let ve=0;for(let G=0;G<Z.length;G++)if(Z[G].slotId===j){if(ve===R){Z[G]={...Z[G],productId:I.id,productName:I.name,productPrice:I.price,removedIngredients:[]};break}ve++}if(As(Z),gr){const G=await x(gr,Z.map(ce=>({productId:ce.productId,quantity:1})));Yc(G)}},_0=j=>j.map(R=>{const $=(R.removedIngredients||[]).slice().sort().join(",");return`${R.slotId}:${R.productId}:${$}`}).join("|"),gA=async()=>{if(!gr)return;const j=new Map;for(const D of Os){const I=j.get(D.productId)||0;j.set(D.productId,I+1)}for(const D of _)if(D.isCombo&&D.comboSelections)for(const I of D.comboSelections){const Z=j.get(I.productId)||0;j.set(I.productId,Z+D.quantity)}else if(!D.isCombo){const I=j.get(D.id)||0;j.set(D.id,I+D.quantity)}for(const[D,I]of j){const Z=e.find(oe=>oe.id===D);if(!Z)continue;const ve=Z.uses_materia_prima?await f(D):Z.stock;if(I>ve){de.error("Stock insuficiente");return}}const R=_0(Os),$=_.find(D=>D.isCombo&&D.comboId===gr.id&&D.comboSelections&&_0(D.comboSelections)===R);if($)N(D=>D.map(I=>I.cartItemId===$.cartItemId?{...I,quantity:I.quantity+1}:I));else{const D={id:gr.id,name:gr.name,price:Zp,category:"combos",stock:999,active:!0,production_cost:0,uses_materia_prima:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),quantity:1,cartItemId:`combo_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,removedIngredients:[],isCombo:!0,comboId:gr.id,comboName:gr.name,comboSelections:Os};N(I=>[...I,D])}de.success(`${gr.name} agregado`),Gp(!1),Xp(null),As([]),Qp({}),Yc(0)},j0=()=>{Gp(!1),Xp(null),As([]),Qp({}),Yc(0)},S0=j=>{N(R=>{const $=R.filter(D=>D.cartItemId!==j);return $.length===0&&(z(!1),ae(0),F(null),W([]),M("cash")),$})},C0=async(j,R)=>{const $=_.find(D=>D.cartItemId===j);if($){if(R<=0){S0(j);return}if($.isCombo&&$.comboSelections){if(R>$.quantity){const D=new Map;for(const I of $.comboSelections){const Z=D.get(I.productId)||0;D.set(I.productId,Z+R)}for(const I of _)if(I.cartItemId!==j){if(I.isCombo&&I.comboSelections)for(const Z of I.comboSelections){const ve=D.get(Z.productId)||0;D.set(Z.productId,ve+I.quantity)}else if(!I.isCombo){const Z=D.get(I.id)||0;D.set(I.id,Z+I.quantity)}}for(const[I,Z]of D){const ve=e.find(G=>G.id===I);if(!ve)continue;const oe=ve.uses_materia_prima?await f(I):ve.stock;if(Z>oe){de.error("Stock insuficiente");return}}}}else{const D=$s($);if(R>D){de.error("Stock insuficiente");return}if($.uses_materia_prima&&!await d($.id)){de.error("Materia prima insuficiente para esta cantidad");return}}N(D=>D.map(I=>I.cartItemId===j?{...I,quantity:R}:I))}},Jc=_.reduce((j,R)=>j+R.price*R.quantity,0),om=Be>0&&Jc>=Be,io=Dr==="delivery"&&!om?Ke:0,on=Jc+io,yi=Y-on,yA=j=>{ae(R=>{const $=R+j,D=$-on;if(W(I=>[...I,j]),$>=on){const I=s(D);F(I)}else F(null);return $})},xA=()=>{W(j=>{if(j.length===0)return j;const R=j[j.length-1];return ae($=>{const D=Math.max(0,$-R),I=D-on;if(D>=on){const Z=s(I);F(Z)}else F(null);return D}),j.slice(0,-1)})},bA=()=>{ae(0),F(null),W([])},N0=async(j,R,$,D,I,Z,ve)=>{try{await L.init();const oe=await L.get("app_settings","default"),G=ea(oe);if(G==="off")return;const ce={sale_number:j,items:R.map(le=>{var Ae;return{product_name:le.product_name,quantity:le.quantity,product_price:le.product_price,removed_ingredients:le.removedIngredients||[],combo_name:le.combo_name||null,category:le.category||"otros",variable_ingredients:((Ae=le.variableIngredients)==null?void 0:Ae.map(fe=>({name:fe.name,quantity:fe.quantity})))||null}}),total:$,payment_method:U,scheduled_time:D,customer_name:I||null,order_type:Z||null,delivery_address:Z==="delivery"&&ve||null,created_at:new Date().toISOString()};if(G==="local"){const le={id:crypto.randomUUID(),...ce,status:"pending"};await L.put("kds_orders",le)}else{if(!(oe!=null&&oe.kds_url))return;const le=await fetch(`${oe.kds_url}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)});le.ok||console.error("Failed to send order to KDS:",le.statusText)}}catch(oe){console.error("Error sending order to KDS:",oe)}},P0=j=>[...j].sort((R,$)=>{const D=!!R.scheduled_time,I=!!$.scheduled_time;return!D&&I?-1:D&&!I?1:!D&&!I?new Date(R.created_at).getTime()-new Date($.created_at).getTime():new Date(R.scheduled_time).getTime()-new Date($.scheduled_time).getTime()}),xi=h.useCallback(async()=>{await L.init();const j=await L.get("app_settings","default"),R=ea(j);if(R==="off"){console.log("fetchKdsOrders: skipped (disabled)");return}if(R==="local"){try{const I=(await L.getAll("kds_orders")).filter(Z=>Z.status==="pending"||Z.status==="on_delivery");kt(P0(I)),console.log("fetchKdsOrders (local): loaded",I.length,"orders")}catch(D){console.error("Error loading local KDS orders:",D)}return}const $=(j==null?void 0:j.kds_url)||"";if(!$){console.log("fetchKdsOrders: skipped (no URL)");return}console.log("fetchKdsOrders: fetching from",$);try{const D=await fetch(`${$}/api/orders?status=pending,on_delivery`);if(D.ok){const Z=((await D.json()).orders||[]).filter(ve=>ve.status==="pending"||ve.status==="on_delivery");Z.forEach(ve=>{ve.status==="completed"&&!lr.current.has(ve.id)&&(lr.current.add(ve.id),setTimeout(()=>{kt(oe=>oe.filter(G=>G.id!==ve.id)),lr.current.delete(ve.id)},2e3))}),kt(P0(Z)),console.log("fetchKdsOrders: received",Z.length,"orders")}else console.error("fetchKdsOrders: request failed",D.status,D.statusText),de.error(`Error al cargar pedidos: ${D.status}`)}catch(D){const I=D instanceof Error?D.message:String(D);console.error("Error fetching KDS orders:",I,D),de.error(`Error de conexin con KDS: ${I}`)}},[]),am=h.useCallback(async()=>{await L.init();const j=await L.get("app_settings","default");if(ea(j)!=="server"){console.log("KDS WebSocket: skipped (mode is not server)");return}const $=(j==null?void 0:j.kds_url)||"";if(!$){console.log("KDS WebSocket: no URL configured");return}jn.current&&jn.current.close();const D=$.replace(/^http/,"ws");console.log("KDS WebSocket: connecting to",D),kn("connecting");try{const I=new WebSocket(D);I.onopen=()=>{console.log("KDS WebSocket connected"),kn("connected")},I.onmessage=Z=>{try{const ve=JSON.parse(Z.data);ve.type==="new_order"?(ve.order.status==="pending"||ve.order.status==="on_delivery")&&kt(oe=>oe.some(ce=>ce.id===ve.order.id)?oe:[ve.order,...oe].sort((ce,le)=>{const Ae=!!ce.scheduled_time,fe=!!le.scheduled_time;return!Ae&&fe?-1:Ae&&!fe?1:!Ae&&!fe?new Date(ce.created_at).getTime()-new Date(le.created_at).getTime():new Date(ce.scheduled_time).getTime()-new Date(le.scheduled_time).getTime()})):ve.type==="order_updated"?kt(oe=>(ve.status==="completed"&&setTimeout(()=>{kt(G=>G.filter(ce=>ce.id!==ve.orderId))},500),oe.map(G=>G.id===ve.orderId?{...G,status:ve.status}:G))):ve.type==="order_full_update"?kt(oe=>oe.map(G=>G.id===ve.order.id?ve.order:G)):ve.type==="order_deleted"&&kt(oe=>oe.filter(G=>G.id!==ve.orderId))}catch(ve){console.error("Error parsing KDS WebSocket message:",ve)}},I.onclose=()=>{console.log("KDS WebSocket disconnected"),jn.current=null,kn("disconnected"),qe&&(Sn.current=setTimeout(()=>{am()},3e3))},I.onerror=Z=>{console.error("KDS WebSocket error:",Z),kn("error")},jn.current=I}catch(I){console.error("Error creating KDS WebSocket:",I)}},[qe]),eu=async(j,R)=>{const $=async()=>{const D=Ut.find(I=>I.id===j);if(R==="completed"&&(lr.current.add(j),setTimeout(()=>{kt(I=>I.filter(Z=>Z.id!==j)),lr.current.delete(j)},2e3),D&&D.order_type==="delivery"))try{const I=o.find(Z=>Z.sale_number===D.sale_number);I&&await i(I.id,{delivered_at:new Date().toISOString()})}catch(I){console.error("Error updating sale delivered_at:",I)}kt(I=>I.map(Z=>Z.id===j?{...Z,status:R,finished_at:R==="completed"?new Date().toISOString():void 0}:Z))};if(re==="local"){try{await L.init();const D=await L.get("kds_orders",j);D&&await L.put("kds_orders",{...D,status:R,finished_at:R==="completed"?new Date().toISOString():void 0}),await $()}catch(D){console.error("Error updating local KDS order status:",D)}return}if(xe)try{(await fetch(`${xe}/api/orders/${j}/status`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:R})})).ok&&await $()}catch(D){console.error("Error updating KDS order status:",D),de.error("Error al actualizar el estado del pedido")}},E0=async(j,R,$)=>{const D=Ut.find(G=>G.id===j);if(!D)return;const I=D.items[R];if(!I)return;const Z=I.removed_ingredients||[],ve=Z.includes($)?Z.filter(G=>G!==$):[...Z,$],oe=[...D.items];if(oe[R]={...I,removed_ingredients:ve},kt(G=>G.map(ce=>ce.id===j?{...ce,items:oe}:ce)),re==="local"){try{await L.init();const G=await L.get("kds_orders",j);G&&await L.put("kds_orders",{...G,items:oe})}catch(G){kt(ce=>ce.map(le=>le.id===j?D:le)),console.error("Error updating local KDS order ingredients:",G),de.error("Error al actualizar ingredientes")}return}if(xe)try{(await fetch(`${xe}/api/orders/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:oe,total:D.total})})).ok||(kt(ce=>ce.map(le=>le.id===j?D:le)),de.error("Error al actualizar ingredientes"))}catch(G){kt(ce=>ce.map(le=>le.id===j?D:le)),console.error("Error updating KDS order ingredients:",G),de.error("Error al actualizar ingredientes")}},O0=async(j,R)=>{const $=Ut.find(D=>D.id===j);if($){if(kt(D=>D.map(I=>I.id===j?{...I,delivery_address:R}:I)),re==="local"){try{await L.init();const D=await L.get("kds_orders",j);D&&await L.put("kds_orders",{...D,delivery_address:R}),de.success("Direccin actualizada"),_t(null)}catch(D){kt(I=>I.map(Z=>Z.id===j?$:Z)),console.error("Error updating local KDS order address:",D),de.error("Error al actualizar direccin")}return}if(xe)try{(await fetch(`${xe}/api/orders/${j}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({delivery_address:R})})).ok?(de.success("Direccin actualizada"),_t(null)):(kt(I=>I.map(Z=>Z.id===j?$:Z)),de.error("Error al actualizar direccin"))}catch(D){kt(I=>I.map(Z=>Z.id===j?$:Z)),console.error("Error updating KDS order address:",D),de.error("Error al actualizar direccin")}}},wA=async j=>{try{const R=j.items.map($=>({...$,removed_ingredients:[...$.removed_ingredients||[]]}));if(c0(j),Gc(R),j.scheduled_time){const $=new Date(j.scheduled_time),D=$.getHours().toString().padStart(2,"0"),I=$.getMinutes().toString().padStart(2,"0");zs(`${D}:${I}`)}else zs("");Jp(j.customer_name||""),Qc(j.order_type||"pickup"),em(j.delivery_address||""),l0(!0)}catch(R){console.error("Error loading order for edit:",R),de.error("Error al cargar el pedido")}},tu=()=>{l0(!1),c0(null),Gc([]),zs(""),Jp(""),Qc("pickup"),em("")},A0=(j,R)=>{Gc($=>{const D=[...$],I=D[j].quantity+R;return I<1?D.splice(j,1):D[j]={...D[j],quantity:I},D})},kA=async()=>{if(Ea)try{const j=Uo.reduce((I,Z)=>I+Z.product_price*Z.quantity,0);let R=null;if(Xc){const I=new Date,[Z,ve]=Xc.split(":").map(Number);I.setHours(Z,ve,0,0),I<new Date&&I.setDate(I.getDate()+1),R=I.toISOString()}const $={items:Uo,total:j,scheduled_time:R,customer_name:u0||null,order_type:Oa,delivery_address:Oa==="delivery"&&d0||null};if(re==="local"){await L.init();const I=await L.get("kds_orders",Ea.id);I&&await L.put("kds_orders",{...I,...$}),de.success(`Pedido #${Ea.sale_number} actualizado`),tu(),xi();return}if(!xe)return;if((await fetch(`${xe}/api/orders/${Ea.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify($)})).ok)de.success(`Pedido #${Ea.sale_number} actualizado`),tu(),xi();else throw new Error("Failed to update order")}catch(j){console.error("Error saving order edit:",j),de.error("Error al guardar los cambios")}},ru=j=>m0[j]||[],_A=j=>{const R=Uo[j],$=ru(R.product_name);if($.length===0){de.info("Este producto no tiene ingredientes removibles");return}const D=$.map(I=>({name:I,removed:(R.removed_ingredients||[]).includes(I)}));tm(j),Zc(D)},jA=j=>{Zc(R=>R.map($=>$.name===j?{...$,removed:!$.removed}:$))},SA=()=>{if(Ls===null)return;const j=f0.filter(R=>R.removed).map(R=>R.name);Gc(R=>{const $=[...R];return $[Ls]={...$[Ls],removed_ingredients:j},$}),tm(null),Zc([])},D0=()=>{tm(null),Zc([])},M0=()=>{s0(null),N([]),pi(""),Is(""),mi("pickup"),Rs(""),ae(0),F(null),W([]),M("cash"),z(!1)},CA=async()=>{if(_.length!==0){if(U==="cash"){if(Y<on)return;if(yi>0&&!Q){de.error("No se puede dar cambio exacto con los billetes disponibles");return}}V(!0);try{const j=[];for(const G of _)if(G.isCombo&&G.comboSelections)for(let ce=0;ce<G.quantity;ce++){const le=`${G.cartItemId}-${ce}`;for(let Ae=0;Ae<G.comboSelections.length;Ae++){const fe=G.comboSelections[Ae],ke=e.find(Se=>Se.id===fe.productId);j.push({product_id:fe.productId,product_name:fe.productName,product_price:fe.productPrice,production_cost:(ke==null?void 0:ke.production_cost)||0,quantity:1,removedIngredients:fe.removedIngredients||[],category:(ke==null?void 0:ke.category)||"otros",combo_name:G.comboName,combo_instance_id:le,combo_slot_index:Ae,combo_unit_price:G.price})}}else j.push({product_id:G.id,product_name:G.name,product_price:G.price,production_cost:G.production_cost,quantity:G.quantity,removedIngredients:G.removedIngredients||[],category:G.category,variableIngredients:G.variableIngredients});let R;U==="cash"&&Q&&(R={},Q.forEach(G=>{R[G.bill_value]=G.quantity}));let $;if(yr){const G=new Date,[ce,le]=yr.split(":").map(Number);G.setHours(ce,le,0,0),G<new Date&&G.setDate(G.getDate()+1),$=G.toISOString()}const D=await a(j,U,U==="cash"?Y:void 0,void 0,R,$,Ms||void 0,Dr,Dr==="delivery"&&Ts||void 0,io>0?io:void 0),I=new Map,Z=new Map,ve=(G,ce,le,Ae)=>{const fe=m(G),ke=new Map;for(const Se of fe)if(Se.is_variable){const Ye=Ae==null?void 0:Ae.find(Qe=>Qe.materia_prima_id===Se.materia_prima_id);Ye&&ke.set(Se.materia_prima_id,Ye.quantity)}for(const Se of fe){if(le&&le.length>0){const Qe=v.find(Ze=>Ze.id===Se.materia_prima_id);if(Qe&&le.includes(Qe.name))continue}if(Se.is_variable){const Qe=Ae==null?void 0:Ae.find(Ze=>Ze.materia_prima_id===Se.materia_prima_id);if(Qe){const Ze=Z.get(Se.materia_prima_id)||0;Z.set(Se.materia_prima_id,Ze+Qe.quantity*ce)}continue}if(Se.linked_to&&Se.linked_multiplier){const Qe=ke.get(Se.linked_to);if(Qe!==void 0){const Ze=(Qe*Se.linked_multiplier+(Se.quantity||0))*ce,Dt=Z.get(Se.materia_prima_id)||0;Z.set(Se.materia_prima_id,Dt+Ze)}continue}const Ye=Z.get(Se.materia_prima_id)||0;Z.set(Se.materia_prima_id,Ye+Se.quantity*ce)}};for(const G of _)if(!G.isCombo)if(G.uses_materia_prima)ve(G.id,G.quantity,G.removedIngredients,G.variableIngredients);else{const ce=I.get(G.id)||0;I.set(G.id,ce+G.quantity)}const oe=_.filter(G=>G.isCombo&&G.comboSelections);for(const G of oe)for(const ce of G.comboSelections){const le=e.find(Ae=>Ae.id===ce.productId);if(le)if(le.uses_materia_prima)ve(ce.productId,G.quantity,ce.removedIngredients||[],ce.variableIngredients);else{const Ae=I.get(ce.productId)||0;I.set(ce.productId,Ae+G.quantity)}}for(const[G,ce]of I)await n(G,-ce);for(const[G,ce]of Z){const le=await L.get("materia_prima",G);if(le){const Ae=le.stock-ce;Ae>=0&&await L.put("materia_prima",{...le,stock:Ae,updated_at:new Date().toISOString()})}}if(U==="cash"&&D){const G=await u(T,D.id);Q&&Q.length>0&&await c(Q,D.id);const ce={...D,bills_received:G};await L.init(),await L.put("sales",ce)}D&&(await N0(D.sale_number,j,on,$,Ms||void 0,Dr,Ts||void 0),await S()),await t(),await p(),hi&&(await eu(hi,"completed"),s0(null)),N([]),ae(0),F(null),z(!1),M("cash"),W([]),pi(""),Is(""),mi("pickup"),Rs(""),ie(G=>G!==null?G+1:G),de.success(hi?"Pedido actualizado!":"Venta completada!")}catch(j){console.error("Error completing sale:",j),de.error("Error al completar la venta")}finally{V(!1)}}},NA=async()=>{if(_.length!==0){V(!0);try{const j=[];for(const oe of _)if(oe.isCombo&&oe.comboSelections)for(let G=0;G<oe.quantity;G++){const ce=`${oe.cartItemId}-${G}`;for(let le=0;le<oe.comboSelections.length;le++){const Ae=oe.comboSelections[le],fe=e.find(ke=>ke.id===Ae.productId);j.push({product_id:Ae.productId,product_name:Ae.productName,product_price:Ae.productPrice,production_cost:(fe==null?void 0:fe.production_cost)||0,quantity:1,removedIngredients:Ae.removedIngredients||[],category:(fe==null?void 0:fe.category)||"otros",combo_name:oe.comboName,combo_instance_id:ce,combo_slot_index:le,combo_unit_price:oe.price})}}else j.push({product_id:oe.id,product_name:oe.name,product_price:oe.price,production_cost:oe.production_cost,quantity:oe.quantity,removedIngredients:oe.removedIngredients||[],category:oe.category,variableIngredients:oe.variableIngredients});let R;if(yr){const oe=new Date,[G,ce]=yr.split(":").map(Number);oe.setHours(G,ce,0,0),oe<new Date&&oe.setDate(oe.getDate()+1),R=oe.toISOString()}const $=await a(j,"unpaid",void 0,void 0,void 0,R,Ms||void 0,Dr,Dr==="delivery"&&Ts||void 0,io>0?io:void 0),D=new Map,I=new Map,Z=(oe,G,ce,le)=>{const Ae=m(oe),fe=new Map;for(const ke of Ae)if(ke.is_variable){const Se=le==null?void 0:le.find(Ye=>Ye.materia_prima_id===ke.materia_prima_id);Se&&fe.set(ke.materia_prima_id,Se.quantity)}for(const ke of Ae){if(ce&&ce.length>0){const Ye=v.find(Qe=>Qe.id===ke.materia_prima_id);if(Ye&&ce.includes(Ye.name))continue}if(ke.is_variable){const Ye=le==null?void 0:le.find(Qe=>Qe.materia_prima_id===ke.materia_prima_id);if(Ye){const Qe=I.get(ke.materia_prima_id)||0;I.set(ke.materia_prima_id,Qe+Ye.quantity*G)}continue}if(ke.linked_to&&ke.linked_multiplier){const Ye=fe.get(ke.linked_to);if(Ye!==void 0){const Qe=(Ye*ke.linked_multiplier+(ke.quantity||0))*G,Ze=I.get(ke.materia_prima_id)||0;I.set(ke.materia_prima_id,Ze+Qe)}continue}const Se=I.get(ke.materia_prima_id)||0;I.set(ke.materia_prima_id,Se+ke.quantity*G)}};for(const oe of _)if(!oe.isCombo)if(oe.uses_materia_prima)Z(oe.id,oe.quantity,oe.removedIngredients,oe.variableIngredients);else{const G=D.get(oe.id)||0;D.set(oe.id,G+oe.quantity)}const ve=_.filter(oe=>oe.isCombo&&oe.comboSelections);for(const oe of ve)for(const G of oe.comboSelections){const ce=e.find(le=>le.id===G.productId);if(ce)if(ce.uses_materia_prima)Z(G.productId,oe.quantity,G.removedIngredients||[],G.variableIngredients);else{const le=D.get(G.productId)||0;D.set(G.productId,le+oe.quantity)}}for(const[oe,G]of D)await n(oe,-G);for(const[oe,G]of I){const ce=await L.get("materia_prima",oe);if(ce){const le=ce.stock-G;le>=0&&await L.put("materia_prima",{...ce,stock:le,updated_at:new Date().toISOString()})}}$&&await N0($.sale_number,j,on,R,Ms,Dr,Ts),N([]),ae(0),F(null),z(!1),M("cash"),W([]),pi(""),Is(""),mi("pickup"),Rs(""),ie(oe=>oe!==null?oe+1:oe),await t(),await p(),de.success("Pedido enviado sin pago!")}catch(j){console.error("Error sending unpaid order:",j),de.error("Error al enviar el pedido")}finally{V(!1)}}},PA=()=>{ae(0),F(null),z(!1),M("cash"),W([])},qo=h.useMemo(()=>{if(!Te)return 0;const j=Xe[Te];return j?Ve-j.total_amount:0},[Te,Ve,Xe]),bi=h.useMemo(()=>{if(qo<=0)return null;let j=qo;const R=[];for(const $ of Wm.slice().reverse())if(j>=$){const D=Math.floor(j/$);R.push({bill_value:$,quantity:D}),j=j%$}return j>0?null:R},[qo]),EA=j=>{Fe(R=>R+j),nt(R=>[...R,j])},OA=()=>{if(At.length>0){const j=At[At.length-1];Fe(R=>R-j),nt(R=>R.slice(0,-1))}},AA=()=>{Fe(0),nt([])},DA=j=>{He(j),jt("cash"),Fe(0),nt([])},I0=()=>{He(null),jt("cash"),Fe(0),nt([])},T0=()=>{if(!Te)return!1;const j=Xe[Te];return j?$e!=="cash"?!0:!(Ve<j.total_amount||qo>0&&!bi):!1},MA=async()=>{if(!Te||!T0())return;const j=Xe[Te];if(j)try{const R={payment_method:$e};if($e==="cash"){if(R.cash_received=Ve,R.change_given=qo,bi){const D={};bi.forEach(I=>{D[I.bill_value.toString()]=I.quantity}),R.bills_change=D}const $={};At.forEach(D=>{$[D.toString()]=($[D.toString()]||0)+1}),R.bills_received=$}await i(j.id,R),Cn($=>{const D={...$};return delete D[Te],D}),I0(),de.success("Pago registrado correctamente!")}catch(R){console.error("Error marking sale as paid:",R),de.error("Error al registrar el pago")}};h.useEffect(()=>{if(qe&&Ut.length>0){const j=Ut.map($=>$.sale_number),R={};o.forEach($=>{j.includes($.sale_number)&&$.payment_method==="unpaid"&&(R[$.sale_number]=$)}),Cn(R)}},[qe,Ut,o]);const IA=()=>_.length===0||yr&&!Ds(yr)?!1:U==="online"||U==="card"||U==="on_delivery"||U==="unpaid"?!0:U==="cash"?!(Y<on||yi>0&&!Q):!1,TA=j=>{A(j.active.id)},im=h.useCallback(async j=>{const R=j??J;try{await Promise.all(R.map(($,D)=>r($.id,{...$,display_order:D})))}catch($){console.error("Error saving product order:",$)}},[J,r]),RA=async j=>{const{active:R,over:$}=j;if(A(null),!$||R.id===$.id)return;const D=R.data.current,I=$.data.current;if((D==null?void 0:D.type)==="category"&&(I==null?void 0:I.type)==="category"){const Z=R.id.replace("category-",""),ve=$.id.replace("category-",""),oe=gi.indexOf(Z),G=gi.indexOf(ve),ce=Ol(gi,oe,G);q(ce);try{await L.init();const le=await L.get("app_settings","default")||{id:"default",pos_layout_locked:P,updated_at:new Date().toISOString()};le.category_order=ce,le.updated_at=new Date().toISOString(),await L.put("app_settings",le)}catch(le){console.error("Error saving category order:",le)}}else if((D==null?void 0:D.type)==="product"&&(I==null?void 0:I.type)==="product"){const Z=J.findIndex(le=>le.id===R.id),ve=J.findIndex(le=>le.id===$.id),oe=J[Z],G=J[ve];if(oe.category!==G.category)return;const ce=Ol(J,Z,ve);ye(ce),await im(ce)}else if((D==null?void 0:D.type)==="combo"&&(I==null?void 0:I.type)==="combo"){const Z=R.id.replace("combo-",""),ve=$.id.replace("combo-",""),oe=vi.findIndex(ce=>ce.id===Z),G=vi.findIndex(ce=>ce.id===ve);if(oe!==-1&&G!==-1){const ce=Ol(vi,oe,G);p0(ce);try{const le=ce.map((Ae,fe)=>({id:Ae.id,display_order:fe}));await k(le)}catch(le){console.error("Error saving combo order:",le)}}}},nu=E&&!E.toString().startsWith("category-")&&!E.toString().startsWith("combo-")?J.find(j=>j.id===E):null,R0=E&&E.toString().startsWith("category-")?E.toString().replace("category-",""):null,Aa=E&&E.toString().startsWith("combo-")?vi.find(j=>j.id===E.toString().replace("combo-","")):null,z0=h.useCallback(async()=>{try{await L.init();const j=await L.getAll("sales"),R=j.length>0?Math.max(...j.map($=>{const D=$.sale_number.replace(/^S-/,"");return parseInt(D)||0})):0;ie(R+1)}catch(j){console.error("Error loading next sale number:",j)}},[]),zA=h.useCallback(async()=>{try{await L.init();const j=!P;j&&await im();const R=await L.get("app_settings","default")||{id:"default",pos_layout_locked:!1,category_order:[],updated_at:new Date().toISOString()},$={...R,pos_layout_locked:j,category_order:H.length>0?H:R.category_order,updated_at:new Date().toISOString()};await L.put("app_settings",$),B(j)}catch(j){console.error("Error toggling POS layout lock:",j),de.error("Error al cambiar el estado del bloqueo")}},[P,H,im]);return h.useEffect(()=>{v0()},[v0]),h.useEffect(()=>{h0(),z0()},[h0,z0]),h.useEffect(()=>{const j=[...e].sort((R,$)=>{const D=R.display_order??999999,I=$.display_order??999999;return D-I});ye(j)},[e]),h.useEffect(()=>{Ie!==null&&Ie!=="combos"&&Ie!=="hamburguesas"&&Ar(null)},[Ie]),h.useEffect(()=>{const R=[...y.filter($=>$.active)].sort(($,D)=>{const I=$.display_order??999999,Z=D.display_order??999999;return I-Z});p0(R)},[y]),h.useEffect(()=>{if(g.size===0)return;const j=new Set,R={};for(const $ of e)if($.uses_materia_prima){const D=m($.id),I=[];for(const Z of D)if(Z.removable){const ve=v.find(oe=>oe.id===Z.materia_prima_id);ve&&I.push(ve.name)}I.length>0&&(j.add($.id),R[$.name]=I)}lA(j),cA(R)},[e,v,g,m]),h.useEffect(()=>{(async()=>{const R={},$={};for(const D of rm){let I=!0,Z=1/0;for(const ve of D.slots){const oe=ve.product_ids||[];let G=!1,ce=0;for(const Ae of oe){const fe=e.find(Se=>Se.id===Ae);if(!fe||!fe.active)continue;const ke=fe.uses_materia_prima?se[Ae]||0:fe.stock;ke>0&&(G=!0),ke>ce&&(ce=ke)}const le=Math.floor(ce/(ve.quantity||1));if(le<Z&&(Z=le),!G&&oe.length>0){I=!1;break}}R[D.id]=I,$[D.id]=I&&Z!==1/0?Z:0}oA(R),iA($)})()},[rm,e,se]),h.useEffect(()=>(qe&&(xi(),re==="server"?(am(),_n.current=setInterval(xi,1e4)):re==="local"&&(_n.current=setInterval(xi,3e3))),()=>{_n.current&&(clearInterval(_n.current),_n.current=null),jn.current&&(jn.current.close(),jn.current=null),Sn.current&&(clearTimeout(Sn.current),Sn.current=null)}),[qe,re,xi,am]),h.useEffect(()=>{ct&&Ce.current&&Ce.current.focus()},[ct]),l.jsxs(C3,{sensors:uA,collisionDetection:DT,onDragStart:TA,onDragEnd:RA,children:[l.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"flex-1 overflow-auto scrollbar-hide relative",children:[l.jsxs("div",{className:"sticky top-0 z-20",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"px-6 pb-1 pt-3 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide flex-1",children:[l.jsx("button",{onClick:()=>rt(null),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:Ie===null?"var(--color-accent)":"var(--color-background-secondary)",color:Ie===null?"var(--color-on-accent)":"var(--color-text)"},children:"Todos"}),gi.map(j=>l.jsx("button",{onClick:()=>rt(j),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all capitalize",style:{backgroundColor:Ie===j?"var(--color-accent)":"var(--color-background-secondary)",color:Ie===j?"var(--color-on-accent)":"var(--color-text)"},children:j},j))]}),l.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[l.jsx("button",{type:"button",onClick:zA,className:"p-2 transition-transform","aria-label":P?"Desbloquear diseo del POS":"Bloquear diseo del POS",children:P?l.jsx(SI,{size:20,style:{color:"var(--color-accent)"}}):l.jsx(RI,{size:20,style:{color:"var(--color-accent)"}})}),re!=="off"&&l.jsx("button",{type:"button",onClick:()=>lt(!0),className:"p-2 transition-transform","aria-label":"Ver pedidos KDS",children:l.jsx(iy,{size:20,style:{color:"var(--color-accent)"}})})]})]}),(Ie===null||Ie==="combos"||Ie==="hamburguesas")&&l.jsxs("div",{className:"px-6 pt-1 pb-3 flex gap-2 overflow-x-auto scrollbar-hide",children:[l.jsx("button",{onClick:()=>Ar(null),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt===null?"var(--color-accent)":"var(--color-background-secondary)",color:mt===null?"var(--color-on-accent)":"var(--color-text)"},children:"Todos"}),l.jsx("button",{onClick:()=>Ar("simple"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="simple"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="simple"?"var(--color-on-accent)":"var(--color-text)"},children:"Simple"}),l.jsx("button",{onClick:()=>Ar("double"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="double"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="double"?"var(--color-on-accent)":"var(--color-text)"},children:"Doble"}),l.jsx("button",{onClick:()=>Ar("triple"),className:"px-4 py-2 rounded-lg font-semibold text-sm whitespace-nowrap transition-all",style:{backgroundColor:mt==="triple"?"var(--color-accent)":"var(--color-background-secondary)",color:mt==="triple"?"var(--color-on-accent)":"var(--color-text)"},children:"Triple"})]})]}),l.jsx("div",{className:"p-6 pt-0",children:l.jsx(Bm,{items:gi.map(j=>`category-${j}`),disabled:P,children:gi.filter(j=>Ie===null||j===Ie).map(j=>{if(j==="combos"){let D=vi;mt!==null&&(D=vi.filter(Z=>dA(Z,mt)));const I=D.map(Z=>`combo-${Z.id}`);return l.jsx(gw,{category:"combos",isLocked:P,children:l.jsx(Bm,{items:I,strategy:$d,disabled:P,children:l.jsx("div",{className:`grid gap-4 ${C?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-3"}`,children:D.map(Z=>l.jsx(G4,{combo:Z,isLocked:P,onOpenComboModal:hA,isOutOfStock:nA[Z.id]===!1,stockCount:aA[Z.id]||0},Z.id))})})},"combos")}const R=x0.filter(D=>!(D.category!==j||j==="hamburguesas"&&mt!==null&&y0(D.name)!==mt)),$=R.map(D=>D.id);return l.jsx(gw,{category:j,isLocked:P,children:l.jsx(Bm,{items:$,strategy:$d,disabled:P,children:l.jsx("div",{className:`grid gap-4 ${C?"grid-cols-1 sm:grid-cols-2":"grid-cols-2 md:grid-cols-3 lg:grid-cols-3"}`,children:R.map(D=>l.jsx(Y4,{product:D,isLocked:P,onAddToCart:I=>Fs(I),onLongPress:fA,getStock:$s,displayPrice:g0(D),hasRemovableIngredients:sA.has(D.id),isOutOfStock:$s(D)<=0},D.id))})})},j)})})})]}),l.jsxs("div",{className:`shadow-xl p-6 flex flex-col transition-all duration-300 ${C?"w-[600px]":"w-96"}`,style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("div",{className:"text-sm font-semibold",style:{color:"var(--color-text)"},children:hi?l.jsxs("span",{className:"flex items-center gap-2",style:{color:"var(--color-accent)"},children:[l.jsx(wu,{size:14}),"Editando Pedido"]}):l.jsxs(l.Fragment,{children:["Venta #",O!==null?O.toLocaleString("es-AR"):"..."]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[hi&&l.jsx("button",{onClick:M0,className:"text-xs px-2 py-1 rounded hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),_.length>0&&l.jsx("button",{onClick:()=>{hi?M0():(N([]),z(!1),ae(0),F(null),W([]),M("cash"),pi(""),Is(""),mi("pickup"),Rs(""))},className:"text-red-500 hover:text-red-700",children:l.jsx(ri,{size:20})})]})]}),l.jsxs("div",{className:`flex-1 flex ${C?"gap-6":"flex-col"} overflow-hidden`,children:[l.jsx("div",{className:`${C?"w-2/4 border-r pr-4":"flex-1"} overflow-auto scrollbar-hide ${C?"":"mb-6"}`,style:{borderColor:C?"var(--color-background-accent)":"transparent"},children:_.length===0?l.jsx("div",{className:"text-center opacity-60 mt-12",style:{color:"var(--color-text)"},children:"El carrito est vaco"}):l.jsxs("div",{className:"space-y-3",children:[C&&l.jsxs("div",{className:"text-sm font-semibold mb-3 pb-2 border-b",style:{color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:["Resumen del Pedido (",_.reduce((j,R)=>j+R.quantity,0)," ","items)"]}),_.map(j=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`font-semibold ${C?"text-sm":""}`,style:{color:"var(--color-text)"},children:j.name}),j.isCombo&&l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"COMBO"})]}),!C&&l.jsx("button",{onClick:()=>S0(j.cartItemId),className:"text-red-500",children:l.jsx(wr,{size:18})})]}),j.isCombo&&j.comboSelections&&l.jsx("div",{className:"text-xs mb-2 pl-2 border-l-2",style:{borderColor:"var(--color-accent)",color:"var(--color-text)",opacity:.8},children:j.comboSelections.map((R,$)=>l.jsxs("div",{className:"mb-0.5",children:[l.jsxs("span",{className:"font-medium",children:[R.slotName,":"]})," ",R.productName,R.removedIngredients.length>0&&l.jsxs("span",{className:"italic ml-1",style:{color:"var(--color-primary)"},children:["(sin ",R.removedIngredients.join(", "),")"]})]},$))}),!j.isCombo&&j.removedIngredients.length>0&&l.jsxs("div",{className:"text-xs mb-2 italic",style:{color:"var(--color-primary)"},children:["Sin: ",j.removedIngredients.join(", ")]}),l.jsxs("div",{className:"flex items-center justify-between",children:[C?l.jsxs("span",{className:"text-sm opacity-70",style:{color:"var(--color-text)"},children:["x",it(j.quantity)]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>C0(j.cartItemId,j.quantity-1),className:"w-8 h-8 rounded",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)"},children:"-"}),l.jsx("span",{className:"w-8 text-center",style:{color:"var(--color-text)"},children:it(j.quantity)}),l.jsx("button",{onClick:()=>C0(j.cartItemId,j.quantity+1),className:"w-8 h-8 rounded",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)"},children:"+"})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(j.price*j.quantity)})]})]},j.cartItemId))]})}),C&&l.jsxs("div",{className:"w-3/4 overflow-auto scrollbar-hide flex flex-col",children:[io>0&&l.jsxs("div",{className:"mb-2 text-sm",style:{color:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsx("span",{children:pe(Jc)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cargo por Delivery:"}),l.jsx("span",{children:pe(io)})]})]}),Dr==="delivery"&&om&&Ke>0&&l.jsxs("div",{className:"mb-2 text-sm flex justify-between",style:{color:"var(--color-accent)"},children:[l.jsx("span",{children:"Delivery Gratis"}),l.jsx("span",{className:"line-through opacity-60",children:pe(Ke)})]}),l.jsxs("div",{className:"flex justify-between text-xl font-bold mb-4 pb-3 border-b",style:{color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{style:{color:"var(--color-primary)"},children:pe(on)})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("div",{className:"text-sm mb-2",style:{color:"var(--color-text)"},children:"Mtodo de Pago:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>{M("cash"),ae(0),F(null),W([])},className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:U==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Ad,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>M("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:U==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Md,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>M("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:U==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(jl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>M("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:U==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xr,{size:16}),"En Entrega"]})]})]}),U==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsxs("div",{className:"flex gap-2",children:[T.length>0&&l.jsx("button",{onClick:xA,className:"text-xs px-2 py-1 rounded border flex items-center gap-1",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-accent)",color:"var(--color-accent)"},children:l.jsx(TI,{size:12})}),Y>0&&l.jsx("button",{onClick:bA,className:"text-xs px-2 py-1 rounded flex items-center gap-1",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:l.jsx(OI,{size:12})})]})]}),l.jsx("div",{className:"text-2xl font-bold mb-2",style:{color:"var(--color-accent)"},children:pe(Y)}),l.jsxs("div",{className:"text-sm mb-2",style:{color:"var(--color-text)"},children:["Cambio:"," ",l.jsx("span",{className:"font-bold",children:yi>=0?pe(yi):"$0"})]}),Q&&yi>0&&l.jsxs("div",{className:"mt-2 p-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:[l.jsx("div",{className:"text-xs font-semibold mb-1",style:{color:"var(--color-accent)"},children:"Entregar cambio:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Q.map(j=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[it(j.quantity),"x"," ",pe(j.bill_value)]},j.bill_value))})]}),yi>0&&!Q&&Y>=on&&l.jsx("div",{className:"mt-2 p-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-primary)"},children:l.jsx("div",{className:"text-xs",style:{color:"var(--color-primary)"},children:"No se puede dar cambio exacto"})}),l.jsx("div",{className:"mt-3",children:l.jsx("div",{className:"grid grid-cols-5 gap-1",children:Wm.map(j=>l.jsxs("button",{onClick:()=>yA(j),className:"py-1.5 px-1 rounded text-xs font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:["+",pe(j)]},j))})})]}),U!=="cash"&&l.jsx("div",{className:"mb-4 p-3 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"text-center",style:{color:"var(--color-accent)"},children:[l.jsx(jl,{size:24,className:"mx-auto mb-1"}),l.jsx("div",{className:"text-sm font-semibold",children:U==="online"?"Transferencia":U==="card"?"Tarjeta":"Contra Entrega"})]})}),l.jsxs("div",{className:"space-y-2 mt-auto",children:[l.jsx("button",{onClick:CA,disabled:!IA()||K,className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:K?"Procesando...":"Completar Venta"}),l.jsx("button",{onClick:NA,disabled:_.length===0||K||yr!==""&&!Ds(yr),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:K?"Procesando...":"Enviar Sin Pago"}),l.jsx("button",{onClick:PA,className:"w-full py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Volver"})]})]})]}),!C&&l.jsxs("div",{className:"border-t pt-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(_l,{size:16}),l.jsx("span",{children:"Hora programada (opcional)"})]}),l.jsx("input",{type:"text",inputMode:"numeric",placeholder:"HH:MM (ej: 20:30)",value:yr,onChange:j=>tA(j.target.value),className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:yr&&!Ds(yr)?"#ef4444":"var(--color-background-accent)",color:"var(--color-text)"}}),l.jsxs("div",{className:"flex items-center justify-between mt-1",children:[yr&&!Ds(yr)&&l.jsx("span",{className:"text-xs",style:{color:"#ef4444"},children:"Hora invlida"}),yr&&Ds(yr)&&l.jsx("button",{onClick:()=>pi(""),className:"text-xs hover:underline",style:{color:"var(--color-accent)"},children:"Limpiar hora"})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(Cl,{size:16}),l.jsx("span",{children:"Nombre del cliente (opcional)"})]}),l.jsx("input",{type:"text",value:Ms,onChange:j=>Is(j.target.value),placeholder:"Ej: Juan",className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-background-accent)",color:"var(--color-text)"}})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:l.jsx("span",{children:"Tipo de entrega"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>mi("pickup"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:Dr==="pickup"?"var(--color-accent)":"var(--color-background)",color:Dr==="pickup"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(Sl,{size:16}),"Retiro"]}),l.jsxs("button",{onClick:()=>mi("delivery"),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:Dr==="delivery"?"var(--color-accent)":"var(--color-background)",color:Dr==="delivery"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(xr,{size:16}),"Delivery"]})]})]}),Dr==="delivery"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"flex items-center gap-2 text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx(xr,{size:16}),l.jsx("span",{children:"Direccin de entrega"})]}),l.jsx("input",{type:"text",value:Ts,onChange:j=>Rs(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full px-3 py-2 rounded-lg border focus:outline-none focus:ring-2",style:{backgroundColor:"var(--color-background)",borderColor:"var(--color-background-accent)",color:"var(--color-text)"}})]}),io>0&&l.jsxs("div",{className:"mb-2 text-sm",style:{color:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal:"}),l.jsx("span",{children:pe(Jc)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Cargo por Delivery:"}),l.jsx("span",{children:pe(io)})]})]}),Dr==="delivery"&&om&&Ke>0&&l.jsxs("div",{className:"mb-2 text-sm flex justify-between",style:{color:"var(--color-accent)"},children:[l.jsx("span",{children:"Delivery Gratis"}),l.jsx("span",{className:"line-through opacity-60",children:pe(Ke)})]}),l.jsxs("div",{className:"flex justify-between text-2xl font-bold mb-4",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{style:{color:"var(--color-primary)"},children:pe(on)})]}),l.jsx("button",{onClick:()=>z(!0),disabled:_.length===0,className:"w-full py-4 rounded-lg text-white font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all hover:opacity-90",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Proceder al Pago"})]})]})]}),qe&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-4xl max-h-[90vh] rounded-xl shadow-2xl overflow-hidden flex flex-col",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Im,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Pedidos en Cocina (KDS)"}),re==="local"?l.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-medium",style:{backgroundColor:"#8b5cf6",color:"white"},children:"Local"}):l.jsx("span",{className:"text-xs px-2 py-1 rounded-full font-medium",style:{backgroundColor:Un==="connected"?"#10b981":Un==="connecting"?"#f59e0b":Un==="error"?"#ef4444":"#6b7280",color:"white"},children:Un==="connected"?"Conectado":Un==="connecting"?"Conectando...":Un==="error"?"Error":"Desconectado"})]}),l.jsx("button",{onClick:()=>lt(!1),className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{className:"flex-1 overflow-auto p-6",children:Ut.length===0?l.jsxs("div",{className:"text-center py-12 opacity-60",style:{color:"var(--color-text)"},children:[l.jsx(Im,{size:48,className:"mx-auto mb-4 opacity-40"}),l.jsx("p",{children:"No hay pedidos en cocina"})]}):l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Ut.map(j=>l.jsxs("div",{className:`rounded-lg p-4 border-2 transition-all duration-300 ${j.status==="completed"?"opacity-50 scale-95":""}`,style:{backgroundColor:"var(--color-background)",borderColor:j.scheduled_time&&new Date(j.scheduled_time).getTime()<Date.now()?"#ef4444":j.status==="pending"?"var(--color-accent)":"var(--color-primary)"},children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:["#",j.sale_number]}),j.customer_name&&l.jsxs("div",{className:"flex items-center gap-1 text-xs mt-0.5",style:{color:"var(--color-text)"},children:[l.jsx(Cl,{size:12}),j.customer_name]}),j.order_type&&l.jsx("span",{className:"inline-block px-2 py-0.5 rounded text-xs font-semibold mt-1",style:{backgroundColor:j.order_type==="delivery"?"#3b82f6":"#10b981",color:"white"},children:j.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(xr,{size:10,className:"inline mr-1"}),"Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(Sl,{size:10,className:"inline mr-1"}),"Retiro"]})}),j.order_type==="delivery"&&l.jsxs("div",{className:"mt-1 text-xs italic flex items-center gap-1 cursor-pointer hover:opacity-80",style:{color:"var(--color-text)",opacity:.8},onClick:()=>{_t(j.id),nn(j.delivery_address||"")},children:[" ",j.delivery_address||"Sin direccin",l.jsx(wu,{size:10})]}),j.scheduled_time&&l.jsxs("div",{className:"flex items-center gap-1 text-xs mt-1 font-medium",style:{color:new Date(j.scheduled_time).getTime()<Date.now()?"#ef4444":"var(--color-accent)"},children:[l.jsx(_l,{size:12}),new Date(j.scheduled_time).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1}),new Date(j.scheduled_time).getTime()<Date.now()&&l.jsx("span",{className:"ml-1",children:"(ATRASADO)"})]})]}),l.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",style:{backgroundColor:j.status==="pending"?"var(--color-accent)":j.status==="on_delivery"?"#3b82f6":"var(--color-primary)",color:j.status==="pending"?"var(--color-on-accent)":"white"},children:j.status==="pending"?l.jsxs(l.Fragment,{children:[l.jsx(Im,{size:12}),"Pendiente"]}):j.status==="on_delivery"?l.jsxs(l.Fragment,{children:[l.jsx(xr,{size:12}),"En Camino"]}):l.jsxs(l.Fragment,{children:[l.jsx(gI,{size:12}),"Entregado"]})})]}),l.jsx("div",{className:"space-y-2 mb-4",children:(()=>{const R=fe=>{const ke=(fe.removed_ingredients||[]).slice().sort().join(",");return`${fe.product_name}|${ke}`},$=fe=>{if(fe.length<=1)return fe.length;const ke=fe[0].product_name;for(let Se=1;Se<fe.length;Se++)if(fe[Se].product_name===ke)return Se;return fe.length},D=fe=>fe.map(R).join("::"),I={},Z=[];j.items.forEach((fe,ke)=>{fe.combo_name?(I[fe.combo_name]||(I[fe.combo_name]=[]),I[fe.combo_name].push(fe)):Z.push({item:fe,originalIndex:ke})});const ve=[];let oe=0;const G=[];j.items.forEach((fe,ke)=>{fe.combo_name&&G.push(ke)}),Object.entries(I).forEach(([fe,ke])=>{const Se=$(ke),Ye=[];for(let Ze=0;Ze<ke.length;Ze+=Se){const Dt=ke.slice(Ze,Ze+Se).map((Mr,Wo)=>({item:Mr,originalIndex:G[oe+Ze+Wo]}));Ye.push(Dt)}oe+=ke.length;const Qe=new Map;Ye.forEach(Ze=>{const Dt=D(Ze.map(Wo=>Wo.item)),Mr=Qe.get(Dt);Mr?Mr.count++:Qe.set(Dt,{items:Ze,count:1})}),Qe.forEach(({items:Ze,count:Dt})=>{ve.push({comboName:fe,items:Ze,quantity:Dt})})});const ce=[];ve.forEach((fe,ke)=>{ce.push(l.jsxs("div",{className:"text-xs font-bold px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)",marginTop:ke>0?"0.5rem":"0"},children:[fe.quantity>1?`${fe.quantity}x COMBO`:"COMBO"," ",fe.comboName]},`combo-header-${ke}`)),fe.items.forEach(({item:Se,originalIndex:Ye},Qe)=>{const Ze=ru(Se.product_name),Dt=(cr==null?void 0:cr.orderId)===j.id&&(cr==null?void 0:cr.itemIndex)===Ye;ce.push(l.jsxs("div",{className:"text-sm rounded-lg p-2",style:{color:"var(--color-text)",backgroundColor:Dt?"var(--color-background-accent)":"transparent",marginLeft:"0.75rem"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[fe.quantity>1?`${fe.quantity}x`:`${Se.quantity}x`," ",Se.product_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"opacity-60",children:pe(Se.product_price*Se.quantity*fe.quantity)}),Ze.length>0&&l.jsx("button",{onClick:()=>fi(Dt?null:{orderId:j.id,itemIndex:Ye}),className:"flex items-center justify-center rounded hover:opacity-80",style:{backgroundColor:Dt?"var(--color-accent)":"var(--color-background-accent)",color:Dt?"var(--color-on-accent)":"var(--color-text)"},title:"Editar ingredientes",children:l.jsx(fa,{size:18})})]})]}),Se.removed_ingredients&&Se.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic ml-4",style:{color:"var(--color-primary)"},children:["Sin:"," ",Se.removed_ingredients.join(", ")]}),Dt&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Ze.map(Mr=>{const Wo=(Se.removed_ingredients||[]).includes(Mr);return l.jsxs("button",{onClick:()=>E0(j.id,Ye,Mr),className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:Wo?"var(--color-primary)":"var(--color-background)",color:Wo?"var(--color-on-primary)":"var(--color-text)",textDecoration:Wo?"line-through":"none"},children:[Wo?"SIN ":"",Mr]},Mr)})})]},`combo-${ke}-item-${Qe}`))})});const le=new Map;Z.forEach(({item:fe,originalIndex:ke})=>{const Se=R(fe),Ye=le.get(Se);Ye?(Ye.items.push({item:fe,originalIndex:ke}),Ye.count+=fe.quantity):le.set(Se,{items:[{item:fe,originalIndex:ke}],count:fe.quantity})});let Ae=0;return le.forEach(({items:fe,count:ke})=>{const{item:Se,originalIndex:Ye}=fe[0],Qe=ru(Se.product_name),Ze=(cr==null?void 0:cr.orderId)===j.id&&(cr==null?void 0:cr.itemIndex)===Ye;ce.push(l.jsxs("div",{className:"text-sm rounded-lg p-2",style:{color:"var(--color-text)",backgroundColor:Ze?"var(--color-background-accent)":"transparent"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("span",{children:[ke,"x ",Se.product_name]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"opacity-60",children:pe(Se.product_price*ke)}),Qe.length>0&&l.jsx("button",{onClick:()=>fi(Ze?null:{orderId:j.id,itemIndex:Ye}),className:"flex items-center justify-center  rounded hover:opacity-80",style:{backgroundColor:Ze?"var(--color-accent)":"var(--color-background-accent)",color:Ze?"var(--color-on-accent)":"var(--color-text)"},title:"Editar ingredientes",children:l.jsx(fa,{size:18})})]})]}),Se.removed_ingredients&&Se.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic ml-4",style:{color:"var(--color-primary)"},children:["Sin: ",Se.removed_ingredients.join(", ")]}),Ze&&l.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:Qe.map(Dt=>{const Mr=(Se.removed_ingredients||[]).includes(Dt);return l.jsxs("button",{onClick:()=>E0(j.id,Ye,Dt),className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:Mr?"var(--color-primary)":"var(--color-background)",color:Mr?"var(--color-on-primary)":"var(--color-text)",textDecoration:Mr?"line-through":"none"},children:[Mr?"SIN ":"",Dt]},Dt)})})]},`standalone-${Ae++}`))}),ce})()}),l.jsxs("div",{className:"flex flex-col justify-between items-center pt-3 border-t gap-2",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex w-full justify-between items-center",children:[l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:pe(j.total)}),j.status==="pending"&&l.jsx("button",{onClick:()=>wA(j),className:"flex rounded-lg transition-all hover:opacity-80 items-center justify-center",style:{backgroundColor:"var(--color-background-accent)"},title:"Editar pedido",children:l.jsx(wu,{size:18,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{children:(j.status==="pending"||j.status==="on_delivery")&&l.jsxs("div",{className:"flex items-center gap-2",children:[j.order_type==="delivery"?j.status==="pending"?l.jsxs("button",{onClick:()=>eu(j.id,"on_delivery"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"#3b82f6",color:"white"},children:[l.jsx(xr,{size:14}),"Enviar"]}):l.jsx("button",{onClick:()=>eu(j.id,"completed"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Entregado"}):l.jsx("button",{onClick:()=>eu(j.id,"completed"),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Marcar Entregado"}),Xe[j.sale_number]&&l.jsxs("button",{onClick:()=>DA(j.sale_number),className:"px-3 py-1.5 rounded-lg text-sm font-semibold transition-all hover:opacity-90 flex items-center gap-1",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx(Dd,{size:14}),"Cobrar"]})]})})]})]},j.id))})})]})}),ct&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(xr,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Direccin de Entrega"})]}),l.jsx("button",{onClick:()=>_t(null),className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("input",{ref:Ce,type:"text",value:tr,onChange:j=>nn(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full p-3 rounded-lg text-lg mb-4",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"},onKeyDown:j=>{j.key==="Enter"&&O0(ct,tr)}}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>_t(null),className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:()=>O0(ct,tr),className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Guardar"})]})]})]})}),Te&&Xe[Te]&&l.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Dd,{size:24,style:{color:"var(--color-primary)"}}),l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Cobrar Pedido"})]}),l.jsx("button",{onClick:I0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"font-bold mb-1",style:{color:"var(--color-text)"},children:["Pedido #",Te]}),l.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:pe(Xe[Te].total_amount)})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>jt("cash"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:$e==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Ad,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>jt("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:$e==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Md,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>jt("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:$e==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(jl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>jt("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:$e==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xr,{size:16}),"En Entrega"]})]}),$e==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(Ve)})]}),l.jsx("div",{className:"grid grid-cols-5 gap-2 mb-3",children:Wm.slice().reverse().map(j=>l.jsx("button",{onClick:()=>EA(j),className:"py-2 rounded-lg text-xs font-semibold transition-all hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:pe(j)},j))}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{onClick:OA,disabled:At.length===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Deshacer"}),l.jsx("button",{onClick:AA,disabled:Ve===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Reiniciar"})]}),Ve>=Xe[Te].total_amount&&l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Cambio:"}),l.jsx("span",{className:"font-bold",children:pe(qo)})]}),bi&&qo>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:bi.map((j,R)=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[j.quantity,"x ",pe(j.bill_value)]},R))}),!bi&&qo>0&&l.jsx("div",{className:"text-xs text-center opacity-70",style:{color:"var(--color-text)"},children:"No se puede dar cambio exacto"})]})]}),l.jsx("button",{onClick:MA,disabled:!T0(),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Confirmar Pago"})]})]})}),Ca&&Ps&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:Ps.name}),l.jsx("p",{className:"text-lg font-bold",style:{color:"var(--color-accent)"},children:pe(Ps.price+Pa.filter(j=>j.is_variable).reduce((j,R)=>j+(R.selected_quantity??0)*(R.price_per_unit??0),0))})]}),l.jsx("button",{onClick:k0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[Pa.filter(j=>!j.is_variable).length>0&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Selecciona los ingredientes a quitar:"}),l.jsx("div",{className:"space-y-3 mb-6",children:Pa.filter(j=>!j.is_variable).map(j=>l.jsxs("button",{onClick:()=>pA(j.id),className:"w-full flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:j.removed?"var(--color-primary)":"var(--color-background)",color:j.removed?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx("span",{className:j.removed?"line-through":"",children:j.name}),j.removed&&l.jsx("span",{className:"text-sm font-semibold",children:"SIN"})]},j.id))})]}),Pa.filter(j=>j.is_variable).length>0&&l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Cantidad de extras:"}),l.jsx("div",{className:"space-y-3 mb-6",children:Pa.filter(j=>j.is_variable).map(j=>l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"var(--color-text)"},children:j.name}),l.jsxs("span",{className:"ml-2 text-sm opacity-70",style:{color:"var(--color-text)"},children:["(+",pe(j.price_per_unit??0),"/u)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>w0(j.id,-1),disabled:(j.selected_quantity??0)<=(j.min_quantity??0),className:"w-8 h-8 flex items-center justify-center rounded-lg font-bold transition-opacity disabled:opacity-30",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"-"}),l.jsx("span",{className:"w-8 text-center font-bold",style:{color:"var(--color-text)"},children:j.selected_quantity??0}),l.jsx("button",{onClick:()=>w0(j.id,1),disabled:(j.selected_quantity??0)>=(j.max_quantity??99),className:"w-8 h-8 flex items-center justify-center rounded-lg font-bold transition-opacity disabled:opacity-30",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"+"})]})]},j.id))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:k0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:mA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Agregar"})]})]})]})}),eA&&gr&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-lg max-h-[90vh] overflow-auto rounded-xl shadow-2xl",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b sticky top-0 z-10",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:gr.name}),l.jsx("p",{className:"text-2xl font-bold",style:{color:"var(--color-accent)"},children:pe(Zp)})]}),l.jsx("button",{onClick:j0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsx("div",{className:"p-6 space-y-6",children:gr.slots.map(j=>{const R=i0[j.id]||[],$=Os.filter(D=>D.slotId===j.id);return l.jsxs("div",{children:[l.jsxs("h3",{className:"font-semibold mb-2",style:{color:"var(--color-text)"},children:[j.name," ",j.quantity>1&&`(x${j.quantity})`]}),$.map((D,I)=>l.jsxs("div",{className:"mb-4 p-3 rounded-lg",style:{backgroundColor:"var(--color-background)"},children:[j.quantity>1&&l.jsxs("p",{className:"text-xs mb-2 opacity-60",style:{color:"var(--color-text)"},children:["Opcin ",I+1]}),j.is_dynamic&&R.length>1?l.jsx("select",{value:D.productId,onChange:Z=>vA(j.id,I,Z.target.value),className:"w-full p-2 rounded mb-2",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"},children:R.map(Z=>l.jsxs("option",{value:Z.id,children:[Z.name," - ",pe(Z.price)]},Z.id))}):l.jsx("p",{className:"font-medium mb-2",style:{color:"var(--color-text)"},children:D.productName}),(()=>{const Z=m0[D.productName]||[];return Z.length===0?null:l.jsxs("div",{className:"mt-2",children:[l.jsx("p",{className:"text-xs mb-1 opacity-60",style:{color:"var(--color-text)"},children:"Ingredientes:"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:Z.map(ve=>{const oe=D.removedIngredients.includes(ve);return l.jsxs("button",{onClick:()=>{As(G=>G.map(ce=>{const Ae=G.filter(fe=>fe.slotId===j.id).indexOf(ce);if(ce.slotId===j.id&&Ae===I){const fe=oe?ce.removedIngredients.filter(ke=>ke!==ve):[...ce.removedIngredients,ve];return{...ce,removedIngredients:fe}}return ce}))},className:"px-2 py-0.5 rounded text-xs font-medium transition-all",style:{backgroundColor:oe?"var(--color-primary)":"var(--color-background-secondary)",color:oe?"var(--color-on-primary)":"var(--color-text)",textDecoration:oe?"line-through":"none"},children:[oe?"SIN ":"",ve]},ve)})})]})})()]},`${j.id}-${I}`))]},j.id)})}),l.jsx("div",{className:"px-6 py-4 border-t sticky bottom-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:j0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsxs("button",{onClick:gA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:["Agregar - ",pe(Zp)]})]})})]})}),rA&&Ea&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:l.jsxs("div",{className:"w-full h-full md:max-w-2xl md:max-h-[90vh] md:rounded-xl flex flex-col overflow-hidden",style:{backgroundColor:"var(--color-background)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b shrink-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(wu,{size:24,style:{color:"var(--color-primary)"}}),l.jsxs("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:["Editar Pedido #",Ea.sale_number]})]}),l.jsx("button",{onClick:tu,className:"flex justify-center items-center p-2 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:24,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(_l,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Hora de Entrega"]}),l.jsx("input",{type:"time",value:Xc,onChange:j=>zs(j.target.value),className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}}),Xc&&l.jsx("button",{onClick:()=>zs(""),className:"mt-2 text-sm underline",style:{color:"var(--color-primary)"},children:"Quitar hora programada (ASAP)"})]}),l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(Cl,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Nombre del Cliente"]}),l.jsx("input",{type:"text",value:u0,onChange:j=>Jp(j.target.value),placeholder:"Ej: Juan",className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}})]}),l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:"Tipo de Entrega"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs("button",{onClick:()=>Qc("pickup"),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg font-semibold text-lg transition-all",style:{backgroundColor:Oa==="pickup"?"var(--color-accent)":"var(--color-background)",color:Oa==="pickup"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(Sl,{size:20}),"Retiro"]}),l.jsxs("button",{onClick:()=>Qc("delivery"),className:"flex-1 flex items-center justify-center gap-2 p-3 rounded-lg font-semibold text-lg transition-all",style:{backgroundColor:Oa==="delivery"?"var(--color-accent)":"var(--color-background)",color:Oa==="delivery"?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(xr,{size:20}),"Delivery"]})]})]}),Oa==="delivery"&&l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("label",{className:"block text-sm font-semibold mb-2",style:{color:"var(--color-text)"},children:[l.jsx(xr,{size:16,className:"inline mr-2",style:{color:"var(--color-accent)"}}),"Direccin de Entrega"]}),l.jsx("input",{type:"text",value:d0,onChange:j=>em(j.target.value),placeholder:"Ej: Calle 4 e/ 5 y 7 n276",className:"w-full p-3 rounded-lg text-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"2px solid var(--color-background-accent)"}})]}),l.jsx("div",{className:"space-y-4",children:Uo.length===0?l.jsx("div",{className:"text-center py-8 opacity-60",style:{color:"var(--color-text)"},children:"No hay productos en este pedido"}):Uo.map((j,R)=>{const $=ru(j.product_name);return l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:j.product_name}),l.jsxs("span",{className:"ml-2 opacity-60",style:{color:"var(--color-text)"},children:[pe(j.product_price)," c/u"]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>A0(R,-1),className:"w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"-"}),l.jsx("span",{className:"text-xl font-bold w-8 text-center",style:{color:"var(--color-text)"},children:j.quantity}),l.jsx("button",{onClick:()=>A0(R,1),className:"w-10 h-10 rounded-lg font-bold text-xl flex items-center justify-center",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"+"})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-opacity-20 flex items-center justify-between",children:[l.jsx("div",{className:"flex-1",children:j.removed_ingredients&&j.removed_ingredients.length>0?l.jsxs("div",{className:"text-sm italic",style:{color:"var(--color-primary)"},children:["Sin: ",j.removed_ingredients.join(", ")]}):l.jsx("div",{className:"text-sm opacity-50",style:{color:"var(--color-text)"},children:"Sin modificaciones"})}),$.length>0&&l.jsxs("button",{onClick:()=>_A(R),className:"px-3 py-1.5 rounded-lg text-sm font-semibold flex items-center gap-1",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx(fa,{size:14}),"Personalizar"]})]}),l.jsx("div",{className:"mt-3 text-right font-bold",style:{color:"var(--color-accent)"},children:pe(j.product_price*j.quantity)})]},R)})})]}),l.jsxs("div",{className:"px-6 py-4 border-t shrink-0",style:{borderColor:"var(--color-background-accent)",backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:"Total"}),l.jsx("span",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:pe(Uo.reduce((j,R)=>j+R.product_price*R.quantity,0))})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:tu,className:"flex-1 py-4 rounded-lg font-bold text-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:kA,disabled:Uo.length===0,className:"flex-1 py-4 rounded-lg font-bold text-lg disabled:opacity-50",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Guardar Cambios"})]})]}),Ls!==null&&l.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 backdrop-blur-sm z-10",children:l.jsxs("div",{className:"w-full max-w-md rounded-xl shadow-2xl overflow-hidden mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"px-6 py-4 flex items-center justify-between border-b",style:{borderColor:"var(--color-background-accent)"},children:[l.jsx("h3",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:(L0=Uo[Ls])==null?void 0:L0.product_name}),l.jsx("button",{onClick:D0,className:"flex justify-center items-center p-1 rounded-lg hover:opacity-80 transition-opacity",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsx(wr,{size:20,style:{color:"var(--color-text)"}})})]}),l.jsxs("div",{className:"p-6",children:[l.jsx("p",{className:"text-sm mb-4 opacity-70",style:{color:"var(--color-text)"},children:"Selecciona los ingredientes a quitar:"}),l.jsx("div",{className:"space-y-3 mb-6",children:f0.map(j=>l.jsxs("button",{onClick:()=>jA(j.name),className:"w-full flex items-center justify-between p-3 rounded-lg transition-all",style:{backgroundColor:j.removed?"var(--color-primary)":"var(--color-background)",color:j.removed?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx("span",{className:j.removed?"line-through":"",children:j.name}),j.removed&&l.jsx("span",{className:"text-sm font-semibold",children:"SIN"})]},j.name))}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:D0,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Cancelar"}),l.jsx("button",{onClick:SA,className:"flex-1 py-3 rounded-lg font-bold",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:"Confirmar"})]})]})]})})]})}),l.jsx(K3,{children:nu?l.jsx("div",{className:"opacity-80 rotate-3 scale-105 shadow-2xl",children:l.jsxs("button",{className:"w-full p-6 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-lg font-bold mb-2",children:nu.name}),l.jsx("div",{className:"text-2xl font-bold mb-1",children:pe(g0(nu))}),l.jsxs("div",{className:"text-sm opacity-90",children:["Stock: ",it($s(nu))]})]})}):Aa?l.jsx("div",{className:"opacity-80 rotate-3 scale-105 shadow-2xl",children:l.jsxs("button",{className:"w-full p-6 rounded-lg",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[l.jsx("div",{className:"text-lg font-bold mb-2",children:Aa.name}),l.jsx("div",{className:"text-2xl font-bold mb-1",children:Aa.price_type==="fixed"?pe(Aa.fixed_price||0):Aa.discount_type==="percentage"?`-${Aa.discount_value}%`:`-${pe(Aa.discount_value||0)}`}),l.jsx("div",{className:"text-sm opacity-90",children:"COMBO"})]})}):R0?l.jsx("div",{className:"opacity-80 scale-105 shadow-2xl backdrop-blur-sm rounded-lg px-4 py-2",style:{backgroundColor:"var(--color-background-secondary)"},children:l.jsx("h2",{className:"text-xl font-semibold capitalize",style:{color:"var(--color-text)"},children:R0})}):null})]})}const EC="/ssb/icon-192.png";function X4(){return l.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{backgroundColor:"var(--color-background)"},children:l.jsx("div",{className:"flex flex-col items-center gap-6",children:l.jsx("div",{className:"w-32 h-32 flex items-center justify-center animate-pulse",children:l.jsx("img",{src:EC,alt:"Loading",className:"max-w-full max-h-full object-contain"})})})})}function np(){const{logoConfig:e}=uy(),t=e.logo_image||EC;return l.jsx("div",{className:"flex items-center justify-center h-full w-full",children:l.jsxs("div",{className:"relative w-28 h-28 flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 rounded-full animate-spin",style:{border:"4px solid var(--color-primary)",borderTopColor:"transparent"}}),l.jsx("img",{src:t,alt:"Loading",className:"w-16 h-16 object-contain rounded-lg"})]})})}function Q4(){const{combos:e,addCombo:t,updateCombo:r,deleteCombo:n,loading:o}=hC(),{products:a}=tp(),{getProductMateriaPrima:i,materiaPrima:s}=Sc(),[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState({name:"",description:"",price_type:"fixed",fixed_price:"",discount_type:"percentage",discount_value:"",active:!0}),[v,g]=h.useState([]),y=a.filter(F=>F.active),[x,b]=h.useState(!1);h.useEffect(()=>{(async()=>{try{await L.init();const K=await L.get("app_settings","default");(K==null?void 0:K.hide_combos)!==void 0&&b(K.hide_combos)}catch(K){console.error("Error loading hide_combos setting:",K)}})()},[]);const w=h.useCallback(async()=>{try{await L.init();const F=await L.get("app_settings","default"),K=!x,V={...F||{id:"default",pos_layout_locked:!1,updated_at:new Date().toISOString()},hide_combos:K,updated_at:new Date().toISOString()};await L.put("app_settings",V),b(K),de.success(K?"Combos ocultos en POS":"Combos visibles en POS")}catch(F){console.error("Error toggling combos visibility:",F),de.error("Error al cambiar visibilidad")}},[x]),k=async F=>{if(F.preventDefault(),v.length===0){de.error("Agreg al menos un slot al combo");return}for(const K of v){if(K.product_ids.length===0){de.error(`El slot "${K.name}" debe tener al menos un producto`);return}if(!K.default_product_id){de.error(`El slot "${K.name}" debe tener un producto por defecto`);return}}try{const K=v.map(V=>({id:V.id,name:V.name,is_dynamic:V.is_dynamic,product_ids:V.product_ids,default_product_id:V.default_product_id,quantity:V.quantity}));d?(await r(d,{name:p.name,description:p.description,price_type:p.price_type,fixed_price:p.price_type==="fixed"?parseFloat(p.fixed_price):void 0,discount_type:p.price_type==="calculated"?p.discount_type:void 0,discount_value:p.price_type==="calculated"?parseFloat(p.discount_value):void 0,slots:K,active:p.active}),de.success("Combo actualizado exitosamente")):(await t({name:p.name,description:p.description,price_type:p.price_type,fixed_price:p.price_type==="fixed"?parseFloat(p.fixed_price):void 0,discount_type:p.price_type==="calculated"?p.discount_type:void 0,discount_value:p.price_type==="calculated"?parseFloat(p.discount_value):void 0,slots:K,active:p.active}),de.success("Combo creado exitosamente")),C()}catch(K){de.error("Error al guardar el combo"),console.error(K)}},S=F=>{var K,V;m({name:F.name,description:F.description||"",price_type:F.price_type,fixed_price:((K=F.fixed_price)==null?void 0:K.toString())||"",discount_type:F.discount_type||"percentage",discount_value:((V=F.discount_value)==null?void 0:V.toString())||"",active:F.active}),g(F.slots.map(T=>({id:T.id,name:T.name,is_dynamic:T.is_dynamic,product_ids:T.product_ids,default_product_id:T.default_product_id,quantity:T.quantity}))),f(F.id),u(!0)},_=async F=>{de("Eliminar Combo",{description:"Ests seguro de que deseas eliminar este combo?",action:{label:"Eliminar",onClick:async()=>{try{await n(F),de.success("Combo eliminado exitosamente")}catch(K){de.error("Error al eliminar el combo"),console.error(K)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},N=async F=>{try{await r(F.id,{active:!F.active}),de.success(F.active?"Combo desactivado":"Combo activado")}catch{de.error("Error al cambiar estado")}},C=()=>{m({name:"",description:"",price_type:"fixed",fixed_price:"",discount_type:"percentage",discount_value:"",active:!0}),g([]),u(!1),f(null)},z=()=>{g([...v,{id:crypto.randomUUID(),name:"",is_dynamic:!1,product_ids:[],default_product_id:"",quantity:1}])},U=F=>{g(v.filter((K,V)=>V!==F))},M=(F,K,V)=>{const T=[...v];if(T[F][K]=V,K==="product_ids"){const W=V;W.includes(T[F].default_product_id)||(T[F].default_product_id=W[0]||"")}g(T)},Y=(F,K)=>{const V=v[F],T=V.product_ids.includes(K)?V.product_ids.filter(W=>W!==K):[...V.product_ids,K];M(F,"product_ids",T)},ae=async()=>{try{const F=await Promise.all(e.filter(se=>se.active).map(async se=>{const ge=await Promise.all(se.slots.map(async ee=>{const te=await Promise.all(ee.product_ids.map(async J=>{const ye=a.find(B=>B.id===J);if(!ye)return null;let P=[];return ye.uses_materia_prima&&(P=(await i(J)).filter(E=>E.removable||E.is_variable).map(E=>{const A=s.find(q=>q.id===E.materia_prima_id),H={id:E.materia_prima_id,name:(A==null?void 0:A.name)||"Desconocido"};return E.is_variable?{...H,is_variable:!0,min_quantity:E.min_quantity??1,max_quantity:E.max_quantity??5,default_quantity:E.default_quantity??1,price_per_unit:E.price_per_unit??0}:H})),{id:ye.id,name:ye.name,price:ye.price,ingredients:P}}));return{id:ee.id,name:ee.name,is_dynamic:ee.is_dynamic,quantity:ee.quantity,default_product_id:ee.default_product_id,products:te.filter(Boolean)}}));return{id:se.id,name:se.name,description:se.description||"",price_type:se.price_type,fixed_price:se.fixed_price,discount_type:se.discount_type,discount_value:se.discount_value,slots:ge}})),K=JSON.stringify(F,null,2),V=new Blob([K],{type:"application/json"}),T=URL.createObjectURL(V),W=document.createElement("a");W.href=T,W.download="combos.json",document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(T),de.success("Combos exportados exitosamente")}catch(F){console.error("Error exporting combos:",F),de.error("Error al exportar combos")}},Q=F=>{const K=a.find(V=>V.id===F);return(K==null?void 0:K.name)||"Producto no encontrado"};return o?l.jsx(np,{}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(wo,{style:{color:"var(--color-primary)"}}),"Combos"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Cre combos de productos con descuentos"})]}),!c&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",style:{backgroundColor:x?"var(--color-background-accent)":"var(--color-primary)",color:x?"var(--color-text)":"var(--color-on-primary)"},title:x?"Oculto en POS  clic para mostrar":"Visible en POS  clic para ocultar",children:[x?l.jsx(DS,{size:16}):l.jsx(iy,{size:16}),x?"Oculto en POS":"Visible en POS"]}),l.jsxs("button",{onClick:ae,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},title:"Exportar combos para la web de clientes",children:[l.jsx(ay,{size:20}),"Exportar Web"]}),l.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ns,{size:20}),"Nuevo Combo"]})]})]}),c&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-3xl max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:d?"Editar Combo":"Nuevo Combo"}),l.jsxs("form",{onSubmit:k,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre del Combo"}),l.jsx("input",{type:"text",required:!0,value:p.name,onChange:F=>m({...p,name:F.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:"Ej: Combo Familiar"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Descripcin (opcional)"}),l.jsx("textarea",{value:p.description,onChange:F=>m({...p,description:F.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg resize-none",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Tipo de Precio"}),l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"price_type",value:"fixed",checked:p.price_type==="fixed",onChange:()=>m({...p,price_type:"fixed"}),className:"w-4 h-4"}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Precio Fijo"})]}),l.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[l.jsx("input",{type:"radio",name:"price_type",value:"calculated",checked:p.price_type==="calculated",onChange:()=>m({...p,price_type:"calculated"}),className:"w-4 h-4"}),l.jsx("span",{style:{color:"var(--color-text)"},children:"Calculado con Descuento"})]})]})]}),p.price_type==="fixed"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Precio del Combo"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.fixed_price,onChange:F=>m({...p,fixed_price:F.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),p.price_type==="calculated"&&l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Tipo de Descuento"}),l.jsxs("select",{value:p.discount_type,onChange:F=>m({...p,discount_type:F.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"percentage",children:"Porcentaje (%)"}),l.jsx("option",{value:"fixed",children:"Monto Fijo ($)"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Valor del Descuento"}),l.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.discount_value,onChange:F=>m({...p,discount_value:F.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:p.discount_type==="percentage"?"10":"500"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"combo_active",checked:p.active,onChange:F=>m({...p,active:F.target.checked}),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"combo_active",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Combo activo"})]}),l.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Slots del Combo"}),l.jsxs("button",{type:"button",onClick:z,className:"flex items-center gap-1 px-3 py-1 rounded text-sm text-white",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(ns,{size:16}),"Agregar Slot"]})]}),v.length===0?l.jsx("p",{className:"text-sm opacity-60 text-center py-4",style:{color:"var(--color-text)"},children:"No hay slots. Agreg al menos uno."}):l.jsx("div",{className:"space-y-4",children:v.map((F,K)=>l.jsxs("div",{className:"border rounded-lg p-3",style:{borderColor:"var(--color-text)",opacity:.9},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("span",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:["Slot ",K+1]}),l.jsx("button",{type:"button",onClick:()=>U(K),className:"text-red-500 hover:text-red-700",children:l.jsx(ri,{size:16})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Nombre del Slot"}),l.jsx("input",{type:"text",required:!0,value:F.name,onChange:V=>M(K,"name",V.target.value),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},placeholder:"Ej: Hamburguesa"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Cantidad"}),l.jsx("input",{type:"number",required:!0,min:"1",value:F.quantity,onChange:V=>M(K,"quantity",parseInt(V.target.value)||1),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx("input",{type:"checkbox",id:`dynamic_${F.id}`,checked:F.is_dynamic,onChange:V=>M(K,"is_dynamic",V.target.checked),className:"w-4 h-4"}),l.jsx("label",{htmlFor:`dynamic_${F.id}`,className:"text-sm",style:{color:"var(--color-text)"},children:"Permitir elegir entre opciones"})]}),l.jsxs("div",{className:"mb-3",children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:F.is_dynamic?"Productos disponibles":"Producto"}),l.jsx("div",{className:"max-h-32 overflow-y-auto border rounded p-2",style:{borderColor:"var(--color-text)"},children:y.length===0?l.jsx("p",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:"No hay productos activos"}):y.map(V=>l.jsxs("label",{className:"flex items-center gap-2 py-1 cursor-pointer hover:bg-black/5 rounded px-1",children:[l.jsx("input",{type:F.is_dynamic?"checkbox":"radio",name:`slot_product_${F.id}`,checked:F.product_ids.includes(V.id),onChange:()=>{F.is_dynamic?Y(K,V.id):(M(K,"product_ids",[V.id]),M(K,"default_product_id",V.id))},className:"w-3 h-3"}),l.jsxs("span",{className:"text-sm",style:{color:"var(--color-text)"},children:[V.name," -"," ",pe(V.price)]})]},V.id))})]}),F.is_dynamic&&F.product_ids.length>1&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs mb-1",style:{color:"var(--color-text)"},children:"Producto por defecto"}),l.jsx("select",{value:F.default_product_id,onChange:V=>M(K,"default_product_id",V.target.value),className:"w-full px-2 py-1 border rounded text-sm",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:F.product_ids.map(V=>l.jsx("option",{value:V,children:Q(V)},V))})]})]},F.id))})]}),l.jsxs("div",{className:"flex gap-3 pt-4",children:[l.jsxs("button",{type:"button",onClick:C,className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 border rounded-lg",style:{borderColor:"var(--color-text)",color:"var(--color-text)"},children:[l.jsx(wr,{size:18}),"Cancelar"]}),l.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(cy,{size:18}),d?"Guardar":"Crear Combo"]})]})]})]})}),e.length===0?l.jsxs("div",{className:"text-center py-12 rounded-xl",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(wo,{size:48,className:"mx-auto mb-4 opacity-50",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"opacity-60",style:{color:"var(--color-text)"},children:"No hay combos creados"}),l.jsx("button",{onClick:()=>u(!0),className:"mt-4 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:"Crear primer combo"})]}):l.jsx("div",{className:"grid gap-4",children:e.map(F=>l.jsx("div",{className:"rounded-xl p-4",style:{backgroundColor:"var(--color-background-secondary)",opacity:F.active?1:.6},children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h3",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:F.name}),!F.active&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Inactivo"})]}),F.description&&l.jsx("p",{className:"text-sm opacity-70 mt-1",style:{color:"var(--color-text)"},children:F.description}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:F.slots.map(K=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[K.quantity,"x ",K.name,K.is_dynamic&&` (${K.product_ids.length} opc.)`]},K.id))})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"text-right",children:F.price_type==="fixed"?l.jsx("p",{className:"font-bold text-lg",style:{color:"var(--color-primary)"},children:pe(F.fixed_price||0)}):l.jsx("p",{className:"font-bold",style:{color:"var(--color-primary)"},children:F.discount_type==="percentage"?`-${F.discount_value}%`:`-${pe(F.discount_value||0)}`})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(F),className:"flex justify-center items-center p-2 rounded-lg transition-colors",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:l.jsx(ly,{size:18})}),l.jsx("button",{onClick:()=>N(F),className:"flex justify-center items-center p-2 rounded-lg transition-colors",style:{backgroundColor:F.active?"var(--color-background-accent)":"var(--color-primary)",color:F.active?"var(--color-text)":"var(--color-on-primary)"},title:F.active?"Desactivar":"Activar",children:l.jsx(TS,{size:18})}),l.jsx("button",{onClick:()=>_(F.id),className:"flex justify-center items-center p-2 rounded-lg bg-red-100 text-red-600 hover:bg-red-200 transition-colors",children:l.jsx(ri,{size:18})})]})]})]})},F.id))})]})}function Z4(){const[e,t]=h.useState("products"),{products:r,addProduct:n,updateProduct:o,deleteProduct:a,loading:i}=tp(),{materiaPrima:s,getProductMateriaPrima:c,getProductMateriaPrimaCached:u,setProductMateriaPrima:d,calculateProductCost:f,calculateAvailableStock:p,productMPCache:m}=Sc(),[v,g]=h.useState({}),[y,x]=h.useState({}),[b,w]=h.useState(!1),[k,S]=h.useState(null),[_,N]=h.useState({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),[C,z]=h.useState([]),U=[{value:"hamburguesas",label:"Hamburguesas"},{value:"papas fritas",label:"Papas Fritas"},{value:"bebidas",label:"Bebidas"}],[M,Y]=h.useState("hamburguesas"),[ae,Q]=h.useState([]);h.useEffect(()=>{(async()=>{try{await L.init();const B=await L.get("app_settings","default");B!=null&&B.hidden_categories&&Q(B.hidden_categories)}catch(B){console.error("Error loading hidden categories:",B)}})()},[]);const F=h.useCallback(async P=>{try{await L.init();const B=await L.get("app_settings","default"),E=(B==null?void 0:B.hidden_categories)||[],A=E.includes(P)?E.filter(q=>q!==P):[...E,P],H={...B||{id:"default",pos_layout_locked:!1,updated_at:new Date().toISOString()},hidden_categories:A,updated_at:new Date().toISOString()};await L.put("app_settings",H),Q(A),de.success(A.includes(P)?"Categora oculta en POS":"Categora visible en POS")}catch(B){console.error("Error toggling category visibility:",B),de.error("Error al cambiar visibilidad")}},[]);h.useEffect(()=>{if(!r.length){g({});return}(async()=>{const B=r.filter(A=>A.uses_materia_prima);if(!B.length){g({});return}const E=await Promise.all(B.map(async A=>{const H=await p(A.id);return[A.id,H]}));g(Object.fromEntries(E))})()},[r,p]),h.useEffect(()=>{if(!r.length||m.size===0){x({});return}const P={};for(const B of r){if(!B.uses_materia_prima)continue;const E=u(B.id);let A=0;for(const H of E)H.is_variable&&H.min_quantity&&H.price_per_unit&&(A+=H.min_quantity*H.price_per_unit);A>0&&(P[B.id]=B.price+A)}x(P)},[r,m,u]);const K=async P=>{P.preventDefault();try{const B=_.uses_materia_prima,E=parseFloat(_.production_cost);if(B&&C.length===0){de.error("Agreg al menos un ingrediente de materia prima");return}let A=k;if(k?await o(k,{name:_.name,description:_.description,price:parseFloat(_.price),production_cost:B?0:E,stock:B?0:parseInt(_.stock),category:_.category,active:_.active,uses_materia_prima:B}):A=await n({name:_.name,description:_.description,price:parseFloat(_.price),production_cost:B?0:E,stock:B?0:parseInt(_.stock||"0"),category:_.category,active:_.active,uses_materia_prima:B}),B&&A){const H=C.map(O=>({materia_prima_id:O.materia_prima_id,quantity:parseFloat(O.quantity||"0"),removable:O.removable,is_variable:O.is_variable,min_quantity:O.is_variable?parseFloat(O.min_quantity):void 0,max_quantity:O.is_variable?parseFloat(O.max_quantity):void 0,default_quantity:O.is_variable?parseFloat(O.default_quantity):void 0,price_per_unit:O.is_variable?parseFloat(O.price_per_unit):void 0,linked_to:O.linked_to||void 0,linked_multiplier:O.linked_to?parseFloat(O.linked_multiplier):void 0}));await d(A,H);const q=await f(A);await o(A,{production_cost:q})}N({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),z([]),w(!1),S(null),de.success(k?"Producto actualizado exitosamente":"Producto agregado exitosamente")}catch(B){de.error("Error al guardar el producto"),console.error(B)}},V=async P=>{if(N({name:P.name,description:P.description||"",price:P.price.toString(),production_cost:P.production_cost.toString(),stock:P.stock.toString(),category:P.category,active:P.active,uses_materia_prima:P.uses_materia_prima||!1}),S(P.id),P.uses_materia_prima){const B=await c(P.id);z(B.map(E=>({materia_prima_id:E.materia_prima_id,quantity:(E.quantity??0).toString(),removable:E.removable??!0,is_variable:E.is_variable??!1,min_quantity:(E.min_quantity??1).toString(),max_quantity:(E.max_quantity??5).toString(),default_quantity:(E.default_quantity??1).toString(),price_per_unit:(E.price_per_unit??0).toString(),linked_to:E.linked_to??"",linked_multiplier:(E.linked_multiplier??1).toString()})))}else z([]);w(!0)},T=async P=>{try{await o(P.id,{active:!P.active}),de.success(P.active?"Producto desactivado":"Producto activado")}catch{de.error("Error al cambiar estado")}},W=async P=>{de("Eliminar Producto",{description:"Ests seguro de que deseas eliminar este producto?",action:{label:"Eliminar",onClick:async()=>{try{await a(P),de.success("Producto eliminado exitosamente")}catch(B){de.error("Error al eliminar el producto"),console.error(B)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},se=()=>{N({name:"",description:"",price:"",production_cost:"",stock:"",category:"hamburguesas",active:!0,uses_materia_prima:!1}),z([]),w(!1),S(null)},ge=async()=>{try{const P=await Promise.all(r.filter(q=>q.active).map(async q=>{let O=[];return q.uses_materia_prima&&(O=(await c(q.id)).filter(re=>re.removable||re.is_variable).map(re=>{const me=s.find(De=>De.id===re.materia_prima_id),xe={id:re.materia_prima_id,name:(me==null?void 0:me.name)||"Desconocido"};return re.is_variable?{...xe,is_variable:!0,min_quantity:re.min_quantity??1,max_quantity:re.max_quantity??5,default_quantity:re.default_quantity??1,price_per_unit:re.price_per_unit??0}:xe})),{id:q.id,name:q.name,description:q.description||"",price:q.price,category:q.category,ingredients:O}})),B=JSON.stringify(P,null,2),E=new Blob([B],{type:"application/json"}),A=URL.createObjectURL(E),H=document.createElement("a");H.href=A,H.download="products.json",document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(A),de.success("Productos exportados exitosamente")}catch(P){console.error("Error exporting products:",P),de.error("Error al exportar productos")}},ee=()=>{z([...C,{materia_prima_id:"",quantity:"",removable:!0,is_variable:!1,min_quantity:"1",max_quantity:"5",default_quantity:"1",price_per_unit:"",linked_to:"",linked_multiplier:"1"}])},te=P=>{z(C.filter((B,E)=>E!==P))},J=(P,B,E)=>{const A=[...C];B==="removable"||B==="is_variable"?(A[P][B]=E,B==="is_variable"&&E===!0&&(A[P].linked_to="",A[P].linked_multiplier="1")):A[P][B]=E,z(A)};if(i)return l.jsx(np,{});const ye=()=>l.jsxs("div",{className:"flex gap-1 p-1 rounded-lg mb-6",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("button",{onClick:()=>t("products"),className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:e==="products"?"var(--color-primary)":"transparent",color:e==="products"?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Productos"]}),l.jsxs("button",{onClick:()=>t("combos"),className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors",style:{backgroundColor:e==="combos"?"var(--color-primary)":"transparent",color:e==="combos"?"var(--color-on-primary)":"var(--color-text)"},children:[l.jsx(_I,{size:18}),"Combos"]})]});return e==="combos"?l.jsxs("div",{className:"p-6",children:[l.jsx(ye,{}),l.jsx(Q4,{})]}):l.jsxs("div",{className:"p-6",children:[l.jsx(ye,{}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(wo,{style:{color:"var(--color-primary)"}}),"Productos"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Administr tu catlogo de productos, precios y categoras"})]}),!b&&l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:ge,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},title:"Exportar productos para la web de clientes",children:[l.jsx(ay,{size:20}),"Exportar Web"]}),l.jsxs("button",{onClick:()=>{N({..._,category:M}),w(!0)},className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ns,{size:20}),"Aadir Producto"]})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx("div",{className:"flex gap-1 p-1 rounded-lg flex-1",style:{backgroundColor:"var(--color-background-accent)"},children:U.map(P=>l.jsx("button",{onClick:()=>Y(P.value),className:"flex items-center gap-2 px-4 py-2 rounded-md font-medium transition-colors text-sm",style:{backgroundColor:M===P.value?"var(--color-primary)":"transparent",color:M===P.value?"var(--color-on-primary)":"var(--color-text)"},children:P.label},P.value))}),l.jsxs("button",{onClick:()=>F(M),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors",style:{backgroundColor:ae.includes(M)?"var(--color-background-accent)":"var(--color-primary)",color:ae.includes(M)?"var(--color-text)":"var(--color-on-primary)"},title:ae.includes(M)?"Oculto en POS  clic para mostrar":"Visible en POS  clic para ocultar",children:[ae.includes(M)?l.jsx(DS,{size:16}):l.jsx(iy,{size:16}),ae.includes(M)?"Oculto en POS":"Visible en POS"]})]}),b&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:k?"Editar Producto":"Nuevo Producto"}),l.jsxs("form",{onSubmit:K,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre"}),l.jsx("input",{type:"text",required:!0,value:_.name,onChange:P=>N({..._,name:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Descripcin (opcional)"}),l.jsx("textarea",{value:_.description,onChange:P=>N({..._,description:P.target.value}),rows:2,placeholder:"Descripcin del producto para la tienda web...",className:"w-full px-3 py-2 border rounded-lg resize-none",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"uses_materia_prima",checked:_.uses_materia_prima,onChange:P=>{N({..._,uses_materia_prima:P.target.checked}),P.target.checked||z([])},className:"w-4 h-4"}),l.jsx("label",{htmlFor:"uses_materia_prima",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Usa Materia Prima (el costo se calcular automticamente)"})]}),_.uses_materia_prima&&l.jsxs("div",{className:"border rounded-lg p-4",style:{borderColor:"var(--color-text)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-3",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Ingredientes de Materia Prima"}),l.jsxs("button",{type:"button",onClick:ee,className:"flex items-center gap-1 px-3 py-1 rounded text-sm text-white",style:{backgroundColor:"var(--color-primary)"},children:[l.jsx(ns,{size:16}),"Agregar"]})]}),C.length===0?l.jsx("p",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:'No hay ingredientes. Hac clic en "Agregar" para aadir.'}):l.jsx("div",{className:"space-y-3",children:C.map((P,B)=>l.jsxs("div",{className:"p-3 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:P.is_variable?"var(--color-primary)":"transparent"},children:[l.jsxs("div",{className:"flex gap-2 items-center",children:[l.jsxs("select",{value:P.materia_prima_id,onChange:E=>J(B,"materia_prima_id",E.target.value),required:!0,className:"flex-1 px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"",children:"Seleccionar ingrediente"}),s.map(E=>l.jsxs("option",{value:E.id,children:[E.name," (",E.unit==="units"?"unidades":"kg",")"]},E.id))]}),l.jsx("input",{type:"number",step:"0.001",required:!P.is_variable,disabled:P.is_variable,value:P.is_variable?"":P.quantity,onChange:E=>J(B,"quantity",E.target.value),placeholder:P.is_variable?"Variable":"Cantidad",className:"w-28 px-3 py-2 border rounded-lg",style:{backgroundColor:P.is_variable?"var(--color-background-accent)":"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)",opacity:P.is_variable?.5:1}}),l.jsxs("label",{className:"flex items-center gap-1 px-2 cursor-pointer",title:"Puede quitarse en POS",children:[l.jsx("input",{type:"checkbox",checked:P.removable,onChange:E=>J(B,"removable",E.target.checked),className:"w-4 h-4"}),l.jsx("span",{className:"text-xs whitespace-nowrap",style:{color:"var(--color-text)"},children:"Removible"})]}),l.jsx("button",{type:"button",onClick:()=>te(B),className:"px-3 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600",children:l.jsx(wr,{size:18})})]}),l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:`variable_${B}`,checked:P.is_variable,onChange:E=>J(B,"is_variable",E.target.checked),className:"w-4 h-4"}),l.jsx("label",{htmlFor:`variable_${B}`,className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Cantidad Variable (cliente elige al comprar)"})]}),P.is_variable&&l.jsxs("div",{className:"mt-3 grid grid-cols-2 md:grid-cols-4 gap-2",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Mnimo"}),l.jsx("input",{type:"number",step:"1",min:"0",required:!0,value:P.min_quantity,onChange:E=>J(B,"min_quantity",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Mximo"}),l.jsx("input",{type:"number",step:"1",min:"1",required:!0,value:P.max_quantity,onChange:E=>J(B,"max_quantity",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Por defecto"}),l.jsx("input",{type:"number",step:"1",min:"0",required:!0,value:P.default_quantity,onChange:E=>J(B,"default_quantity",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs opacity-70 mb-1",style:{color:"var(--color-text)"},children:"Precio/unidad ($)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",required:!0,value:P.price_per_unit,onChange:E=>J(B,"price_per_unit",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),!P.is_variable&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[l.jsx("label",{className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Vincular a ingrediente variable:"}),l.jsxs("select",{value:P.linked_to,onChange:E=>J(B,"linked_to",E.target.value),className:"flex-1 px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"",children:"Sin vincular"}),C.filter((E,A)=>E.is_variable&&A!==B&&E.materia_prima_id).map(E=>{const A=s.find(H=>H.id===E.materia_prima_id);return l.jsx("option",{value:E.materia_prima_id,children:(A==null?void 0:A.name)||"Desconocido"},E.materia_prima_id)})]})]}),P.linked_to&&l.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--color-text)"},children:"Multiplicador:"}),l.jsx("input",{type:"number",step:"0.1",min:"0.1",required:!0,value:P.linked_multiplier,onChange:E=>J(B,"linked_multiplier",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm mb-1",style:{color:"var(--color-text)"},children:"Offset (ej: -1):"}),l.jsx("input",{type:"number",step:"1",value:P.quantity,onChange:E=>J(B,"quantity",E.target.value),className:"w-full px-2 py-1 border rounded-lg text-sm",style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]})]})]},B))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Precio de Venta ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:_.price,onChange:P=>N({..._,price:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),!_.uses_materia_prima&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Costo ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:_.production_cost,onChange:P=>N({..._,production_cost:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),!_.uses_materia_prima&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Stock"}),l.jsx("input",{type:"number",required:!0,value:_.stock,onChange:P=>N({..._,stock:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),_.uses_materia_prima&&l.jsx("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-text)"},children:l.jsx("p",{className:"text-sm opacity-80",style:{color:"var(--color-text)"},children:"El stock de este producto se calcula automticamente segn la disponibilidad de materia prima."})}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Categora"}),l.jsx("select",{value:_.category,onChange:P=>N({..._,category:P.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:U.map(P=>l.jsx("option",{value:P.value,children:P.label},P.value))})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",id:"active",checked:_.active,onChange:P=>N({..._,active:P.target.checked}),className:"w-4 h-4"}),l.jsx("label",{htmlFor:"active",className:"text-sm font-medium",style:{color:"var(--color-text)"},children:"Activo"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(cy,{size:18}),k?"Actualizar":"Guardar"]}),l.jsxs("button",{type:"button",onClick:se,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 dark:text-white font-semibold",children:[l.jsx(wr,{size:18}),"Cancelar"]})]})]})]})}),r.filter(P=>P.category===M).length===0?l.jsxs("div",{className:"text-center py-12 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(wo,{size:48,className:"mx-auto mb-4 opacity-40",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"text-lg opacity-60",style:{color:"var(--color-text)"},children:"No hay productos en esta categora"}),l.jsx("p",{className:"text-sm opacity-40 mt-2",style:{color:"var(--color-text)"},children:"Puedes empezar a agregarlos para verlos aqu"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.filter(P=>P.category===M).map(P=>l.jsxs("div",{className:"rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow border-2 relative",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-primary)"},children:[P.uses_materia_prima&&l.jsx("div",{className:"absolute top-3 right-3 p-1.5 rounded-lg",style:{backgroundColor:"var(--color-primary)",opacity:.9},title:"Usa Materia Prima",children:l.jsx(fa,{size:16,style:{color:"var(--color-on-primary)"}})}),l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:P.name}),l.jsx("p",{className:"text-sm opacity-60 capitalize",style:{color:"var(--color-text)"},children:P.category})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Precio de Venta:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(y[P.id]||P.price)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Costo:"}),l.jsxs("span",{className:"font-bold opacity-60",style:{color:"var(--color-text)"},children:[pe(P.production_cost),P.uses_materia_prima&&l.jsx("span",{className:"text-xs ml-1",children:"(auto)"})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Margen:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:pe((y[P.id]||P.price)-P.production_cost)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Stock:"}),l.jsx("span",{className:"font-bold",style:{color:(P.uses_materia_prima?(v[P.id]||0)<10:P.stock<10)?"#ef4444":"var(--color-text)"},children:P.uses_materia_prima?`${it(v[P.id]||0)} (auto)`:it(P.stock)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Estado:"}),l.jsx("span",{className:"font-semibold",style:{color:"var(--color-primary)"},children:P.active?"Activo":"Inactivo"})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsxs("button",{onClick:()=>V(P),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ly,{size:14}),"Editar"]}),l.jsxs("button",{onClick:()=>T(P),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:P.active?"var(--color-background-accent)":"var(--color-primary)",color:P.active?"var(--color-text)":"var(--color-on-primary)"},children:[l.jsx(TS,{size:14}),P.active?"Desactivar":"Activar"]}),l.jsxs("button",{onClick:()=>W(P.id),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ri,{size:14}),"Eliminar"]})]})]},P.id))})]})}const xw={cash:"Efectivo",online:"Transferencia",card:"Tarjeta",on_delivery:"Contra Entrega",unpaid:"Sin Pagar"},bw=[2e4,1e4,5e3,2e3,1e3,500,200,100];function J4(){const{theme:e}=bc(),{sales:t,getSaleItems:r,loading:n,updateSale:o,refresh:a}=rp(),[i,s]=h.useState(null),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(""),[y,x]=h.useState(new Set),[b,w]=h.useState("all"),[k,S]=h.useState("all"),[_,N]=h.useState("cash"),[C,z]=h.useState(0),[U,M]=h.useState([]),Y=h.useMemo(()=>t.filter(P=>{if(p){const B=new Date(P.completed_at),[E,A,H]=p.split("-").map(Number),q=new Date(E,A-1,H,0,0,0,0);if(B<q)return!1}if(v){const B=new Date(P.completed_at),[E,A,H]=v.split("-").map(Number),q=new Date(E,A-1,H,23,59,59,999);if(B>q)return!1}if(y.size>0&&!y.has(P.payment_method)||b!=="all"&&P.order_type!==b)return!1;if(k!=="all"){const B=P.payment_method!=="unpaid";if(k==="paid"&&!B||k==="unpaid"&&B)return!1}return!0}),[t,p,v,y,b,k]),ae=P=>{x(B=>{const E=new Set(B);return E.has(P)?E.delete(P):E.add(P),E})},Q=()=>{m(""),g(""),x(new Set),w("all"),S("all")},F=p||v||y.size>0||b!=="all"||k!=="all",K=h.useCallback(async P=>{const B=await r(P);u(B)},[r]),V=P=>new Date(P).toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1});h.useEffect(()=>{i&&(K(i.id),N("cash"),z(0),M([]))},[K,i]);const T=h.useMemo(()=>i?C-i.total_amount:0,[i,C]),W=h.useMemo(()=>{if(T<=0)return null;let P=T;const B=[];for(const E of bw)if(P>=E){const A=Math.floor(P/E);B.push({bill_value:E,quantity:A}),P=P%E}return P>0?null:B},[T]),se=P=>{z(B=>B+P),M(B=>[...B,P])},ge=()=>{if(U.length>0){const P=U[U.length-1];z(B=>B-P),M(B=>B.slice(0,-1))}},ee=()=>{z(0),M([])},te=()=>!i||i.payment_method!=="unpaid"?!1:_!=="cash"?!0:!(C<i.total_amount||T>0&&!W),J=async()=>{if(!(!i||!te()))try{const P={payment_method:_};if(_==="cash"){if(P.cash_received=C,P.change_given=T,W){const H={};W.forEach(q=>{H[q.bill_value.toString()]=q.quantity}),P.bills_change=H}const A={};U.forEach(H=>{A[H.toString()]=(A[H.toString()]||0)+1}),P.bills_received=A}await o(i.id,P);const E=t.map(A=>A.id===i.id?{...A,...P}:A).find(A=>A.id===i.id);E&&s(E),await a(),z(0),M([]),N("cash"),de.success("Pago registrado correctamente!")}catch(P){console.error("Error marking sale as paid:",P),de.error("Error al registrar el pago")}},ye=async()=>{if(!i||c.length===0){de.error("No hay venta seleccionada o la venta no tiene artculos");return}try{await L.init();const P=await L.get("app_settings","default"),B=ea(P);if(B==="off"){de.error("KDS no est habilitado");return}if(B==="server"&&!(P!=null&&P.kds_url)){de.error("No hay URL de servidor KDS configurada");return}const E=await Promise.all(c.map(async q=>{let O="otros";try{const ie=await L.get("products",q.product_id);ie!=null&&ie.category&&(O=ie.category)}catch(ie){console.warn(`Could not fetch category for product ${q.product_id}:`,ie)}return{product_name:q.product_name,quantity:q.quantity,product_price:q.product_price,removed_ingredients:q.removed_ingredients||[],combo_name:q.combo_name||null,category:O,variable_ingredients:q.variable_ingredients?q.variable_ingredients.map(ie=>({name:ie.name,quantity:ie.quantity})):null}})),A={sale_number:i.sale_number,items:E,total:i.total_amount,payment_method:i.payment_method,scheduled_time:i.scheduled_time||null,customer_name:i.customer_name||null,order_type:i.order_type||null,delivery_address:i.order_type==="delivery"&&i.delivery_address||null,created_at:new Date().toISOString()};if(B==="local"){const q={id:crypto.randomUUID(),...A,status:"pending"};await L.put("kds_orders",q),de.success(`Venta #${i.sale_number} enviada a KDS correctamente`);return}const H=await fetch(`${P.kds_url}/api/orders`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)});if(!H.ok){const q=await H.text();console.error("Failed to send order to KDS:",H.statusText,q),de.error(`Error al enviar a KDS: ${H.statusText}`);return}de.success(`Venta #${i.sale_number} enviada a KDS correctamente`)}catch(P){console.error("Error sending sale to KDS:",P),de.error("Error al enviar la venta a KDS")}};return n?l.jsx(np,{}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(sy,{style:{color:"var(--color-primary)"}}),"Historial de Ventas"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Consult el registro completo de todas las transacciones realizadas"})]}),l.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition-all",style:{backgroundColor:F?"var(--color-accent)":"var(--color-background-secondary)",color:F?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(MS,{size:18}),"Filtros",F&&l.jsx("span",{className:"w-5 h-5 rounded-full text-xs flex items-center justify-center",style:{backgroundColor:"var(--color-on-accent)",color:"var(--color-accent)"},children:(p?1:0)+(v?1:0)+y.size+(b!=="all"?1:0)+(k!=="all"?1:0)})]})]}),d&&l.jsxs("div",{className:"mt-4 p-4 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"font-semibold",style:{color:"var(--color-text)"},children:"Filtros"}),F&&l.jsxs("button",{onClick:Q,className:"text-sm flex items-center gap-1 hover:opacity-80",style:{color:"var(--color-primary)"},children:[l.jsx(wr,{size:14}),"Limpiar filtros"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Fecha desde"}),l.jsx("input",{type:"date",value:p,onChange:P=>m(P.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Fecha hasta"}),l.jsx("input",{type:"date",value:v,onChange:P=>g(P.target.value),className:"w-full px-3 py-2 rounded-lg",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",border:"1px solid var(--color-background-accent)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Tipo de pedido"}),l.jsx("div",{className:"flex gap-1",children:["all","pickup","delivery"].map(P=>l.jsx("button",{onClick:()=>w(P),className:"flex-1 px-2 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:b===P?"var(--color-accent)":"var(--color-background)",color:b===P?"var(--color-on-accent)":"var(--color-text)"},children:P==="all"?"Todos":P==="pickup"?"Retiro":"Delivery"},P))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Estado de pago"}),l.jsx("div",{className:"flex gap-1",children:["all","paid","unpaid"].map(P=>l.jsx("button",{onClick:()=>S(P),className:"flex-1 px-2 py-2 rounded-lg text-xs font-semibold transition-all",style:{backgroundColor:k===P?"var(--color-accent)":"var(--color-background)",color:k===P?"var(--color-on-accent)":"var(--color-text)"},children:P==="all"?"Todos":P==="paid"?"Pagado":"Sin pagar"},P))})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Mtodo de pago"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"cash",label:"Efectivo",icon:Ad},{key:"online",label:"Transferencia",icon:Md},{key:"card",label:"Tarjeta",icon:jl},{key:"on_delivery",label:"Contra Entrega",icon:xr}].map(({key:P,label:B,icon:E})=>l.jsxs("button",{onClick:()=>ae(P),className:"flex items-center gap-1 px-3 py-2 rounded-lg text-sm font-semibold transition-all",style:{backgroundColor:y.has(P)?"var(--color-accent)":"var(--color-background)",color:y.has(P)?"var(--color-on-accent)":"var(--color-text)"},children:[l.jsx(E,{size:14}),B]},P))})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:"Ventas Recientes"}),l.jsxs("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[Y.length," ",Y.length===1?"venta":"ventas",F&&` (de ${t.length})`]})]}),l.jsx("div",{className:"space-y-3 max-h-[60vh] overflow-auto scrollbar-hide",children:Y.length===0?l.jsx("div",{className:"text-center text-gray-400 py-8",children:F?"No hay ventas que coincidan con los filtros":"An no hay ventas"}):Y.map(P=>l.jsxs("div",{onClick:()=>s(P),className:`p-4 rounded-lg cursor-pointer transition-all ${(i==null?void 0:i.id)===P.id?"":"hover:opacity-70"} ${P.payment_method==="unpaid"?"border-l-4":""}`,style:{backgroundColor:(i==null?void 0:i.id)===P.id?"var(--color-primary)":P.payment_method==="unpaid"?"var(--color-accent-light, rgba(239, 68, 68, 0.1))":"var(--color-background-accent)",color:(i==null?void 0:i.id)===P.id?"var(--color-on-primary)":"var(--color-text)",borderLeftColor:P.payment_method==="unpaid"?"#ef4444":void 0},children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-2xl font-bold",style:{color:(i==null?void 0:i.id)===P.id?"var(--color-on-primary)":"var(--color-text)"},children:["#",parseInt(P.sale_number.replace(/^S-/,"")).toLocaleString("es-AR")]}),P.payment_method==="unpaid"&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-bold",style:{backgroundColor:"#ef4444",color:"white"},children:"SIN PAGAR"})]}),l.jsx("div",{className:"text-lg font-bold",children:pe(P.total_amount)})]}),l.jsxs("div",{className:"text-sm opacity-90 flex items-center gap-2",children:[l.jsx(vI,{size:14}),V(P.completed_at)]}),l.jsxs("div",{className:"text-sm opacity-90 mt-1",children:["Pago:"," ",xw[P.payment_method]||P.payment_method,P.cash_received&&` | Recibido: ${pe(P.cash_received)}`]}),l.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[P.customer_name&&l.jsxs("span",{className:"text-xs flex items-center gap-1 opacity-80",children:[l.jsx(Cl,{size:12}),P.customer_name]}),P.order_type&&l.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full font-medium flex items-center gap-1",style:{backgroundColor:P.order_type==="delivery"?"#3b82f6":"#10b981",color:"white"},children:P.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(xr,{size:10})," Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(Sl,{size:10})," Retiro"]})})]})]},P.id))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Detalles de Venta"}),i?l.jsxs("div",{children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Venta"}),l.jsxs("div",{className:"text-2xl font-bold mb-3",children:["#",parseInt(i.sale_number.replace(/^S-/,"")).toLocaleString("es-AR")]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Fecha"}),l.jsx("div",{className:"font-semibold",children:V(i.completed_at)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Pago"}),l.jsx("div",{className:"font-semibold",children:xw[i.payment_method]||i.payment_method})]}),i.customer_name&&l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Cliente"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(Cl,{size:12}),i.customer_name]})]}),i.order_type&&l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Tipo"}),l.jsx("div",{className:"font-semibold flex items-center gap-1",children:i.order_type==="delivery"?l.jsxs(l.Fragment,{children:[l.jsx(xr,{size:12})," Delivery"]}):l.jsxs(l.Fragment,{children:[l.jsx(Sl,{size:12})," Retiro"]})})]})]}),i.delivery_address&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Direccin"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(CI,{size:12}),i.delivery_address]})]}),i.scheduled_time&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Hora programada"}),l.jsxs("div",{className:"font-semibold flex items-center gap-1",children:[l.jsx(_l,{size:12}),new Date(i.scheduled_time).toLocaleTimeString("es-AR",{hour:"2-digit",minute:"2-digit",hour12:!1})]})]}),i.delivered_at&&l.jsxs("div",{className:"mt-3 text-sm",children:[l.jsx("div",{className:"opacity-90",children:"Entregado"}),l.jsx("div",{className:"font-semibold",children:V(i.delivered_at)})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Artculos"]}),l.jsx("div",{className:"space-y-2",children:(()=>{const P=new Map,B=[];c.forEach(O=>{if(O.combo_instance_id&&O.combo_name){const ie=P.get(O.combo_instance_id);ie?ie.items.push(O):P.set(O.combo_instance_id,{comboName:O.combo_name,items:[O]})}else if(O.combo_name&&!O.combo_instance_id){let ie=!1;P.forEach((re,me)=>{me.startsWith("legacy-")&&re.comboName===O.combo_name&&(re.items.push(O),ie=!0)}),ie||P.set(`legacy-${O.combo_name}-${crypto.randomUUID()}`,{comboName:O.combo_name,items:[O]})}else B.push(O)});const E=O=>{const ie=(O.removed_ingredients||[]).sort().join(",");return`${O.product_name}|${ie}`},A=O=>[...O].sort((re,me)=>(re.combo_slot_index??0)-(me.combo_slot_index??0)).map(E).join("::"),H=[],q=new Map;return P.forEach(({comboName:O,items:ie})=>{var Ke;const re=`${O}::${A(ie)}`,me=(Ke=ie[0])==null?void 0:Ke.combo_unit_price,xe=me!==void 0?me:ie.reduce((ze,Be)=>ze+Be.subtotal,0),De=q.get(re);if(De)De.quantity++,De.total+=xe;else{const ze={comboName:O,items:ie,quantity:1,unitPrice:xe,total:xe};q.set(re,ze),H.push(ze)}}),l.jsxs(l.Fragment,{children:[H.map((O,ie)=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("div",{className:"font-bold flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:O.quantity>1?`${O.quantity}x COMBO`:"COMBO"}),O.comboName]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:O.quantity>1?l.jsxs("span",{children:[pe(O.unitPrice),"  ",O.quantity," = ",pe(O.total)]}):l.jsx("span",{children:pe(O.total)})})]}),l.jsx("div",{className:"pl-3 border-l-2 space-y-1",style:{borderColor:"var(--color-accent)"},children:[...O.items].sort((re,me)=>(re.combo_slot_index??0)-(me.combo_slot_index??0)).map((re,me)=>l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)"},children:re.product_name}),re.removed_ingredients&&re.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic",style:{color:"var(--color-primary)"},children:["Sin:"," ",re.removed_ingredients.join(", ")]})]},me))})]},`${O.comboName}-${ie}`)),B.map(O=>l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:O.product_name}),l.jsxs("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[pe(O.product_price)," "," ",it(O.quantity)]})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(O.subtotal)})]}),O.removed_ingredients&&O.removed_ingredients.length>0&&l.jsxs("div",{className:"text-xs italic mt-1",style:{color:"var(--color-primary)"},children:["Sin: ",O.removed_ingredients.join(", ")]})]},O.id))]})})()})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-lg",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"font-bold",children:pe(i.total_amount)})]}),i.cash_received&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",children:pe(i.cash_received)})]}),i.bills_received&&Object.keys(i.bills_received).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(i.bills_received).sort(([P],[B])=>Number(B)-Number(P)).map(([P,B])=>l.jsxs("span",{className:`text-xs px-2 py-1 rounded ${e==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}`,children:[it(B),"x"," ",pe(Number(P))]},P))})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-300 mb-2",children:[l.jsx("span",{className:"font-semibold",children:"Cambio Entregado:"}),l.jsx("span",{className:"font-bold",children:pe(i.change_given||0)})]}),i.bills_change&&Object.keys(i.bills_change).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(i.bills_change).sort(([P],[B])=>Number(B)-Number(P)).map(([P,B])=>l.jsxs("span",{className:`text-xs px-2 py-1 rounded ${e==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}`,children:[it(B),"x"," ",pe(Number(P))]},P))})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("button",{onClick:ye,disabled:!i||c.length===0,className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-all",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(IS,{size:18}),"Enviar a KDS"]})}),i.payment_method==="unpaid"&&l.jsxs("div",{className:"mt-6 p-4 rounded-lg border-2 border-dashed",style:{borderColor:"var(--color-accent)"},children:[l.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(Dd,{size:18}),"Marcar como Pagado"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[l.jsxs("button",{onClick:()=>N("cash"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="cash"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Ad,{size:16}),"Efectivo"]}),l.jsxs("button",{onClick:()=>N("online"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="online"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(Md,{size:16}),"Transferencia"]}),l.jsxs("button",{onClick:()=>N("card"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="card"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(jl,{size:16}),"Tarjeta"]}),l.jsxs("button",{onClick:()=>N("on_delivery"),className:"py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 transition-all text-sm",style:_==="on_delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(xr,{size:16}),"Contra Entrega"]})]}),_==="cash"&&l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm",style:{color:"var(--color-text)"},children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(C)})]}),l.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:bw.map(P=>l.jsx("button",{onClick:()=>se(P),className:"py-2 rounded-lg text-xs font-semibold transition-all hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:pe(P)},P))}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsx("button",{onClick:ge,disabled:U.length===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Deshacer"}),l.jsx("button",{onClick:ee,disabled:C===0,className:"flex-1 py-2 rounded-lg text-sm font-semibold disabled:opacity-50",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:"Reiniciar"})]}),C>=i.total_amount&&l.jsxs("div",{className:"p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Cambio:"}),l.jsx("span",{className:"font-bold",children:pe(T)})]}),W&&T>0&&l.jsx("div",{className:"flex flex-wrap gap-1",children:W.map((P,B)=>l.jsxs("span",{className:"text-xs px-2 py-1 rounded",style:{backgroundColor:"var(--color-accent)",color:"var(--color-on-accent)"},children:[P.quantity,"x ",pe(P.bill_value)]},B))}),!W&&T>0&&l.jsx("div",{className:"text-xs text-center opacity-70",style:{color:"var(--color-text)"},children:"No se puede dar cambio exacto"})]})]}),l.jsx("button",{onClick:J,disabled:!te(),className:"w-full py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:"Confirmar Pago"})]})]}):l.jsx("div",{className:"text-center text-gray-400 py-12",children:"Selecciona una venta para ver detalles"})]})]})]})}var eR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function by(e){if(typeof e!="string")return!1;var t=eR;return t.includes(e)}var tR=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rR=new Set(tR);function OC(e){return typeof e!="string"?!1:rR.has(e)}function AC(e){return typeof e=="string"&&e.startsWith("data-")}function eo(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OC(r)||AC(r))&&(t[r]=e[r]);return t}function op(e){if(e==null)return null;if(h.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return eo(t)}return typeof e=="object"&&!Array.isArray(e)?eo(e):null}function Sr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(OC(r)||AC(r)||by(r))&&(t[r]=e[r]);return t}function nR(e){return e==null?null:h.isValidElement(e)?Sr(e.props):typeof e=="object"&&!Array.isArray(e)?Sr(e):null}var oR=["children","width","height","viewBox","className","style","title","desc"];function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(null,arguments)}function aR(e,t){if(e==null)return{};var r,n,o=iR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function iR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DC=h.forwardRef((e,t)=>{var{children:r,width:n,height:o,viewBox:a,className:i,style:s,title:c,desc:u}=e,d=aR(e,oR),f=a||{width:n,height:o,x:0,y:0},p=tt("recharts-surface",i);return h.createElement("svg",mv({},Sr(d),{className:p,width:n,height:o,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),h.createElement("title",null,c),h.createElement("desc",null,u),r)}),sR=["children","className"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function lR(e,t){if(e==null)return{};var r,n,o=cR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function cR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var va=h.forwardRef((e,t)=>{var{children:r,className:n}=e,o=lR(e,sR),a=tt("recharts-layer",n);return h.createElement("g",hv({className:a},Sr(o),{ref:t}),r)}),uR=h.createContext(null);function at(e){return function(){return e}}const MC=Math.cos,Ud=Math.sin,Bn=Math.sqrt,qd=Math.PI,ap=2*qd,vv=Math.PI,gv=2*vv,Ta=1e-6,dR=gv-Ta;function IC(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function fR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IC;const r=10**t;return function(n){this._+=n[0];for(let o=1,a=n.length;o<a;++o)this._+=Math.round(arguments[o]*r)/r+n[o]}}class pR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IC:fR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,o){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+o}`}bezierCurveTo(t,r,n,o,a,i){this._append`C${+t},${+r},${+n},${+o},${this._x1=+a},${this._y1=+i}`}arcTo(t,r,n,o,a){if(t=+t,r=+r,n=+n,o=+o,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,s=this._y1,c=n-t,u=o-r,d=i-t,f=s-r,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>Ta)if(!(Math.abs(f*c-u*d)>Ta)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-i,v=o-s,g=c*c+u*u,y=m*m+v*v,x=Math.sqrt(g),b=Math.sqrt(p),w=a*Math.tan((vv-Math.acos((g+p-y)/(2*x*b)))/2),k=w/b,S=w/x;Math.abs(k-1)>Ta&&this._append`L${t+k*d},${r+k*f}`,this._append`A${a},${a},0,0,${+(f*m>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,o,a,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(o),c=n*Math.sin(o),u=t+s,d=r+c,f=1^i,p=i?o-a:a-o;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ta||Math.abs(this._y1-d)>Ta)&&this._append`L${u},${d}`,n&&(p<0&&(p=p%gv+gv),p>dR?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:p>Ta&&this._append`A${n},${n},0,${+(p>=vv)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,o){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+o}h${-n}Z`}toString(){return this._}}function wy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new pR(t)}function ky(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TC(e){this._context=e}TC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ip(e){return new TC(e)}function RC(e){return e[0]}function zC(e){return e[1]}function LC(e,t){var r=at(!0),n=null,o=ip,a=null,i=wy(s);e=typeof e=="function"?e:e===void 0?RC:at(e),t=typeof t=="function"?t:t===void 0?zC:at(t);function s(c){var u,d=(c=ky(c)).length,f,p=!1,m;for(n==null&&(a=o(m=i())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:at(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:at(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:at(!!c),s):r},s.curve=function(c){return arguments.length?(o=c,n!=null&&(a=o(n)),s):o},s.context=function(c){return arguments.length?(c==null?n=a=null:a=o(n=c),s):n},s}function Cu(e,t,r){var n=null,o=at(!0),a=null,i=ip,s=null,c=wy(u);e=typeof e=="function"?e:e===void 0?RC:at(+e),t=typeof t=="function"?t:at(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?zC:at(+r);function u(f){var p,m,v,g=(f=ky(f)).length,y,x=!1,b,w=new Array(g),k=new Array(g);for(a==null&&(s=i(b=c())),p=0;p<=g;++p){if(!(p<g&&o(y=f[p],p,f))===x)if(x=!x)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=p-1;v>=m;--v)s.point(w[v],k[v]);s.lineEnd(),s.areaEnd()}x&&(w[p]=+e(y,p,f),k[p]=+t(y,p,f),s.point(n?+n(y,p,f):w[p],r?+r(y,p,f):k[p]))}if(b)return s=null,b+""||null}function d(){return LC().defined(o).curve(i).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:at(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:at(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:at(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:at(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(o=typeof f=="function"?f:at(!!f),u):o},u.curve=function(f){return arguments.length?(i=f,a!=null&&(s=i(a)),u):i},u.context=function(f){return arguments.length?(f==null?a=s=null:s=i(a=f),u):a},u}class $C{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function mR(e){return new $C(e,!0)}function hR(e){return new $C(e,!1)}const _y={draw(e,t){const r=Bn(t/qd);e.moveTo(r,0),e.arc(0,0,r,0,ap)}},vR={draw(e,t){const r=Bn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},FC=Bn(1/3),gR=FC*2,yR={draw(e,t){const r=Bn(t/gR),n=r*FC;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},xR={draw(e,t){const r=Bn(t),n=-r/2;e.rect(n,n,r,r)}},bR=.8908130915292852,BC=Ud(qd/10)/Ud(7*qd/10),wR=Ud(ap/10)*BC,kR=-MC(ap/10)*BC,_R={draw(e,t){const r=Bn(t*bR),n=wR*r,o=kR*r;e.moveTo(0,-r),e.lineTo(n,o);for(let a=1;a<5;++a){const i=ap*a/5,s=MC(i),c=Ud(i);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*o,c*n+s*o)}e.closePath()}},Km=Bn(3),jR={draw(e,t){const r=-Bn(t/(Km*3));e.moveTo(0,r*2),e.lineTo(-Km*r,-r),e.lineTo(Km*r,-r),e.closePath()}},an=-.5,sn=Bn(3)/2,yv=1/Bn(12),SR=(yv/2+1)*3,CR={draw(e,t){const r=Bn(t/SR),n=r/2,o=r*yv,a=n,i=r*yv+r,s=-a,c=i;e.moveTo(n,o),e.lineTo(a,i),e.lineTo(s,c),e.lineTo(an*n-sn*o,sn*n+an*o),e.lineTo(an*a-sn*i,sn*a+an*i),e.lineTo(an*s-sn*c,sn*s+an*c),e.lineTo(an*n+sn*o,an*o-sn*n),e.lineTo(an*a+sn*i,an*i-sn*a),e.lineTo(an*s+sn*c,an*c-sn*s),e.closePath()}};function NR(e,t){let r=null,n=wy(o);e=typeof e=="function"?e:at(e||_y),t=typeof t=="function"?t:at(t===void 0?64:+t);function o(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return o.type=function(a){return arguments.length?(e=typeof a=="function"?a:at(a),o):e},o.size=function(a){return arguments.length?(t=typeof a=="function"?a:at(+a),o):t},o.context=function(a){return arguments.length?(r=a??null,o):r},o}function Wd(){}function Kd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UC(e){this._context=e}UC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Kd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PR(e){return new UC(e)}function qC(e){this._context=e}qC.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ER(e){return new qC(e)}function WC(e){this._context=e}WC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Kd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OR(e){return new WC(e)}function KC(e){this._context=e}KC.prototype={areaStart:Wd,areaEnd:Wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AR(e){return new KC(e)}function ww(e){return e<0?-1:1}function kw(e,t,r){var n=e._x1-e._x0,o=t-e._x1,a=(e._y1-e._y0)/(n||o<0&&-0),i=(r-e._y1)/(o||n<0&&-0),s=(a*o+i*n)/(n+o);return(ww(a)+ww(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(s))||0}function _w(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hm(e,t,r){var n=e._x0,o=e._y0,a=e._x1,i=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,o+s*t,a-s,i-s*r,a,i)}function Hd(e){this._context=e}Hd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hm(this,this._t0,_w(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hm(this,_w(this,r=kw(this,e,t)),r);break;default:Hm(this,this._t0,r=kw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HC(e){this._context=new VC(e)}(HC.prototype=Object.create(Hd.prototype)).point=function(e,t){Hd.prototype.point.call(this,t,e)};function VC(e){this._context=e}VC.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,o,a){this._context.bezierCurveTo(t,e,n,r,a,o)}};function DR(e){return new Hd(e)}function MR(e){return new HC(e)}function YC(e){this._context=e}YC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=jw(e),o=jw(t),a=0,i=1;i<r;++a,++i)this._context.bezierCurveTo(n[0][a],o[0][a],n[1][a],o[1][a],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function jw(e){var t,r=e.length-1,n,o=new Array(r),a=new Array(r),i=new Array(r);for(o[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)o[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(o[r-1]=2,a[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=o[t]/a[t-1],a[t]-=n,i[t]-=n*i[t-1];for(o[r-1]=i[r-1]/a[r-1],t=r-2;t>=0;--t)o[t]=(i[t]-o[t+1])/a[t];for(a[r-1]=(e[r]+o[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-o[t+1];return[o,a]}function IR(e){return new YC(e)}function sp(e,t){this._context=e,this._t=t}sp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TR(e){return new sp(e,.5)}function RR(e){return new sp(e,0)}function zR(e){return new sp(e,1)}function os(e,t){if((i=e.length)>1)for(var r=1,n,o,a=e[t[0]],i,s=a.length;r<i;++r)for(o=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(o[n][1])?o[n][0]:o[n][1]}function xv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function LR(e,t){return e[t]}function $R(e){const t=[];return t.key=e,t}function FR(){var e=at([]),t=xv,r=os,n=LR;function o(a){var i=Array.from(e.apply(this,arguments),$R),s,c=i.length,u=-1,d;for(const f of a)for(s=0,++u;s<c;++s)(i[s][u]=[0,+n(f,i[s].key,u,a)]).data=f;for(s=0,d=ky(t(i));s<c;++s)i[d[s]].index=s;return r(i,d),i}return o.keys=function(a){return arguments.length?(e=typeof a=="function"?a:at(Array.from(a)),o):e},o.value=function(a){return arguments.length?(n=typeof a=="function"?a:at(+a),o):n},o.order=function(a){return arguments.length?(t=a==null?xv:typeof a=="function"?a:at(Array.from(a)),o):t},o.offset=function(a){return arguments.length?(r=a??os,o):r},o}function BR(e,t){if((n=e.length)>0){for(var r,n,o=0,a=e[0].length,i;o<a;++o){for(i=r=0;r<n;++r)i+=e[r][o][1]||0;if(i)for(r=0;r<n;++r)e[r][o][1]/=i}os(e,t)}}function UR(e,t){if((o=e.length)>0){for(var r=0,n=e[t[0]],o,a=n.length;r<a;++r){for(var i=0,s=0;i<o;++i)s+=e[i][r][1]||0;n[r][1]+=n[r][0]=-s/2}os(e,t)}}function qR(e,t){if(!(!((i=e.length)>0)||!((a=(o=e[t[0]]).length)>0))){for(var r=0,n=1,o,a,i;n<a;++n){for(var s=0,c=0,u=0;s<i;++s){for(var d=e[t[s]],f=d[n][1]||0,p=d[n-1][1]||0,m=(f-p)/2,v=0;v<s;++v){var g=e[t[v]],y=g[n][1]||0,x=g[n-1][1]||0;m+=y-x}c+=f,u+=m*f}o[n-1][1]+=o[n-1][0]=r,c&&(r-=u/c)}o[n-1][1]+=o[n-1][0]=r,os(e,t)}}var lp={},GC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(GC);var jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(jy);var cp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cp);var up={},XC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(XC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XC,r=cp;function n(o){if(Array.isArray(o))return o.map(r.toKey);if(typeof o=="symbol")return[o];o=t.toString(o);const a=[],i=o.length;if(i===0)return a;let s=0,c="",u="",d=!1;for(o.charCodeAt(0)===46&&(a.push(""),s++);s<i;){const f=o[s];u?f==="\\"&&s+1<i?(s++,c+=o[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,s++}return c&&a.push(c),a}e.toPath=n})(up);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GC,r=jy,n=cp,o=up;function a(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?a(s,o.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return i(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function i(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(lp);var WR=lp.get;const dp=ao(WR);var pn=e=>e===0?0:e>0?1:-1,to=e=>typeof e=="number"&&e!=+e,Po=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Pe=e=>(typeof e=="number"||e instanceof Number)&&!to(e),ro=e=>Pe(e)||typeof e=="string",KR=0,Jl=e=>{var t=++KR;return"".concat(e||"").concat(t)},ga=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(t)&&typeof t!="string")return n;var a;if(Po(t)){if(r==null)return n;var i=t.indexOf("%");a=r*parseFloat(t.slice(0,i))/100}else a=+t;return to(a)&&(a=n),o&&r!=null&&a>r&&(a=r),a},QC=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function zr(e,t,r){return Pe(e)&&Pe(t)?e+r*(t-e):t}function ZC(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):dp(n,t))===r)}var Xt=e=>e===null||typeof e>"u",Cc=e=>Xt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function HR(e){return e!=null}function Nc(){}var VR=["type","size","sizeType"];function bv(){return bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bv.apply(null,arguments)}function Sw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sw(Object(r),!0).forEach(function(n){YR(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YR(e,t,r){return(t=GR(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GR(e){var t=XR(e,"string");return typeof t=="symbol"?t:t+""}function XR(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QR(e,t){if(e==null)return{};var r,n,o=ZR(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ZR(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JC={symbolCircle:_y,symbolCross:vR,symbolDiamond:yR,symbolSquare:xR,symbolStar:_R,symbolTriangle:jR,symbolWye:CR},JR=Math.PI/180,e5=e=>{var t="symbol".concat(Cc(e));return JC[t]||_y},t5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*JR;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},r5=(e,t)=>{JC["symbol".concat(Cc(e))]=t},e2=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,o=QR(e,VR),a=Cw(Cw({},o),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var s=()=>{var p=e5(i),m=NR().type(p).size(t5(r,n,i)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=a,f=Sr(a);return Pe(u)&&Pe(d)&&Pe(r)?h.createElement("path",bv({},f,{className:tt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};e2.registerSymbol=r5;var t2=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Sy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(h.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(o=>{by(o)&&(n[o]=a=>r[o](r,a))}),n},n5=(e,t,r)=>n=>(e(t,r,n),null),o5=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(o=>{var a=e[o];by(o)&&typeof a=="function"&&(n||(n={}),n[o]=n5(a,t,r))}),n};function Nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function a5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nw(Object(r),!0).forEach(function(n){i5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i5(e,t,r){return(t=s5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s5(e){var t=l5(e,"string");return typeof t=="symbol"?t:t+""}function l5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var r=a5({},e),n=t,o=Object.keys(t),a=o.reduce((i,s)=>(i[s]===void 0&&n[s]!==void 0&&(i[s]=n[s]),i),r);return a}var r2={},n2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const o=new Map;for(let a=0;a<r.length;a++){const i=r[a],s=n(i);o.has(s)||o.set(s,i)}return Array.from(o.values())}e.uniqBy=t})(n2);var Cy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Cy);var o2={},fp={},a2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(a2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a2;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(fp);var i2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(i2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fp,r=i2;function n(o){return r.isObjectLike(o)&&t.isArrayLike(o)}e.isArrayLikeObject=n})(o2);var s2={},l2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lp;function r(n){return function(o){return t.get(o,n)}}e.property=r})(l2);var c2={},Ny={},u2={},Py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Py);var Ey={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ey);var Oy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Oy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Py,r=Ey,n=Oy;function o(d,f,p){return typeof p!="function"?o(d,f,()=>{}):a(d,f,function m(v,g,y,x,b,w){const k=p(v,g,y,x,b,w);return k!==void 0?!!k:a(v,g,m,w)},new Map)}function a(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,p,m);case"function":return Object.keys(f).length>0?a(d,{...f},p,m):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const v=Object.keys(f);if(d==null)return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let g=0;g<v.length;g++){const y=v[g];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!p(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,g]of f.entries()){const y=d.get(v);if(p(y,g,v,d,f,m)===!1)return!1}return!0}function c(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let g=0;g<f.length;g++){const y=f[g];let x=!1;for(let b=0;b<d.length;b++){if(v.has(b))continue;const w=d[b];let k=!1;if(p(w,y,g,d,f,m)&&(k=!0),k){v.add(b),x=!0;break}}if(!x)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],p,m):!1}e.isMatchWith=o,e.isSetMatch=u})(u2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u2;function r(n,o){return t.isMatchWith(n,o,()=>{})}e.isMatch=r})(Ny);var d2={},Ay={},f2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(f2);var Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Dy);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",o="[object Boolean]",a="[object Arguments]",i="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",v="[object Error]",g="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",k="[object BigUint64Array]",S="[object Int8Array]",_="[object Int16Array]",N="[object Int32Array]",C="[object BigInt64Array]",z="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=k,e.booleanTag=o,e.dataViewTag=g,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=z,e.float64ArrayTag=U,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=N,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(My);var p2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(p2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f2,r=Dy,n=My,o=Ey,a=p2;function i(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,v=void 0){const g=v==null?void 0:v(d,f,p,m);if(g!==void 0)return g;if(o.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=s(d[x],x,p,m,v);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,s(b,x,p,m,v));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(s(x,void 0,p,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=s(d[x],x,p,m,v);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),c(y,d,p,m,v),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),c(y,d,p,m,v),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,c(y,d,p,m,v),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),c(y,d,p,m,v),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),c(y,d,p,m,v),y}return d}function c(d,f,p=d,m,v){const g=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<g.length;y++){const x=g[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=s(f[x],x,p,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=s,e.copyProperties=c})(Ay);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(d2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny,r=d2;function n(o){return o=r.cloneDeep(o),a=>t.isMatch(a,o)}e.matches=n})(c2);var m2={},h2={},v2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ay,r=My;function n(o,a){return t.cloneDeepWith(o,(i,s,c,u)=>{const d=a==null?void 0:a(i,s,c,u);if(d!==void 0)return d;if(typeof o=="object")switch(Object.prototype.toString.call(o)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new o.constructor(o==null?void 0:o.valueOf());return t.copyProperties(f,o),f}case r.argumentsTag:{const f={};return t.copyProperties(f,o),f.length=o.length,f[Symbol.iterator]=o[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(v2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v2;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(h2);var g2={},Iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,o=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<o;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iy);var y2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(y2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy,r=Iy,n=y2,o=up;function a(i,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(i==null?void 0:i[s])==null?c=o.toPath(s):c=[s],c.length===0)return!1;let u=i;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(g2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ny,r=cp,n=h2,o=lp,a=g2;function i(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=o.get(u,s);return d===void 0?a.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=i})(m2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy,r=l2,n=c2,o=m2;function a(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?o.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=a})(s2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n2,r=Cy,n=o2,o=s2;function a(i,s=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),o.iteratee(s)):[]}e.uniqBy=a})(r2);var c5=r2.uniqBy;const Pw=ao(c5);function u5(e,t,r){return t===!0?Pw(e,r):typeof t=="function"?Pw(e,t):e}var x2={exports:{}},b2={},w2={exports:{}},k2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=h;function d5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var f5=typeof Object.is=="function"?Object.is:d5,p5=as.useState,m5=as.useEffect,h5=as.useLayoutEffect,v5=as.useDebugValue;function g5(e,t){var r=t(),n=p5({inst:{value:r,getSnapshot:t}}),o=n[0].inst,a=n[1];return h5(function(){o.value=r,o.getSnapshot=t,Vm(o)&&a({inst:o})},[e,r,t]),m5(function(){return Vm(o)&&a({inst:o}),e(function(){Vm(o)&&a({inst:o})})},[e]),v5(r),r}function Vm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!f5(e,r)}catch{return!0}}function y5(e,t){return t()}var x5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y5:g5;k2.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:x5;w2.exports=k2;var b5=w2.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=h,w5=b5;function k5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _5=typeof Object.is=="function"?Object.is:k5,j5=w5.useSyncExternalStore,S5=pp.useRef,C5=pp.useEffect,N5=pp.useMemo,P5=pp.useDebugValue;b2.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=S5(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=N5(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return f=v}return f=m}if(v=f,_5(d,m))return v;var g=n(m);return o!==void 0&&o(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var s=j5(e,a[0],a[1]);return C5(function(){i.hasValue=!0,i.value=s},[s]),P5(s),s};x2.exports=b2;var E5=x2.exports,Ty=h.createContext(null),O5=e=>e,Zt=()=>{var e=h.useContext(Ty);return e?e.store.dispatch:O5},td=()=>{},A5=()=>td,D5=(e,t)=>e===t;function Ee(e){var t=h.useContext(Ty);return E5.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:A5,t?t.store.getState:td,t?t.store.getState:td,t?e:td,D5)}function M5(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function I5(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function T5(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Ew=e=>Array.isArray(e)?e:[e];function R5(e){const t=Array.isArray(e[0])?e[0]:e;return T5(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function z5(e,t){const r=[],{length:n}=e;for(let o=0;o<n;o++)r.push(e[o].apply(null,t));return r}var L5=class{constructor(e){this.value=e}deref(){return this.value}},$5=typeof WeakRef<"u"?WeakRef:L5,F5=0,Ow=1;function Nu(){return{s:F5,v:void 0,o:null,p:null}}function _2(e,t={}){let r=Nu();const{resultEqualityCheck:n}=t;let o,a=0;function i(){var f;let s=r;const{length:c}=arguments;for(let p=0,m=c;p<m;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let g=s.o;g===null&&(s.o=g=new WeakMap);const y=g.get(v);y===void 0?(s=Nu(),g.set(v,s)):s=y}else{let g=s.p;g===null&&(s.p=g=new Map);const y=g.get(v);y===void 0?(s=Nu(),g.set(v,s)):s=y}}const u=s;let d;if(s.s===Ow)d=s.v;else if(d=e.apply(null,arguments),a++,n){const p=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;p!=null&&n(p,d)&&(d=p,a!==0&&a--),o=typeof d=="object"&&d!==null||typeof d=="function"?new $5(d):d}return u.s=Ow,u.v=d,d}return i.clearCache=()=>{r=Nu(),i.resetResultsCount()},i.resultsCount=()=>a,i.resetResultsCount=()=>{a=0},i}function B5(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...o)=>{let a=0,i=0,s,c={},u=o.pop();typeof u=="object"&&(c=u,u=o.pop()),M5(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:p=[],argsMemoize:m=_2,argsMemoizeOptions:v=[]}=d,g=Ew(p),y=Ew(v),x=R5(o),b=f(function(){return a++,u.apply(null,arguments)},...g),w=m(function(){i++;const S=z5(x,arguments);return s=b.apply(null,S),s},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var X=B5(_2),U5=Object.assign((e,t=X)=>{I5(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((i,s,c)=>(i[r[c]]=s,i),{}))},{withTypes:()=>U5}),j2={},S2={},C2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,o,a)=>{if(n!==o){const i=t(n),s=t(o);if(i===s&&i===0){if(n<o)return a==="desc"?1:-1;if(n>o)return a==="desc"?-1:1}return a==="desc"?s-i:i-s}return 0};e.compareValues=r})(C2);var N2={},Ry={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ry);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function o(a,i){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||i!=null&&Object.hasOwn(i,a)}e.isKey=o})(N2);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C2,r=N2,n=up;function o(a,i,s,c){if(a==null)return[];s=c?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let g=m;for(let y=0;y<v.length&&g!=null;++y)g=g[v[y]];return g},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=i.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let g=0;g<f.length;g++){const y=t.compareValues(m.criteria[g],v.criteria[g],s[g]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=o})(S2);var P2={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const o=[],a=Math.floor(n),i=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<a?i(d,c+1):o.push(d)}};return i(r,0),o}e.flatten=t})(P2);var zy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy,r=fp,n=Py,o=Oy;function a(i,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?o.eq(c[s],i):!1}e.isIterateeCall=a})(zy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S2,r=P2,n=zy;function o(a,...i){const s=i.length;return s>1&&n.isIterateeCall(a,i[0],i[1])?i=[]:s>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(a,r.flatten(i),["asc"])}e.sortBy=o})(j2);var q5=j2.sortBy;const mp=ao(q5);var E2=e=>e.legend.settings,W5=e=>e.legend.size,K5=e=>e.legend.payload;X([K5,E2],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?mp(n,r):n});var Pu=1;function H5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=h.useState({height:0,left:0,top:0,width:0}),n=h.useCallback(o=>{if(o!=null){var a=o.getBoundingClientRect(),i={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(i.height-t.height)>Pu||Math.abs(i.left-t.left)>Pu||Math.abs(i.top-t.top)>Pu||Math.abs(i.width-t.width)>Pu)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var V5=typeof Symbol=="function"&&Symbol.observable||"@@observable",Aw=V5,Ym=()=>Math.random().toString(36).substring(7).split("").join("."),Y5={INIT:`@@redux/INIT${Ym()}`,REPLACE:`@@redux/REPLACE${Ym()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ym()}`},Vd=Y5;function Ly(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function O2(e,t,r){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rr(1));return r(O2)(e,t)}let n=e,o=t,a=new Map,i=a,s=0,c=!1;function u(){i===a&&(i=new Map,a.forEach((y,x)=>{i.set(x,y)}))}function d(){if(c)throw new Error(rr(3));return o}function f(y){if(typeof y!="function")throw new Error(rr(4));if(c)throw new Error(rr(5));let x=!0;u();const b=s++;return i.set(b,y),function(){if(x){if(c)throw new Error(rr(6));x=!1,u(),i.delete(b),a=null}}}function p(y){if(!Ly(y))throw new Error(rr(7));if(typeof y.type>"u")throw new Error(rr(8));if(typeof y.type!="string")throw new Error(rr(17));if(c)throw new Error(rr(9));try{c=!0,o=n(o,y)}finally{c=!1}return(a=i).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(rr(10));n=y,p({type:Vd.REPLACE})}function v(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(rr(11));function b(){const k=x;k.next&&k.next(d())}return b(),{unsubscribe:y(b)}},[Aw](){return this}}}return p({type:Vd.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[Aw]:v}}function G5(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Vd.INIT})>"u")throw new Error(rr(12));if(typeof r(void 0,{type:Vd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function A2(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const i=t[a];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let o;try{G5(r)}catch(a){o=a}return function(i={},s){if(o)throw o;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],p=r[f],m=i[f],v=p(m,s);if(typeof v>"u")throw s&&s.type,new Error(rr(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(i).length,c?u:i}}function Yd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function X5(...e){return t=>(r,n)=>{const o=t(r,n);let a=()=>{throw new Error(rr(15))};const i={getState:o.getState,dispatch:(c,...u)=>a(c,...u)},s=e.map(c=>c(i));return a=Yd(...s)(o.dispatch),{...o,dispatch:a}}}function D2(e){return Ly(e)&&"type"in e&&typeof e.type=="string"}var M2=Symbol.for("immer-nothing"),Dw=Symbol.for("immer-draftable"),Cr=Symbol.for("immer-state");function An(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Xr=Object,is=Xr.getPrototypeOf,Gd="constructor",hp="prototype",wv="configurable",Xd="enumerable",rd="writable",ec="value",Eo=e=>!!e&&!!e[Cr];function Fn(e){var t;return e?I2(e)||vp(e)||!!e[Dw]||!!((t=e[Gd])!=null&&t[Dw])||gp(e)||yp(e):!1}var Q5=Xr[hp][Gd].toString(),Mw=new WeakMap;function I2(e){if(!e||!$y(e))return!1;const t=is(e);if(t===null||t===Xr[hp])return!0;const r=Xr.hasOwnProperty.call(t,Gd)&&t[Gd];if(r===Object)return!0;if(!Ci(r))return!1;let n=Mw.get(r);return n===void 0&&(n=Function.toString.call(r),Mw.set(r,n)),n===Q5}function Pc(e,t,r=!0){Ec(e)===0?(r?Reflect.ownKeys(e):Xr.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((n,o)=>t(o,n,e))}function Ec(e){const t=e[Cr];return t?t.type_:vp(e)?1:gp(e)?2:yp(e)?3:0}var Iw=(e,t,r=Ec(e))=>r===2?e.has(t):Xr[hp].hasOwnProperty.call(e,t),kv=(e,t,r=Ec(e))=>r===2?e.get(t):e[t],Qd=(e,t,r,n=Ec(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Z5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var vp=Array.isArray,gp=e=>e instanceof Map,yp=e=>e instanceof Set,$y=e=>typeof e=="object",Ci=e=>typeof e=="function",Gm=e=>typeof e=="boolean",fo=e=>e.copy_||e.base_,Fy=e=>e.modified_?e.copy_:e.base_;function _v(e,t){if(gp(e))return new Map(e);if(yp(e))return new Set(e);if(vp(e))return Array[hp].slice.call(e);const r=I2(e);if(t===!0||t==="class_only"&&!r){const n=Xr.getOwnPropertyDescriptors(e);delete n[Cr];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const i=o[a],s=n[i];s[rd]===!1&&(s[rd]=!0,s[wv]=!0),(s.get||s.set)&&(n[i]={[wv]:!0,[rd]:!0,[Xd]:s[Xd],[ec]:e[i]})}return Xr.create(is(e),n)}else{const n=is(e);if(n!==null&&r)return{...e};const o=Xr.create(n);return Xr.assign(o,e)}}function By(e,t=!1){return xp(e)||Eo(e)||!Fn(e)||(Ec(e)>1&&Xr.defineProperties(e,{set:Eu,add:Eu,clear:Eu,delete:Eu}),Xr.freeze(e),t&&Pc(e,(r,n)=>{By(n,!0)},!1)),e}function J5(){An(2)}var Eu={[ec]:J5};function xp(e){return e===null||!$y(e)?!0:Xr.isFrozen(e)}var Zd="MapSet",jv="Patches",T2={};function ss(e){const t=T2[e];return t||An(0,e),t}var ez=e=>!!T2[e],tc,R2=()=>tc,tz=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ez(Zd)?ss(Zd):void 0});function Tw(e,t){t&&(e.patchPlugin_=ss(jv),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sv(e){Cv(e),e.drafts_.forEach(rz),e.drafts_=null}function Cv(e){e===tc&&(tc=e.parent_)}var Rw=e=>tc=tz(tc,e);function rz(e){const t=e[Cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Cr].modified_&&(Sv(t),An(4)),Fn(e)&&(e=Lw(t,e));const{patchPlugin_:o}=t;o&&o.generateReplacementPatches_(r[Cr].base_,e,t)}else e=Lw(t,r);return nz(t,e,!0),Sv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==M2?e:void 0}function Lw(e,t){if(xp(t))return t;const r=t[Cr];if(!r)return Uy(t,e.handledSet_,e);if(!bp(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);$2(r,e)}return r.copy_}function nz(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&By(t,r)}function z2(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var bp=(e,t)=>e.scope_===t,oz=[];function L2(e,t,r,n){const o=fo(e),a=e.type_;if(n!==void 0&&kv(o,n,a)===t){Qd(o,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Pc(o,(c,u)=>{if(Eo(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const i=e.draftLocations_.get(t)??oz;for(const s of i)Qd(o,s,r,a)}function az(e,t,r){e.callbacks_.push(function(o){var s;const a=t;if(!a||!bp(a,o))return;(s=o.mapSetPlugin_)==null||s.fixSetContents(a);const i=Fy(a);L2(e,a.draft_??a,i,r),$2(a,o)})}function $2(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:o}=t;if(o){const a=o.getPath(e);a&&o.generatePatches_(e,a,t)}z2(e)}}function iz(e,t,r){const{scope_:n}=e;if(Eo(r)){const o=r[Cr];bp(o,n)&&o.callbacks_.push(function(){nd(e);const i=Fy(o);L2(e,r,i,t)})}else Fn(r)&&e.callbacks_.push(function(){const a=fo(e);kv(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Uy(kv(e.copy_,t,e.type_),n.handledSet_,n)})}function Uy(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Eo(e)||t.has(e)||!Fn(e)||xp(e)||(t.add(e),Pc(e,(n,o)=>{if(Eo(o)){const a=o[Cr];if(bp(a,r)){const i=Fy(a);Qd(e,n,i,e.type_),z2(a)}}else Fn(o)&&Uy(o,t,r)})),e}function sz(e,t){const r=vp(e),n={type_:r?1:0,scope_:t?t.scope_:R2(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let o=n,a=qy;r&&(o=[n],a=rc);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,[s,n]}var qy={get(e,t){if(t===Cr)return e;const r=fo(e);if(!Iw(r,t,e.type_))return lz(e,r,t);const n=r[t];if(e.finalized_||!Fn(n))return n;if(n===Xm(e.base_,t)){nd(e);const o=e.type_===1?+t:t,a=Pv(e.scope_,n,e,o);return e.copy_[o]=a}return n},has(e,t){return t in fo(e)},ownKeys(e){return Reflect.ownKeys(fo(e))},set(e,t,r){const n=F2(fo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Xm(fo(e),t),a=o==null?void 0:o[Cr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Z5(r,o)&&(r!==void 0||Iw(e.base_,t,e.type_)))return!0;nd(e),Nv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),iz(e,t,r)),!0},deleteProperty(e,t){return nd(e),Xm(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Nv(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[rd]:!0,[wv]:e.type_!==1||t!=="length",[Xd]:n[Xd],[ec]:r[t]}},defineProperty(){An(11)},getPrototypeOf(e){return is(e.base_)},setPrototypeOf(){An(12)}},rc={};Pc(qy,(e,t)=>{rc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});rc.deleteProperty=function(e,t){return rc.set.call(this,e,t,void 0)};rc.set=function(e,t,r){return qy.set.call(this,e[0],t,r,e[0])};function Xm(e,t){const r=e[Cr];return(r?fo(r):e)[t]}function lz(e,t,r){var o;const n=F2(t,r);return n?ec in n?n[ec]:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function F2(e,t){if(!(t in e))return;let r=is(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=is(r)}}function Nv(e){e.modified_||(e.modified_=!0,e.parent_&&Nv(e.parent_))}function nd(e){e.copy_||(e.assigned_=new Map,e.copy_=_v(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var cz=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,o)=>{if(Ci(r)&&!Ci(n)){const i=n;n=r;const s=this;return function(u=i,...d){return s.produce(u,f=>n.call(this,f,...d))}}Ci(n)||An(6),o!==void 0&&!Ci(o)&&An(7);let a;if(Fn(r)){const i=Rw(this),s=Pv(i,r,void 0);let c=!0;try{a=n(s),c=!1}finally{c?Sv(i):Cv(i)}return Tw(i,o),zw(a,i)}else if(!r||!$y(r)){if(a=n(r),a===void 0&&(a=r),a===M2&&(a=void 0),this.autoFreeze_&&By(a,!0),o){const i=[],s=[];ss(jv).generateReplacementPatches_(r,a,{patches_:i,inversePatches_:s}),o(i,s)}return a}else An(1,r)},this.produceWithPatches=(r,n)=>{if(Ci(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let o,a;return[this.produce(r,n,(s,c)=>{o=s,a=c}),o,a]},Gm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Gm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Gm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fn(t)||An(8),Eo(t)&&(t=Rn(t));const r=Rw(this),n=Pv(r,t,void 0);return n[Cr].isManual_=!0,Cv(r),n}finishDraft(t,r){const n=t&&t[Cr];(!n||!n.isManual_)&&An(9);const{scope_:o}=n;return Tw(o,r),zw(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const o=ss(jv).applyPatches_;return Eo(t)?o(t,r):this.produce(t,a=>o(a,r))}};function Pv(e,t,r,n){const[o,a]=gp(t)?ss(Zd).proxyMap_(t,r):yp(t)?ss(Zd).proxySet_(t,r):sz(t,r);return((r==null?void 0:r.scope_)??R2()).drafts_.push(o),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?az(r,a,n):a.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),o}function Rn(e){return Eo(e)||An(10,e),B2(e)}function B2(e){if(!Fn(e)||xp(e))return e;const t=e[Cr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=_v(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=_v(e,!0);return Pc(r,(o,a)=>{Qd(r,o,B2(a))},n),t&&(t.finalized_=!1),r}var uz=new cz,U2=uz.produce;function q2(e){return({dispatch:r,getState:n})=>o=>a=>typeof a=="function"?a(r,n,e):o(a)}var dz=q2(),fz=q2,pz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yd:Yd.apply(null,arguments)};function yn(e,t){function r(...n){if(t){let o=t(...n);if(!o)throw new Error(Zr(0));return{type:e,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>D2(n)&&n.type===e,r}var W2=class ll extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ll.prototype)}static get[Symbol.species](){return ll}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ll(...t[0].concat(this)):new ll(...t.concat(this))}};function $w(e){return Fn(e)?U2(e,()=>{}):e}function Ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mz(e){return typeof e=="boolean"}var hz=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:o=!0,actionCreatorCheck:a=!0}=t??{};let i=new W2;return r&&(mz(r)?i.push(dz):i.push(fz(r.extraArgument))),i},K2="RTK_autoBatch",vt=()=>e=>({payload:e,meta:{[K2]:!0}}),Fw=e=>t=>{setTimeout(t,e)},H2=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let o=!0,a=!1,i=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Fw(10):e.type==="callback"?e.queueNotification:Fw(e.timeout),u=()=>{i=!1,a&&(a=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>o&&d(),p=n.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return o=!((f=d==null?void 0:d.meta)!=null&&f[K2]),a=!o,a&&(i||(i=!0,c(u))),n.dispatch(d)}finally{o=!0}}})},vz=e=>function(r){const{autoBatch:n=!0}=r??{};let o=new W2(e);return n&&o.push(H2(typeof n=="object"?n:void 0)),o};function gz(e){const t=hz(),{reducer:r=void 0,middleware:n,devTools:o=!0,preloadedState:a=void 0,enhancers:i=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Ly(r))s=A2(r);else throw new Error(Zr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Yd;o&&(u=pz({trace:!1,...typeof o=="object"&&o}));const d=X5(...c),f=vz(d);let p=typeof i=="function"?i(f):f();const m=u(...p);return O2(s,a,m)}function V2(e){const t={},r=[];let n;const o={addCase(a,i){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(Zr(28));if(s in t)throw new Error(Zr(29));return t[s]=i,o},addAsyncThunk(a,i){return i.pending&&(t[a.pending.type]=i.pending),i.rejected&&(t[a.rejected.type]=i.rejected),i.fulfilled&&(t[a.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:a.settled,reducer:i.settled}),o},addMatcher(a,i){return r.push({matcher:a,reducer:i}),o},addDefaultCase(a){return n=a,o}};return e(o),[t,r,n]}function yz(e){return typeof e=="function"}function xz(e,t){let[r,n,o]=V2(t),a;if(yz(e))a=()=>$w(e());else{const s=$w(e);a=()=>s}function i(s=a(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[o]),u.reduce((d,f)=>{if(f)if(Eo(d)){const m=f(d,c);return m===void 0?d:m}else{if(Fn(d))return U2(d,p=>f(p,c));{const p=f(d,c);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return i.getInitialState=a,i}var bz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",wz=(e=21)=>{let t="",r=e;for(;r--;)t+=bz[Math.random()*64|0];return t},kz=Symbol.for("rtk-slice-createasyncthunk");function _z(e,t){return`${e}/${t}`}function jz({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[kz];return function(o){const{name:a,reducerPath:i=a}=o;if(!a)throw new Error(Zr(11));const s=(typeof o.reducers=="function"?o.reducers(Cz()):o.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(k,S){const _=typeof k=="string"?k:k.type;if(!_)throw new Error(Zr(12));if(_ in u.sliceCaseReducersByType)throw new Error(Zr(13));return u.sliceCaseReducersByType[_]=S,d},addMatcher(k,S){return u.sliceMatchers.push({matcher:k,reducer:S}),d},exposeAction(k,S){return u.actionCreators[k]=S,d},exposeCaseReducer(k,S){return u.sliceCaseReducersByName[k]=S,d}};c.forEach(k=>{const S=s[k],_={reducerName:k,type:_z(a,k),createNotation:typeof o.reducers=="function"};Pz(S)?Oz(_,S,d,t):Nz(_,S,d)});function f(){const[k={},S=[],_=void 0]=typeof o.extraReducers=="function"?V2(o.extraReducers):[o.extraReducers],N={...k,...u.sliceCaseReducersByType};return xz(o.initialState,C=>{for(let z in N)C.addCase(z,N[z]);for(let z of u.sliceMatchers)C.addMatcher(z.matcher,z.reducer);for(let z of S)C.addMatcher(z.matcher,z.reducer);_&&C.addDefaultCase(_)})}const p=k=>k,m=new Map,v=new WeakMap;let g;function y(k,S){return g||(g=f()),g(k,S)}function x(){return g||(g=f()),g.getInitialState()}function b(k,S=!1){function _(C){let z=C[k];return typeof z>"u"&&S&&(z=Ou(v,_,x)),z}function N(C=p){const z=Ou(m,S,()=>new WeakMap);return Ou(z,C,()=>{const U={};for(const[M,Y]of Object.entries(o.selectors??{}))U[M]=Sz(Y,C,()=>Ou(v,C,x),S);return U})}return{reducerPath:k,getSelectors:N,get selectors(){return N(_)},selectSlice:_}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(k,{reducerPath:S,..._}={}){const N=S??i;return k.inject({reducerPath:N,reducer:y},_),{...w,...b(N,!0)}}};return w}}function Sz(e,t,r,n){function o(a,...i){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...i)}return o.unwrapped=e,o}var Wr=jz();function Cz(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Nz({type:e,reducerName:t,createNotation:r},n,o){let a,i;if("reducer"in n){if(r&&!Ez(n))throw new Error(Zr(17));a=n.reducer,i=n.prepare}else a=n;o.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,i?yn(e,i):yn(e))}function Pz(e){return e._reducerDefinitionType==="asyncThunk"}function Ez(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Oz({type:e,reducerName:t},r,n,o){if(!o)throw new Error(Zr(18));const{payloadCreator:a,fulfilled:i,pending:s,rejected:c,settled:u,options:d}=r,f=o(e,a,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:i||Au,pending:s||Au,rejected:c||Au,settled:u||Au})}function Au(){}var Az="task",Y2="listener",G2="completed",Wy="cancelled",Dz=`task-${Wy}`,Mz=`task-${G2}`,Ev=`${Y2}-${Wy}`,Iz=`${Y2}-${G2}`,wp=class{constructor(e){Bs(this,"name","TaskAbortError");Bs(this,"message");this.code=e,this.message=`${Az} ${Wy} (reason: ${e})`}},Ky=(e,t)=>{if(typeof e!="function")throw new TypeError(Zr(32))},Jd=()=>{},X2=(e,t=Jd)=>(e.catch(t),e),Q2=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Va=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ya=e=>{if(e.aborted){const{reason:t}=e;throw new wp(t)}};function Z2(e,t){let r=Jd;return new Promise((n,o)=>{const a=()=>o(new wp(e.reason));if(e.aborted){a();return}r=Q2(e,a),t.finally(()=>r()).then(n,o)}).finally(()=>{r=Jd})}var Tz=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof wp?"cancelled":"rejected",error:r}}finally{t==null||t()}},ef=e=>t=>X2(Z2(e,t).then(r=>(Ya(e),r))),J2=e=>{const t=ef(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Yi}=Object,Bw={},kp="listenerMiddleware",Rz=(e,t)=>{const r=n=>Q2(e,()=>Va(n,e.reason));return(n,o)=>{Ky(n);const a=new AbortController;r(a);const i=Tz(async()=>{Ya(e),Ya(a.signal);const s=await n({pause:ef(a.signal),delay:J2(a.signal),signal:a.signal});return Ya(a.signal),s},()=>Va(a,Mz));return o!=null&&o.autoJoin&&t.push(i.catch(Jd)),{result:ef(e)(i),cancel(){Va(a,Dz)}}}},zz=(e,t)=>{const r=async(n,o)=>{Ya(t);let a=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,p)=>{p.unsubscribe(),c([f,p.getState(),p.getOriginalState()])}});a=()=>{d(),u()}})];o!=null&&s.push(new Promise(c=>setTimeout(c,o,null)));try{const c=await Z2(t,Promise.race(s));return Ya(t),c}finally{a()}};return(n,o)=>X2(r(n,o))},eN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:o,effect:a}=e;if(t)o=yn(t).match;else if(r)t=r.type,o=r.match;else if(n)o=n;else if(!o)throw new Error(Zr(21));return Ky(a),{predicate:o,type:t,effect:a}},tN=Yi(e=>{const{type:t,predicate:r,effect:n}=eN(e);return{id:wz(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Zr(22))}}},{withTypes:()=>tN}),Uw=(e,t)=>{const{type:r,effect:n,predicate:o}=eN(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===o)&&a.effect===n)},Ov=e=>{e.pending.forEach(t=>{Va(t,Ev)})},Lz=(e,t)=>()=>{for(const r of t.keys())Ov(r);e.clear()},qw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},rN=Yi(yn(`${kp}/add`),{withTypes:()=>rN}),$z=yn(`${kp}/removeAll`),nN=Yi(yn(`${kp}/remove`),{withTypes:()=>nN}),Fz=(...e)=>{console.error(`${kp}/error`,...e)},Oc=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},o=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:i=Fz}=e;Ky(i);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&Ov(m)}),c=m=>{const v=Uw(t,m)??tN(m);return s(v)};Yi(c,{withTypes:()=>c});const u=m=>{const v=Uw(t,m);return v&&(v.unsubscribe(),m.cancelActive&&Ov(v)),!!v};Yi(u,{withTypes:()=>u});const d=async(m,v,g,y)=>{const x=new AbortController,b=zz(c,x.signal),w=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(v,Yi({},g,{getOriginalState:y,condition:(k,S)=>b(k,S).then(Boolean),take:b,delay:J2(x.signal),pause:ef(x.signal),extra:a,signal:x.signal,fork:Rz(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((k,S,_)=>{k!==x&&(Va(k,Ev),_.delete(k))})},cancel:()=>{Va(x,Ev),m.pending.delete(x)},throwIfCancelled:()=>{Ya(x.signal)}})))}catch(k){k instanceof wp||qw(i,k,{raisedBy:"effect"})}finally{await Promise.all(w),Va(x,Iz),o(m),m.pending.delete(x)}},f=Lz(t,r);return{middleware:m=>v=>g=>{if(!D2(g))return v(g);if(rN.match(g))return c(g.payload);if($z.match(g)){f();return}if(nN.match(g))return u(g.payload);let y=m.getState();const x=()=>{if(y===Bw)throw new Error(Zr(23));return y};let b;try{if(b=v(g),t.size>0){const w=m.getState(),k=Array.from(t.values());for(const S of k){let _=!1;try{_=S.predicate(g,w,y)}catch(N){_=!1,qw(i,N,{raisedBy:"predicate"})}_&&d(S,g,m,x)}}}finally{y=Bw}return b},startListening:c,stopListening:u,clearListeners:f}};function Zr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Bz={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},oN=Wr({name:"chartLayout",initialState:Bz,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,o,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(o=t.payload.bottom)!==null&&o!==void 0?o:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Uz,setLayout:qz,setChartSize:Wz,setScale:Kz}=oN.actions,Hz=oN.reducer;function aN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ww(Object(r),!0).forEach(function(n){Vz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hr(e,t,r){return Xt(e)||Xt(t)?r:ro(t)?dp(e,t,r):typeof t=="function"?t(e):r}var Xz=(e,t,r)=>{if(t&&r){var{width:n,height:o}=r,{align:a,verticalAlign:i,layout:s}=t;if((s==="vertical"||s==="horizontal"&&i==="middle")&&a!=="center"&&Pe(e[a]))return $i($i({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&i!=="middle"&&Pe(e[i]))return $i($i({},e),{},{[i]:e[i]+(o||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",iN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var o,a,i=e.map(s=>(s.coordinate===t&&(o=!0),s.coordinate===r&&(a=!0),s.coordinate));return o||i.push(t),a||i.push(r),i},sN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:o,range:a,scale:i,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!i)return null;var v=s==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,g=o==="category"&&i.bandwidth?i.bandwidth()/v:0;if(g=m==="angleAxis"&&a&&a.length>=2?pn(a[0]-a[1])*2*g:g,f||p){var y=(f||p||[]).map((x,b)=>{var w=n?n.indexOf(x):x;return{coordinate:i(w)+g,value:x,offset:g,index:b}});return y.filter(x=>!to(x.coordinate))}return c&&u?u.map((x,b)=>({coordinate:i(x)+g,value:x,index:b,offset:g})):i.ticks&&d!=null?i.ticks(d).map((x,b)=>({coordinate:i(x)+g,value:x,offset:g,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+g,value:n?n[x]:x,index:b,offset:g}))},Kw=1e-4,Qz=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),o=Math.min(n[0],n[1])-Kw,a=Math.max(n[0],n[1])+Kw,i=e(t[0]),s=e(t[r-1]);(i<o||i>a||s<o||s>a)&&e.domain([t[0],t[r-1]])}},Zz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0,i=0;i<t;++i){var s=to(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=o,e[i][r][1]=o+s,o=e[i][r][1]):(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1])}},Jz=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var o=0,a=0;a<t;++a){var i=to(e[a][r][1])?e[a][r][0]:e[a][r][1];i>=0?(e[a][r][0]=o,e[a][r][1]=o+i,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},eL={sign:Zz,expand:BR,none:os,silhouette:UR,wiggle:qR,positive:Jz},tL=(e,t,r)=>{var n=eL[r],o=FR().keys(t).value((a,i)=>Number(hr(a,i,0))).order(xv).offset(n);return o(e)};function Hw(e){var{axis:t,ticks:r,bandSize:n,entry:o,index:a,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Xt(o[t.dataKey])){var s=ZC(r,"value",o[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=hr(o,Xt(i)?t.dataKey:i);return Xt(c)?null:t.scale(c)}var rL=e=>{var t=e.flat(2).filter(Pe);return[Math.min(...t),Math.max(...t)]},nL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],oL=(e,t,r)=>{if(e!=null)return nL(Object.keys(e).reduce((n,o)=>{var a=e[o],{stackedData:i}=a,s=i.reduce((c,u)=>{var d=aN(u,t,r),f=rL(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},Vw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var o=mp(t,d=>d.coordinate),a=1/0,i=1,s=o.length;i<s;i++){var c=o[i],u=o[i-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function Gw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:o,name:a}=e;return $i($i({},t),{},{dataKey:r,payload:n,value:o,name:a})}function lN(e,t){if(e)return String(e);if(typeof t=="string")return t}var aL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},iL=(e,t)=>t==="centric"?e.angle:e.radius,To=e=>e.layout.width,Ro=e=>e.layout.height,sL=e=>e.layout.scale,cN=e=>e.layout.margin,_p=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),jp=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lL="data-recharts-item-index",cL="data-recharts-item-data-key",Ac=60;function Xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(r),!0).forEach(function(n){uL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uL(e,t,r){return(t=dL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dL(e){var t=fL(e,"string");return typeof t=="symbol"?t:t+""}function fL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pL=e=>e.brush.height;function mL(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var o=typeof n.width=="number"?n.width:Ac;return r+o}return r},0)}function hL(e){var t=jp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var o=typeof n.width=="number"?n.width:Ac;return r+o}return r},0)}function vL(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function gL(e){var t=_p(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var sr=X([To,Ro,cN,pL,mL,hL,vL,gL,E2,W5],(e,t,r,n,o,a,i,s,c,u)=>{var d={left:(r.left||0)+o,right:(r.right||0)+a},f={top:(r.top||0)+i,bottom:(r.bottom||0)+s},p=Du(Du({},f),d),m=p.bottom;p.bottom+=n,p=Xz(p,c,u);var v=e-p.left-p.right,g=t-p.top-p.bottom;return Du(Du({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(g,0)})}),yL=X(sr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uN=X(To,Ro,(e,t)=>({x:0,y:0,width:e,height:t})),xL=h.createContext(null),Kr=()=>h.useContext(xL)!=null,Sp=e=>e.brush,Cp=X([Sp,sr,cN],(e,t,r)=>({height:e.height,x:Pe(e.x)?e.x:t.left,y:Pe(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Pe(e.width)?e.width:t.width})),dN={},fN={},pN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:o,edges:a}={}){let i,s=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{s!==null&&(r.apply(i,s),i=void 0,s=null)},f=()=>{u&&d(),g()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},n)},v=()=>{p!==null&&(clearTimeout(p),p=null)},g=()=>{v(),i=void 0,s=null},y=()=>{d()},x=function(...b){if(o!=null&&o.aborted)return;i=this,s=b;const w=p==null;m(),c&&w&&d()};return x.schedule=m,x.cancel=g,x.flush=y,o==null||o.addEventListener("abort",g,{once:!0}),x}e.debounce=t})(pN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN;function r(n,o=0,a={}){typeof a!="object"&&(a={});const{leading:i=!1,trailing:s=!0,maxWait:c}=a,u=Array(2);i&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...g){d=n.apply(this,g),f=null},o,{edges:u}),m=function(...g){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,g),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,g),d)},v=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=v,m}e.debounce=r})(fN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fN;function r(n,o=0,a={}){const{leading:i=!0,trailing:s=!0}=a;return t.debounce(n,o,{leading:i,maxWait:o,trailing:s})}e.throttle=r})(dN);var bL=dN.throttle;const wL=ao(bL);var rf=function(t,r){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>o[i++]))}},mN=(e,t,r)=>{var{width:n="100%",height:o="100%",aspect:a,maxHeight:i}=r,s=Po(n)?e:Number(n),c=Po(o)?t:Number(o);return a&&a>0&&(s?c=s/a:c&&(s=c*a),i&&c!=null&&c>i&&(c=i)),{calculatedWidth:s,calculatedHeight:c}},kL={width:0,height:0,overflow:"visible"},_L={width:0,overflowX:"visible"},jL={height:0,overflowY:"visible"},SL={},CL=e=>{var{width:t,height:r}=e,n=Po(t),o=Po(r);return n&&o?kL:n?_L:o?jL:SL};function NL(e){var{width:t,height:r,aspect:n}=e,o=t,a=r;return o===void 0&&a===void 0?(o="100%",a="100%"):o===void 0?o=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:o,height:a}}function Qt(e){return Number.isFinite(e)}function no(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function Qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Zw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qw(Object(r),!0).forEach(function(n){PL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PL(e,t,r){return(t=EL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(e){var t=OL(e,"string");return typeof t=="symbol"?t:t+""}function OL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hN=h.createContext({width:-1,height:-1});function AL(e){return no(e.width)&&no(e.height)}function vN(e){var{children:t,width:r,height:n}=e,o=h.useMemo(()=>({width:r,height:n}),[r,n]);return AL(o)?h.createElement(hN.Provider,{value:o},t):null}var Hy=()=>h.useContext(hN),DL=h.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:o,height:a,minWidth:i=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:p,onResize:m,style:v={}}=e,g=h.useRef(null),y=h.useRef();y.current=m,h.useImperativeHandle(t,()=>g.current);var[x,b]=h.useState({containerWidth:n.width,containerHeight:n.height}),w=h.useCallback((C,z)=>{b(U=>{var M=Math.round(C),Y=Math.round(z);return U.containerWidth===M&&U.containerHeight===Y?U:{containerWidth:M,containerHeight:Y}})},[]);h.useEffect(()=>{if(g.current==null||typeof ResizeObserver>"u")return Nc;var C=Y=>{var ae,{width:Q,height:F}=Y[0].contentRect;w(Q,F),(ae=y.current)===null||ae===void 0||ae.call(y,Q,F)};d>0&&(C=wL(C,d,{trailing:!0,leading:!1}));var z=new ResizeObserver(C),{width:U,height:M}=g.current.getBoundingClientRect();return w(U,M),z.observe(g.current),()=>{z.disconnect()}},[w,d]);var{containerWidth:k,containerHeight:S}=x;rf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:N}=mN(k,S,{width:o,height:a,aspect:r,maxHeight:c});return rf(_!=null&&_>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,N,o,a,i,s,r),h.createElement("div",{id:f?"".concat(f):void 0,className:tt("recharts-responsive-container",p),style:Zw(Zw({},v),{},{width:o,height:a,minWidth:i,minHeight:s,maxHeight:c}),ref:g},h.createElement("div",{style:CL({width:o,height:a})},h.createElement(vN,{width:_,height:N},u)))}),ML=h.forwardRef((e,t)=>{var r=Hy();if(no(r.width)&&no(r.height))return e.children;var{width:n,height:o}=NL({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:i}=mN(void 0,void 0,{width:n,height:o,aspect:e.aspect,maxHeight:e.maxHeight});return Pe(a)&&Pe(i)?h.createElement(vN,{width:a,height:i},e.children):h.createElement(DL,Av({},e,{width:n,height:o,ref:t}))});function gN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Np=()=>{var e,t=Kr(),r=Ee(yL),n=Ee(Cp),o=(e=Ee(Sp))===null||e===void 0?void 0:e.padding;return!t||!n||!o?r:{width:n.width-o.left-o.right,height:n.height-o.top-o.bottom,x:o.left,y:o.top}},IL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yN=()=>{var e;return(e=Ee(sr))!==null&&e!==void 0?e:IL},xN=()=>Ee(To),bN=()=>Ee(Ro),pt=e=>e.layout.layoutType,Pp=()=>Ee(pt),TL=()=>{var e=Pp();return e!==void 0},Ep=e=>{var t=Zt(),r=Kr(),{width:n,height:o}=e,a=Hy(),i=n,s=o;return a&&(i=a.width>0?a.width:n,s=a.height>0?a.height:o),h.useEffect(()=>{!r&&no(i)&&no(s)&&t(Wz({width:i,height:s}))},[t,r,i,s]),null},wN=Symbol.for("immer-nothing"),Jw=Symbol.for("immer-draftable"),en=Symbol.for("immer-state");function Dn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var nc=Object.getPrototypeOf;function ls(e){return!!e&&!!e[en]}function ni(e){var t;return e?kN(e)||Array.isArray(e)||!!e[Jw]||!!((t=e.constructor)!=null&&t[Jw])||Dc(e)||Ap(e):!1}var RL=Object.prototype.constructor.toString(),e1=new WeakMap;function kN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=e1.get(r);return n===void 0&&(n=Function.toString.call(r),e1.set(r,n)),n===RL}function nf(e,t,r=!0){Op(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(o=>{t(o,e[o],e)}):e.forEach((n,o)=>t(o,n,e))}function Op(e){const t=e[en];return t?t.type_:Array.isArray(e)?1:Dc(e)?2:Ap(e)?3:0}function Dv(e,t){return Op(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _N(e,t,r){const n=Op(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function zL(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Dc(e){return e instanceof Map}function Ap(e){return e instanceof Set}function Ra(e){return e.copy_||e.base_}function Mv(e,t){if(Dc(e))return new Map(e);if(Ap(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=kN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[en];let o=Reflect.ownKeys(n);for(let a=0;a<o.length;a++){const i=o[a],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(nc(e),n)}else{const n=nc(e);if(n!==null&&r)return{...e};const o=Object.create(n);return Object.assign(o,e)}}function Vy(e,t=!1){return Dp(e)||ls(e)||!ni(e)||(Op(e)>1&&Object.defineProperties(e,{set:Mu,add:Mu,clear:Mu,delete:Mu}),Object.freeze(e),t&&Object.values(e).forEach(r=>Vy(r,!0))),e}function LL(){Dn(2)}var Mu={value:LL};function Dp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $L={};function oi(e){const t=$L[e];return t||Dn(0,e),t}var oc;function jN(){return oc}function FL(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function t1(e,t){t&&(oi("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Iv(e){Tv(e),e.drafts_.forEach(BL),e.drafts_=null}function Tv(e){e===oc&&(oc=e.parent_)}function r1(e){return oc=FL(oc,e)}function BL(e){const t=e[en];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function n1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[en].modified_&&(Iv(t),Dn(4)),ni(e)&&(e=of(t,e),t.parent_||af(t,e)),t.patches_&&oi("Patches").generateReplacementPatches_(r[en].base_,e,t.patches_,t.inversePatches_)):e=of(t,r,[]),Iv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wN?e:void 0}function of(e,t,r){if(Dp(t))return t;const n=e.immer_.shouldUseStrictIteration(),o=t[en];if(!o)return nf(t,(a,i)=>o1(e,o,t,a,i,r),n),t;if(o.scope_!==e)return t;if(!o.modified_)return af(e,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const a=o.copy_;let i=a,s=!1;o.type_===3&&(i=new Set(a),a.clear(),s=!0),nf(i,(c,u)=>o1(e,o,a,c,u,r,s),n),af(e,a,!1),r&&e.patches_&&oi("Patches").generatePatches_(o,r,e.patches_,e.inversePatches_)}return o.copy_}function o1(e,t,r,n,o,a,i){if(o==null||typeof o!="object"&&!i)return;const s=Dp(o);if(!(s&&!i)){if(ls(o)){const c=a&&t&&t.type_!==3&&!Dv(t.assigned_,n)?a.concat(n):void 0,u=of(e,o,c);if(_N(r,n,u),ls(u))e.canAutoFreeze_=!1;else return}else i&&r.add(o);if(ni(o)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===o&&s)return;of(e,o),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Dc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&af(e,o)}}}function af(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vy(t,r)}function UL(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:jN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=n,a=Yy;r&&(o=[n],a=ac);const{revoke:i,proxy:s}=Proxy.revocable(o,a);return n.draft_=s,n.revoke_=i,s}var Yy={get(e,t){if(t===en)return e;const r=Ra(e);if(!Dv(r,t))return qL(e,r,t);const n=r[t];return e.finalized_||!ni(n)?n:n===Qm(e.base_,t)?(Zm(e),e.copy_[t]=zv(n,e)):n},has(e,t){return t in Ra(e)},ownKeys(e){return Reflect.ownKeys(Ra(e))},set(e,t,r){const n=SN(Ra(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const o=Qm(Ra(e),t),a=o==null?void 0:o[en];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(zL(r,o)&&(r!==void 0||Dv(e.base_,t)))return!0;Zm(e),Rv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Zm(e),Rv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ra(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Dn(11)},getPrototypeOf(e){return nc(e.base_)},setPrototypeOf(){Dn(12)}},ac={};nf(Yy,(e,t)=>{ac[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ac.deleteProperty=function(e,t){return ac.set.call(this,e,t,void 0)};ac.set=function(e,t,r){return Yy.set.call(this,e[0],t,r,e[0])};function Qm(e,t){const r=e[en];return(r?Ra(r):e)[t]}function qL(e,t,r){var o;const n=SN(t,r);return n?"value"in n?n.value:(o=n.get)==null?void 0:o.call(e.draft_):void 0}function SN(e,t){if(!(t in e))return;let r=nc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=nc(r)}}function Rv(e){e.modified_||(e.modified_=!0,e.parent_&&Rv(e.parent_))}function Zm(e){e.copy_||(e.copy_=Mv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WL=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const i=this;return function(c=a,...u){return i.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Dn(6),n!==void 0&&typeof n!="function"&&Dn(7);let o;if(ni(t)){const a=r1(this),i=zv(t,void 0);let s=!0;try{o=r(i),s=!1}finally{s?Iv(a):Tv(a)}return t1(a,n),n1(o,a)}else if(!t||typeof t!="object"){if(o=r(t),o===void 0&&(o=t),o===wN&&(o=void 0),this.autoFreeze_&&Vy(o,!0),n){const a=[],i=[];oi("Patches").generateReplacementPatches_(t,o,a,i),n(a,i)}return o}else Dn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...s)=>this.produceWithPatches(i,c=>t(c,...s));let n,o;return[this.produce(t,r,(i,s)=>{n=i,o=s}),n,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ni(e)||Dn(8),ls(e)&&(e=KL(e));const t=r1(this),r=zv(e,void 0);return r[en].isManual_=!0,Tv(t),r}finishDraft(e,t){const r=e&&e[en];(!r||!r.isManual_)&&Dn(9);const{scope_:n}=r;return t1(n,t),n1(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const o=t[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(t=t.slice(r+1));const n=oi("Patches").applyPatches_;return ls(e)?n(e,t):this.produce(e,o=>n(o,t))}};function zv(e,t){const r=Dc(e)?oi("MapSet").proxyMap_(e,t):Ap(e)?oi("MapSet").proxySet_(e,t):UL(e,t);return(t?t.scope_:jN()).drafts_.push(r),r}function KL(e){return ls(e)||Dn(10,e),CN(e)}function CN(e){if(!ni(e)||Dp(e))return e;const t=e[en];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Mv(e,!0);return nf(r,(o,a)=>{_N(r,o,CN(a))},n),t&&(t.finalized_=!1),r}var HL=new WL;HL.produce;var VL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},NN=Wr({name:"legend",initialState:VL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:vt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).payload.indexOf(r);o>-1&&(e.payload[o]=n)},prepare:vt()},removeLegendPayload:{reducer(e,t){var r=Rn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:vt()}}}),{setLegendSize:XV,setLegendSettings:QV,addLegendPayload:YL,replaceLegendPayload:GL,removeLegendPayload:XL}=NN.actions,QL=NN.reducer;function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function a1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(r),!0).forEach(function(n){ZL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZL(e,t,r){return(t=JL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JL(e){var t=e6(e,"string");return typeof t=="symbol"?t:t+""}function e6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t6(e){return Array.isArray(e)&&ro(e[0])&&ro(e[1])?e.join(" ~ "):e}var r6=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:o={},payload:a,formatter:i,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var S={padding:0,margin:0},_=(s?mp(a,s):a).map((N,C)=>{if(N.type==="none")return null;var z=N.formatter||i||t6,{value:U,name:M}=N,Y=U,ae=M;if(z){var Q=z(U,M,N,C,a);if(Array.isArray(Q))[Y,ae]=Q;else if(Q!=null)Y=Q;else return null}var F=Jm({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return h.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:F},ro(ae)?h.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,ro(ae)?h.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,h.createElement("span",{className:"recharts-tooltip-item-value"},Y),h.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return h.createElement("ul",{className:"recharts-tooltip-item-list",style:S},_)}return null},v=Jm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Jm({margin:0},o),y=!Xt(d),x=y?d:"",b=tt("recharts-default-tooltip",c),w=tt("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var k=p?{role:"status","aria-live":"assertive"}:{};return h.createElement("div",Lv({className:b,style:v},k),h.createElement("p",{className:w,style:g},h.isValidElement(x)?x:"".concat(x)),m())},Qs="recharts-tooltip-wrapper",n6={visibility:"hidden"};function o6(e){var{coordinate:t,translateX:r,translateY:n}=e;return tt(Qs,{["".concat(Qs,"-right")]:Pe(r)&&t&&Pe(t.x)&&r>=t.x,["".concat(Qs,"-left")]:Pe(r)&&t&&Pe(t.x)&&r<t.x,["".concat(Qs,"-bottom")]:Pe(n)&&t&&Pe(t.y)&&n>=t.y,["".concat(Qs,"-top")]:Pe(n)&&t&&Pe(t.y)&&n<t.y})}function i1(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:o,position:a,reverseDirection:i,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(a&&Pe(a[n]))return a[n];var d=r[n]-s-(o>0?o:0),f=r[n]+o;if(t[n])return i[n]?d:f;var p=c[n];if(p==null)return 0;if(i[n]){var m=d,v=p;return m<v?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var g=f+s,y=p+u;return g>y?Math.max(d,p):Math.max(f,p)}function a6(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function i6(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:o,reverseDirection:a,tooltipBox:i,useTranslate3d:s,viewBox:c}=e,u,d,f;return i.height>0&&i.width>0&&r?(d=i1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.width,viewBox:c,viewBoxDimension:c.width}),f=i1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:o,reverseDirection:a,tooltipDimension:i.height,viewBox:c,viewBoxDimension:c.height}),u=a6({translateX:d,translateY:f,useTranslate3d:s})):u=n6,{cssProperties:u,cssClasses:o6({translateX:d,translateY:f,coordinate:r})}}function s1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $v(e,t,r){return(t=s6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6(e){var t=l6(e,"string");return typeof t=="symbol"?t:t+""}function l6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class c6 extends h.PureComponent{constructor(){super(...arguments),$v(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),$v(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,o,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(o=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&o!==void 0?o:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:o,children:a,coordinate:i,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:v,lastBoundingBox:g,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=i6({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:p,viewBox:m}),k=x?{}:Iu(Iu({transition:c&&t?"transform ".concat(n,"ms ").concat(o):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=Iu(Iu({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return h.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:y},a)}}var PN=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}function l1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function c1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l1(Object(r),!0).forEach(function(n){u6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u6(e,t,r){return(t=d6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=f6(e,"string");return typeof t=="symbol"?t:t+""}function f6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u1={curveBasisClosed:ER,curveBasisOpen:OR,curveBasis:PR,curveBumpX:mR,curveBumpY:hR,curveLinearClosed:AR,curveLinear:ip,curveMonotoneX:DR,curveMonotoneY:MR,curveNatural:IR,curveStep:TR,curveStepAfter:zR,curveStepBefore:RR},sf=e=>Qt(e.x)&&Qt(e.y),d1=e=>e.base!=null&&sf(e.base)&&sf(e),Zs=e=>e.x,Js=e=>e.y,p6=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Cc(e));return(r==="curveMonotone"||r==="curveBump")&&t?u1["".concat(r).concat(t==="vertical"?"Y":"X")]:u1[r]||ip},m6=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:o,connectNulls:a=!1}=e,i=p6(t,o),s=a?r.filter(sf):r,c;if(Array.isArray(n)){var u=r.map((m,v)=>c1(c1({},m),{},{base:n[v]}));o==="vertical"?c=Cu().y(Js).x1(Zs).x0(m=>m.base.x):c=Cu().x(Zs).y1(Js).y0(m=>m.base.y);var d=c.defined(d1).curve(i),f=a?u.filter(d1):u;return d(f)}o==="vertical"&&Pe(n)?c=Cu().y(Js).x1(Zs).x0(n):Pe(n)?c=Cu().x(Zs).y1(Js).y0(n):c=LC().x(Zs).y(Js);var p=c.defined(sf).curve(i);return p(s)},EN=e=>{var{className:t,points:r,path:n,pathRef:o}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?m6(e):n;return h.createElement("path",Fv({},eo(e),Sy(e),{className:tt("recharts-curve",t),d:a===null?void 0:a,ref:o}))},h6=["x","y","top","left","width","height","className"];function Bv(){return Bv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bv.apply(null,arguments)}function f1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function v6(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(r),!0).forEach(function(n){g6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g6(e,t,r){return(t=y6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y6(e){var t=x6(e,"string");return typeof t=="symbol"?t:t+""}function x6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b6(e,t){if(e==null)return{};var r,n,o=w6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function w6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k6=(e,t,r,n,o,a)=>"M".concat(e,",").concat(o,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),_6=e=>{var{x:t=0,y:r=0,top:n=0,left:o=0,width:a=0,height:i=0,className:s}=e,c=b6(e,h6),u=v6({x:t,y:r,top:n,left:o,width:a,height:i},c);return!Pe(t)||!Pe(r)||!Pe(a)||!Pe(i)||!Pe(n)||!Pe(o)?null:h.createElement("path",Bv({},Sr(u),{className:tt("recharts-cross",s),d:k6(t,r,a,i,n,o)}))};function j6(e,t,r,n){var o=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-o:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-o,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function p1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function m1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(r),!0).forEach(function(n){S6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S6(e,t,r){return(t=C6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C6(e){var t=N6(e,"string");return typeof t=="symbol"?t:t+""}function N6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P6=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ON=(e,t,r)=>e.map(n=>"".concat(P6(n)," ").concat(t,"ms ").concat(r)).join(","),E6=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(o=>n.includes(o))),ic=(e,t)=>Object.keys(t).reduce((r,n)=>m1(m1({},r),{},{[n]:e(n,t[n])}),{});function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){O6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O6(e,t,r){return(t=A6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A6(e){var t=D6(e,"string");return typeof t=="symbol"?t:t+""}function D6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lf=(e,t,r)=>e+(t-e)*r,Uv=e=>{var{from:t,to:r}=e;return t!==r},AN=(e,t,r)=>{var n=ic((o,a)=>{if(Uv(a)){var[i,s]=e(a.from,a.to,a.velocity);return Tt(Tt({},a),{},{from:i,velocity:s})}return a},t);return r<1?ic((o,a)=>Uv(a)?Tt(Tt({},a),{},{velocity:lf(a.velocity,n[o].velocity,r),from:lf(a.from,n[o].from,r)}):a,t):AN(e,n,r-1)};function M6(e,t,r,n,o,a){var i,s=n.reduce((p,m)=>Tt(Tt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ic((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Uv).length,d=null,f=p=>{i||(i=p);var m=p-i,v=m/r.dt;s=AN(r,s,v),o(Tt(Tt(Tt({},e),t),c())),i=p,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function I6(e,t,r,n,o,a,i){var s=null,c=o.reduce((f,p)=>Tt(Tt({},f),{},{[p]:[e[p],t[p]]}),{}),u,d=f=>{u||(u=f);var p=(f-u)/n,m=ic((g,y)=>lf(...y,r(p)),c);if(a(Tt(Tt(Tt({},e),t),m)),p<1)s=i.setTimeout(d);else{var v=ic((g,y)=>lf(...y,r(1)),c);a(Tt(Tt(Tt({},e),t),v))}};return()=>(s=i.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const T6=(e,t,r,n,o,a)=>{var i=E6(e,t);return r==null?()=>(o(Tt(Tt({},e),t)),()=>{}):r.isStepper===!0?M6(e,t,r,i,o,a):I6(e,t,r,n,i,o,a)};var cf=1e-4,DN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],MN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),v1=(e,t)=>r=>{var n=DN(e,t);return MN(n,r)},R6=(e,t)=>r=>{var n=DN(e,t),o=[...n.map((a,i)=>a*i).slice(1),0];return MN(o,r)},z6=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var o,a=r[0].split("(");if(a[0]==="cubic-bezier"&&((o=a[1])===null||o===void 0?void 0:o.split(")")[0].split(",").length)===4){var i=a[1].split(")")[0].split(",").map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},L6=(e,t,r,n)=>{var o=v1(e,r),a=v1(t,n),i=R6(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=o(f)-d,v=i(f);if(Math.abs(m-d)<cf||v<cf)return a(f);f=s(f-m/v)}return a(f)};return c.isStepper=!1,c},g1=function(){return L6(...z6(...arguments))},$6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:o=17}=t,a=(i,s,c)=>{var u=-(i-s)*r,d=c*n,f=c+(u-d)*o/1e3,p=c*o/1e3+i;return Math.abs(p-s)<cf&&Math.abs(f)<cf?[s,0]:[p,f]};return a.isStepper=!0,a.dt=o,a},F6=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g1(e);case"spring":return $6();default:if(e.split("(")[0]==="cubic-bezier")return g1(e)}return typeof e=="function"?e:null};function B6(e){var t,r=()=>null,n=!1,o=null,a=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var s=i,[c,...u]=s;if(typeof c=="number"){o=e.setTimeout(a.bind(null,u),c);return}a(c),o=e.setTimeout(a.bind(null,u));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,o&&(o(),o=null),a(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class U6{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),o=null,a=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(o=requestAnimationFrame(a))};return o=requestAnimationFrame(a),()=>{o!=null&&cancelAnimationFrame(o)}}}function q6(){return B6(new U6)}var W6=h.createContext(q6);function K6(e,t){var r=h.useContext(W6);return h.useMemo(()=>t??r(e),[e,t,r])}var H6=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mc={devToolsEnabled:!1,isSsr:H6()},V6={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},y1={t:0},eh={t:1};function Gy(e){var t=qr(e,V6),{isActive:r,canBegin:n,duration:o,easing:a,begin:i,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!Mc.isSsr:r,f=K6(t.animationId,t.animationManager),[p,m]=h.useState(d?y1:eh),v=h.useRef(null);return h.useEffect(()=>{d||m(eh)},[d]),h.useEffect(()=>{if(!d||!n)return Nc;var g=T6(y1,eh,F6(a),o,m,f.getTimeoutController()),y=()=>{v.current=g()};return f.start([c,i,y,o,s]),()=>{f.stop(),v.current&&v.current(),s()}},[d,n,o,a,i,c,s,f]),u(p.t)}function Xy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=h.useRef(Jl(t)),n=h.useRef(e);return n.current!==e&&(r.current=Jl(t),n.current=e),r.current}var Y6=["radius"],G6=["radius"];function x1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function b1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x1(Object(r),!0).forEach(function(n){X6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X6(e,t,r){return(t=Q6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q6(e){var t=Z6(e,"string");return typeof t=="symbol"?t:t+""}function Z6(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(){return uf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uf.apply(null,arguments)}function w1(e,t){if(e==null)return{};var r,n,o=J6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function J6(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k1=(e,t,r,n,o)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,s=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(a>0&&o instanceof Array){for(var d=[0,0,0,0],f=0,p=4;f<p;f++)d[f]=o[f]>a?a:o[f];u="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+s*d[0],",").concat(t)),u+="L ".concat(e+r-s*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+i*d[1])),u+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-s*d[2],",").concat(t+n)),u+="L ".concat(e+s*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-i*d[3])),u+="Z"}else if(a>0&&o===+o&&o>0){var m=Math.min(a,o);u="M ".concat(e,",").concat(t+i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+s*m,",").concat(t,`
            L `).concat(e+r-s*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+i*m,`
            L `).concat(e+r,",").concat(t+n-i*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-s*m,",").concat(t+n,`
            L `).concat(e+s*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-i*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},_1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IN=e=>{var t=qr(e,_1),r=h.useRef(null),[n,o]=h.useState(-1);h.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&o(V)}catch{}},[]);var{x:a,y:i,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:g}=t,y=h.useRef(s),x=h.useRef(c),b=h.useRef(a),w=h.useRef(i),k=h.useMemo(()=>({x:a,y:i,width:s,height:c,radius:u}),[a,i,s,c,u]),S=Xy(k,"rectangle-");if(a!==+a||i!==+i||s!==+s||c!==+c||s===0||c===0)return null;var _=tt("recharts-rectangle",d);if(!g){var N=Sr(t),{radius:C}=N,z=w1(N,Y6);return h.createElement("path",uf({},z,{radius:typeof u=="number"?u:void 0,className:_,d:k1(a,i,s,c,u)}))}var U=y.current,M=x.current,Y=b.current,ae=w.current,Q="0px ".concat(n===-1?1:n,"px"),F="".concat(n,"px 0px"),K=ON(["strokeDasharray"],p,typeof f=="string"?f:_1.animationEasing);return h.createElement(Gy,{animationId:S,key:S,canBegin:n>0,duration:p,easing:f,isActive:g,begin:m},V=>{var T=zr(U,s,V),W=zr(M,c,V),se=zr(Y,a,V),ge=zr(ae,i,V);r.current&&(y.current=T,x.current=W,b.current=se,w.current=ge);var ee;v?V>0?ee={transition:K,strokeDasharray:F}:ee={strokeDasharray:Q}:ee={strokeDasharray:F};var te=Sr(t),{radius:J}=te,ye=w1(te,G6);return h.createElement("path",uf({},ye,{radius:typeof u=="number"?u:void 0,className:_,d:k1(se,ge,T,W,u),ref:r,style:b1(b1({},ee),t.style)}))})};function j1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j1(Object(r),!0).forEach(function(n){e$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e$(e,t,r){return(t=t$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$(e){var t=r$(e,"string");return typeof t=="symbol"?t:t+""}function r$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var df=Math.PI/180,n$=e=>e*180/Math.PI,or=(e,t,r,n)=>({x:e+Math.cos(-df*n)*r,y:t+Math.sin(-df*n)*r}),o$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},a$=(e,t)=>{var{x:r,y:n}=e,{x:o,y:a}=t;return Math.sqrt((r-o)**2+(n-a)**2)},i$=(e,t)=>{var{x:r,y:n}=e,{cx:o,cy:a}=t,i=a$({x:r,y:n},{x:o,y:a});if(i<=0)return{radius:i,angle:0};var s=(r-o)/i,c=Math.acos(s);return n>a&&(c=2*Math.PI-c),{radius:i,angle:n$(c),angleInRadian:c}},s$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),o=Math.floor(r/360),a=Math.min(n,o);return{startAngle:t-a*360,endAngle:r-a*360}},l$=(e,t)=>{var{startAngle:r,endAngle:n}=t,o=Math.floor(r/360),a=Math.floor(n/360),i=Math.min(o,a);return e+i*360},c$=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:o,angle:a}=i$({x:r,y:n},t),{innerRadius:i,outerRadius:s}=t;if(o<i||o>s||o===0)return null;var{startAngle:c,endAngle:u}=s$(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?S1(S1({},t),{},{radius:o,angle:l$(d,t)}):null};function TN(e){var{cx:t,cy:r,radius:n,startAngle:o,endAngle:a}=e,i=or(t,r,n,o),s=or(t,r,n,a);return{points:[i,s],cx:t,cy:r,radius:n,startAngle:o,endAngle:a}}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}var u$=(e,t)=>{var r=pn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tu=e=>{var{cx:t,cy:r,radius:n,angle:o,sign:a,isExternal:i,cornerRadius:s,cornerIsExternal:c}=e,u=s*(i?1:-1)+n,d=Math.asin(s/u)/df,f=c?o:o+a*d,p=or(t,r,u,f),m=or(t,r,n,f),v=c?o-a*d:o,g=or(t,r,u*Math.cos(d*df),v);return{center:p,circleTangency:m,lineTangency:g,theta:d}},RN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:a,endAngle:i}=e,s=u$(a,i),c=a+s,u=or(t,r,o,a),d=or(t,r,o,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var p=or(t,r,n,a),m=or(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},d$=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:o,cornerRadius:a,forceCornerRadius:i,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=pn(u-c),{circleTangency:f,lineTangency:p,theta:m}=Tu({cx:t,cy:r,radius:o,angle:c,sign:d,cornerRadius:a,cornerIsExternal:s}),{circleTangency:v,lineTangency:g,theta:y}=Tu({cx:t,cy:r,radius:o,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(c-u):Math.abs(c-u)-m-y;if(x<0)return i?"M ".concat(p.x,",").concat(p.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):RN({cx:t,cy:r,innerRadius:n,outerRadius:o,startAngle:c,endAngle:u});var b="M ".concat(p.x,",").concat(p.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:k,theta:S}=Tu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:_,lineTangency:N,theta:C}=Tu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),z=s?Math.abs(c-u):Math.abs(c-u)-S-C;if(z<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(z>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},f$={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zN=e=>{var t=qr(e,f$),{cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<o||u===d)return null;var p=tt("recharts-sector",f),m=a-o,v=ga(i,m,0,!0),g;return v>0&&Math.abs(u-d)<360?g=d$({cx:r,cy:n,innerRadius:o,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):g=RN({cx:r,cy:n,innerRadius:o,outerRadius:a,startAngle:u,endAngle:d}),h.createElement("path",qv({},Sr(t),{className:p,d:g}))};function p$(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(t2(t)){if(e==="centric"){var{cx:n,cy:o,innerRadius:a,outerRadius:i,angle:s}=t,c=or(n,o,a,s),u=or(n,o,i,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return TN(t)}}var LN={},$N={},FN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ry;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(FN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($N);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zy,r=$N;function n(o,a,i){i&&typeof i!="number"&&t.isIterateeCall(o,a,i)&&(a=i=void 0),o=r.toFinite(o),a===void 0?(a=o,o=0):a=r.toFinite(a),i=i===void 0?o<a?1:-1:r.toFinite(i);const s=Math.max(Math.ceil((a-o)/(i||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=o,o+=i;return c}e.range=n})(LN);var m$=LN.range;const BN=ao(m$);function pa(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function h$(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qy(e){let t,r,n;e.length!==2?(t=pa,r=(s,c)=>pa(e(s),c),n=(s,c)=>e(s)-c):(t=e===pa||e===h$?e:v$,r=e,n=e);function o(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){const f=o(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:o,center:i,right:a}}function v$(){return 0}function UN(e){return e===null?NaN:+e}function*g$(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const y$=Qy(pa),Ic=y$.right;Qy(UN).center;class C1 extends Map{constructor(t,r=w$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,o]of t)this.set(n,o)}get(t){return super.get(N1(this,t))}has(t){return super.has(N1(this,t))}set(t,r){return super.set(x$(this,t),r)}delete(t){return super.delete(b$(this,t))}}function N1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function x$({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function b$({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w$(e){return e!==null&&typeof e=="object"?e.valueOf():e}function k$(e=pa){if(e===pa)return qN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function qN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _$=Math.sqrt(50),j$=Math.sqrt(10),S$=Math.sqrt(2);function ff(e,t,r){const n=(t-e)/Math.max(0,r),o=Math.floor(Math.log10(n)),a=n/Math.pow(10,o),i=a>=_$?10:a>=j$?5:a>=S$?2:1;let s,c,u;return o<0?(u=Math.pow(10,-o)/i,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,o)*i,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?ff(e,t,r*2):[s,c,u]}function Wv(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[o,a,i]=n?ff(t,e,r):ff(e,t,r);if(!(a>=o))return[];const s=a-o+1,c=new Array(s);if(n)if(i<0)for(let u=0;u<s;++u)c[u]=(a-u)/-i;else for(let u=0;u<s;++u)c[u]=(a-u)*i;else if(i<0)for(let u=0;u<s;++u)c[u]=(o+u)/-i;else for(let u=0;u<s;++u)c[u]=(o+u)*i;return c}function Kv(e,t,r){return t=+t,e=+e,r=+r,ff(e,t,r)[2]}function Hv(e,t,r){t=+t,e=+e,r=+r;const n=t<e,o=n?Kv(t,e,r):Kv(e,t,r);return(n?-1:1)*(o<0?1/-o:o)}function P1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function E1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function WN(e,t,r=0,n=1/0,o){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(o=o===void 0?qN:k$(o);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+p)),v=Math.min(n,Math.floor(t+(c-u)*f/c+p));WN(e,t,m,v,o)}const a=e[t];let i=r,s=n;for(el(e,r,t),o(e[n],a)>0&&el(e,r,n);i<s;){for(el(e,i,s),++i,--s;o(e[i],a)<0;)++i;for(;o(e[s],a)>0;)--s}o(e[r],a)===0?el(e,r,s):(++s,el(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function el(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C$(e,t,r){if(e=Float64Array.from(g$(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return E1(e);if(t>=1)return P1(e);var n,o=(n-1)*t,a=Math.floor(o),i=P1(WN(e,a).subarray(0,a+1)),s=E1(e.subarray(a+1));return i+(s-i)*(o-a)}}function N$(e,t,r=UN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,o=(n-1)*t,a=Math.floor(o),i=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return i+(s-i)*(o-a)}}function P$(e,t,r){e=+e,t=+t,r=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+r;for(var n=-1,o=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(o);++n<o;)a[n]=e+n*r;return a}function bn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Vv=Symbol("implicit");function Zy(){var e=new C1,t=[],r=[],n=Vv;function o(a){let i=e.get(a);if(i===void 0){if(n!==Vv)return n;e.set(a,i=t.push(a)-1)}return r[i%r.length]}return o.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new C1;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return o},o.range=function(a){return arguments.length?(r=Array.from(a),o):r.slice()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return Zy(t,r).unknown(n)},bn.apply(o,arguments),o}function Jy(){var e=Zy().unknown(void 0),t=e.domain,r=e.range,n=0,o=1,a,i,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=o<n,v=m?o:n,g=m?n:o;a=(g-v)/Math.max(1,p-c+u*2),s&&(a=Math.floor(a)),v+=(g-v-a*(p-c))*d,i=a*(1-c),s&&(v=Math.round(v),i=Math.round(i));var y=P$(p).map(function(x){return v+a*x});return r(m?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([n,o]=p,n=+n,o=+o,f()):[n,o]},e.rangeRound=function(p){return[n,o]=p,n=+n,o=+o,s=!0,f()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),f()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),f()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return Jy(t(),[n,o]).round(s).paddingInner(c).paddingOuter(u).align(d)},bn.apply(f(),arguments)}function KN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return KN(t())},e}function E$(){return KN(Jy.apply(null,arguments).paddingInner(1))}function ex(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function HN(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Tc(){}var sc=.7,pf=1/sc,Gi="\\s*([+-]?\\d+)\\s*",lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",O$=/^#([0-9a-f]{3,8})$/,A$=new RegExp(`^rgb\\(${Gi},${Gi},${Gi}\\)$`),D$=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),M$=new RegExp(`^rgba\\(${Gi},${Gi},${Gi},${lc}\\)$`),I$=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${lc}\\)$`),T$=new RegExp(`^hsl\\(${lc},${Zn},${Zn}\\)$`),R$=new RegExp(`^hsla\\(${lc},${Zn},${Zn},${lc}\\)$`),O1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ex(Tc,cc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:A1,formatHex:A1,formatHex8:z$,formatHsl:L$,formatRgb:D1,toString:D1});function A1(){return this.rgb().formatHex()}function z$(){return this.rgb().formatHex8()}function L$(){return VN(this).formatHsl()}function D1(){return this.rgb().formatRgb()}function cc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=O$.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?M1(t):r===3?new $r(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ru(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ru(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=A$.exec(e))?new $r(t[1],t[2],t[3],1):(t=D$.exec(e))?new $r(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M$.exec(e))?Ru(t[1],t[2],t[3],t[4]):(t=I$.exec(e))?Ru(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=T$.exec(e))?R1(t[1],t[2]/100,t[3]/100,1):(t=R$.exec(e))?R1(t[1],t[2]/100,t[3]/100,t[4]):O1.hasOwnProperty(e)?M1(O1[e]):e==="transparent"?new $r(NaN,NaN,NaN,0):null}function M1(e){return new $r(e>>16&255,e>>8&255,e&255,1)}function Ru(e,t,r,n){return n<=0&&(e=t=r=NaN),new $r(e,t,r,n)}function $$(e){return e instanceof Tc||(e=cc(e)),e?(e=e.rgb(),new $r(e.r,e.g,e.b,e.opacity)):new $r}function Yv(e,t,r,n){return arguments.length===1?$$(e):new $r(e,t,r,n??1)}function $r(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ex($r,Yv,HN(Tc,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new $r(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new $r(Ga(this.r),Ga(this.g),Ga(this.b),mf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:I1,formatHex:I1,formatHex8:F$,formatRgb:T1,toString:T1}));function I1(){return`#${Ua(this.r)}${Ua(this.g)}${Ua(this.b)}`}function F$(){return`#${Ua(this.r)}${Ua(this.g)}${Ua(this.b)}${Ua((isNaN(this.opacity)?1:this.opacity)*255)}`}function T1(){const e=mf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ga(this.r)}, ${Ga(this.g)}, ${Ga(this.b)}${e===1?")":`, ${e})`}`}function mf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ga(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ua(e){return e=Ga(e),(e<16?"0":"")+e.toString(16)}function R1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Mn(e,t,r,n)}function VN(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);if(e instanceof Tc||(e=cc(e)),!e)return new Mn;if(e instanceof Mn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,o=Math.min(t,r,n),a=Math.max(t,r,n),i=NaN,s=a-o,c=(a+o)/2;return s?(t===a?i=(r-n)/s+(r<n)*6:r===a?i=(n-t)/s+2:i=(t-r)/s+4,s/=c<.5?a+o:2-a-o,i*=60):s=c>0&&c<1?0:i,new Mn(i,s,c,e.opacity)}function B$(e,t,r,n){return arguments.length===1?VN(e):new Mn(e,t,r,n??1)}function Mn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ex(Mn,B$,HN(Tc,{brighter(e){return e=e==null?pf:Math.pow(pf,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?sc:Math.pow(sc,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,o=2*r-n;return new $r(th(e>=240?e-240:e+120,o,n),th(e,o,n),th(e<120?e+240:e-120,o,n),this.opacity)},clamp(){return new Mn(z1(this.h),zu(this.s),zu(this.l),mf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mf(this.opacity);return`${e===1?"hsl(":"hsla("}${z1(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function z1(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function th(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tx=e=>()=>e;function U$(e,t){return function(r){return e+r*t}}function q$(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function W$(e){return(e=+e)==1?YN:function(t,r){return r-t?q$(t,r,e):tx(isNaN(t)?r:t)}}function YN(e,t){var r=t-e;return r?U$(e,r):tx(isNaN(e)?t:e)}const L1=function e(t){var r=W$(t);function n(o,a){var i=r((o=Yv(o)).r,(a=Yv(a)).r),s=r(o.g,a.g),c=r(o.b,a.b),u=YN(o.opacity,a.opacity);return function(d){return o.r=i(d),o.g=s(d),o.b=c(d),o.opacity=u(d),o+""}}return n.gamma=e,n}(1);function K$(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),o;return function(a){for(o=0;o<r;++o)n[o]=e[o]*(1-a)+t[o]*a;return n}}function H$(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function V$(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,o=new Array(n),a=new Array(r),i;for(i=0;i<n;++i)o[i]=bs(e[i],t[i]);for(;i<r;++i)a[i]=t[i];return function(s){for(i=0;i<n;++i)a[i]=o[i](s);return a}}function Y$(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function hf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function G$(e,t){var r={},n={},o;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in e?r[o]=bs(e[o],t[o]):n[o]=t[o];return function(a){for(o in r)n[o]=r[o](a);return n}}var Gv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rh=new RegExp(Gv.source,"g");function X$(e){return function(){return e}}function Q$(e){return function(t){return e(t)+""}}function Z$(e,t){var r=Gv.lastIndex=rh.lastIndex=0,n,o,a,i=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Gv.exec(e))&&(o=rh.exec(t));)(a=o.index)>r&&(a=t.slice(r,a),s[i]?s[i]+=a:s[++i]=a),(n=n[0])===(o=o[0])?s[i]?s[i]+=o:s[++i]=o:(s[++i]=null,c.push({i,x:hf(n,o)})),r=rh.lastIndex;return r<t.length&&(a=t.slice(r),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?Q$(c[0].x):X$(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function bs(e,t){var r=typeof t,n;return t==null||r==="boolean"?tx(t):(r==="number"?hf:r==="string"?(n=cc(t))?(t=n,L1):Z$:t instanceof cc?L1:t instanceof Date?Y$:H$(t)?K$:Array.isArray(t)?V$:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?G$:hf)(e,t)}function rx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function J$(e,t){t===void 0&&(t=e,e=bs);for(var r=0,n=t.length-1,o=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(o,o=t[++r]);return function(i){var s=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return a[s](i-s)}}function e8(e){return function(){return e}}function vf(e){return+e}var $1=[0,1];function kr(e){return e}function Xv(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:e8(isNaN(t)?NaN:.5)}function t8(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function r8(e,t,r){var n=e[0],o=e[1],a=t[0],i=t[1];return o<n?(n=Xv(o,n),a=r(i,a)):(n=Xv(n,o),a=r(a,i)),function(s){return a(n(s))}}function n8(e,t,r){var n=Math.min(e.length,t.length)-1,o=new Array(n),a=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)o[i]=Xv(e[i],e[i+1]),a[i]=r(t[i],t[i+1]);return function(s){var c=Ic(e,s,1,n)-1;return a[c](o[c](s))}}function Rc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mp(){var e=$1,t=$1,r=bs,n,o,a,i=kr,s,c,u;function d(){var p=Math.min(e.length,t.length);return i!==kr&&(i=t8(e[0],e[p-1])),s=p>2?n8:r8,c=u=null,f}function f(p){return p==null||isNaN(p=+p)?a:(c||(c=s(e.map(n),t,r)))(n(i(p)))}return f.invert=function(p){return i(o((u||(u=s(t,e.map(n),hf)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,vf),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),r=rx,d()},f.clamp=function(p){return arguments.length?(i=p?!0:kr,d()):i!==kr},f.interpolate=function(p){return arguments.length?(r=p,d()):r},f.unknown=function(p){return arguments.length?(a=p,f):a},function(p,m){return n=p,o=m,d()}}function nx(){return Mp()(kr,kr)}function o8(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function cs(e){return e=gf(Math.abs(e)),e?e[1]:NaN}function a8(e,t){return function(r,n){for(var o=r.length,a=[],i=0,s=e[0],c=0;o>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),a.push(r.substring(o-=s,o+s)),!((c+=s+1)>n));)s=e[i=(i+1)%e.length];return a.reverse().join(t)}}function i8(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var s8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uc(e){if(!(t=s8.exec(e)))throw new Error("invalid format: "+e);var t;return new ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}uc.prototype=ox.prototype;function ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function l8(e){e:for(var t=e.length,r=1,n=-1,o;r<t;++r)switch(e[r]){case".":n=o=r;break;case"0":n===0&&(n=r),o=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(o+1):e}var GN;function c8(e,t){var r=gf(e,t);if(!r)return e+"";var n=r[0],o=r[1],a=o-(GN=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,i=n.length;return a===i?n:a>i?n+new Array(a-i+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+gf(e,Math.max(0,t+a-1))[0]}function F1(e,t){var r=gf(e,t);if(!r)return e+"";var n=r[0],o=r[1];return o<0?"0."+new Array(-o).join("0")+n:n.length>o+1?n.slice(0,o+1)+"."+n.slice(o+1):n+new Array(o-n.length+2).join("0")}const B1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:o8,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>F1(e*100,t),r:F1,s:c8,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function U1(e){return e}var q1=Array.prototype.map,W1=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function u8(e){var t=e.grouping===void 0||e.thousands===void 0?U1:a8(q1.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",o=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?U1:i8(q1.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=uc(f);var p=f.fill,m=f.align,v=f.sign,g=f.symbol,y=f.zero,x=f.width,b=f.comma,w=f.precision,k=f.trim,S=f.type;S==="n"?(b=!0,S="g"):B1[S]||(w===void 0&&(w=12),k=!0,S="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var _=g==="$"?r:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",N=g==="$"?n:/[%p]/.test(S)?i:"",C=B1[S],z=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(M){var Y=_,ae=N,Q,F,K;if(S==="c")ae=C(M)+ae,M="";else{M=+M;var V=M<0||1/M<0;if(M=isNaN(M)?c:C(Math.abs(M),w),k&&(M=l8(M)),V&&+M==0&&v!=="+"&&(V=!1),Y=(V?v==="("?v:s:v==="-"||v==="("?"":v)+Y,ae=(S==="s"?W1[8+GN/3]:"")+ae+(V&&v==="("?")":""),z){for(Q=-1,F=M.length;++Q<F;)if(K=M.charCodeAt(Q),48>K||K>57){ae=(K===46?o+M.slice(Q+1):M.slice(Q))+ae,M=M.slice(0,Q);break}}}b&&!y&&(M=t(M,1/0));var T=Y.length+M.length+ae.length,W=T<x?new Array(x-T+1).join(p):"";switch(b&&y&&(M=t(W+M,W.length?x-ae.length:1/0),W=""),m){case"<":M=Y+M+ae+W;break;case"=":M=Y+W+M+ae;break;case"^":M=W.slice(0,T=W.length>>1)+Y+M+ae+W.slice(T);break;default:M=W+Y+M+ae;break}return a(M)}return U.toString=function(){return f+""},U}function d(f,p){var m=u((f=uc(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(cs(p)/3)))*3,g=Math.pow(10,-v),y=W1[8+v/3];return function(x){return m(g*x)+y}}return{format:u,formatPrefix:d}}var Lu,ax,XN;d8({thousands:",",grouping:[3],currency:["$",""]});function d8(e){return Lu=u8(e),ax=Lu.format,XN=Lu.formatPrefix,Lu}function f8(e){return Math.max(0,-cs(Math.abs(e)))}function p8(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cs(t)/3)))*3-cs(Math.abs(e)))}function m8(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cs(t)-cs(e))+1}function QN(e,t,r,n){var o=Hv(e,t,r),a;switch(n=uc(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=p8(o,i))&&(n.precision=a),XN(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=m8(o,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=f8(o))&&(n.precision=a-(n.type==="%")*2);break}}return ax(n)}function _a(e){var t=e.domain;return e.ticks=function(r){var n=t();return Wv(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var o=t();return QN(o[0],o[o.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),o=0,a=n.length-1,i=n[o],s=n[a],c,u,d=10;for(s<i&&(u=i,i=s,s=u,u=o,o=a,a=u);d-- >0;){if(u=Kv(i,s,r),u===c)return n[o]=i,n[a]=s,t(n);if(u>0)i=Math.floor(i/u)*u,s=Math.ceil(s/u)*u;else if(u<0)i=Math.ceil(i*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function ZN(){var e=nx();return e.copy=function(){return Rc(e,ZN())},bn.apply(e,arguments),_a(e)}function JN(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,vf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return JN(e).unknown(t)},e=arguments.length?Array.from(e,vf):[0,1],_a(r)}function eP(e,t){e=e.slice();var r=0,n=e.length-1,o=e[r],a=e[n],i;return a<o&&(i=r,r=n,n=i,i=o,o=a,a=i),e[r]=t.floor(o),e[n]=t.ceil(a),e}function K1(e){return Math.log(e)}function H1(e){return Math.exp(e)}function h8(e){return-Math.log(-e)}function v8(e){return-Math.exp(-e)}function g8(e){return isFinite(e)?+("1e"+e):e<0?0:e}function y8(e){return e===10?g8:e===Math.E?Math.exp:t=>Math.pow(e,t)}function x8(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V1(e){return(t,r)=>-e(-t,r)}function ix(e){const t=e(K1,H1),r=t.domain;let n=10,o,a;function i(){return o=x8(n),a=y8(n),r()[0]<0?(o=V1(o),a=V1(a),e(h8,v8)):e(K1,H1),t}return t.base=function(s){return arguments.length?(n=+s,i()):n},t.domain=function(s){return arguments.length?(r(s),i()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=o(u),m=o(d),v,g;const y=s==null?10:+s;let x=[];if(!(n%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(v=1;v<n;++v)if(g=p<0?v/a(-p):v*a(p),!(g<u)){if(g>d)break;x.push(g)}}else for(;p<=m;++p)for(v=n-1;v>=1;--v)if(g=p>0?v/a(-p):v*a(p),!(g<u)){if(g>d)break;x.push(g)}x.length*2<y&&(x=Wv(u,d,y))}else x=Wv(p,m,Math.min(m-p,y)).map(a);return f?x.reverse():x},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=uc(c)).precision==null&&(c.trim=!0),c=ax(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/a(Math.round(o(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(eP(r(),{floor:s=>a(Math.floor(o(s))),ceil:s=>a(Math.ceil(o(s)))})),t}function tP(){const e=ix(Mp()).domain([1,10]);return e.copy=()=>Rc(e,tP()).base(e.base()),bn.apply(e,arguments),e}function Y1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function G1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sx(e){var t=1,r=e(Y1(t),G1(t));return r.constant=function(n){return arguments.length?e(Y1(t=+n),G1(t)):t},_a(r)}function rP(){var e=sx(Mp());return e.copy=function(){return Rc(e,rP()).constant(e.constant())},bn.apply(e,arguments)}function X1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function b8(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w8(e){return e<0?-e*e:e*e}function lx(e){var t=e(kr,kr),r=1;function n(){return r===1?e(kr,kr):r===.5?e(b8,w8):e(X1(r),X1(1/r))}return t.exponent=function(o){return arguments.length?(r=+o,n()):r},_a(t)}function cx(){var e=lx(Mp());return e.copy=function(){return Rc(e,cx()).exponent(e.exponent())},bn.apply(e,arguments),e}function k8(){return cx.apply(null,arguments).exponent(.5)}function Q1(e){return Math.sign(e)*e*e}function _8(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function nP(){var e=nx(),t=[0,1],r=!1,n;function o(a){var i=_8(e(a));return isNaN(i)?n:r?Math.round(i):i}return o.invert=function(a){return e.invert(Q1(a))},o.domain=function(a){return arguments.length?(e.domain(a),o):e.domain()},o.range=function(a){return arguments.length?(e.range((t=Array.from(a,vf)).map(Q1)),o):t.slice()},o.rangeRound=function(a){return o.range(a).round(!0)},o.round=function(a){return arguments.length?(r=!!a,o):r},o.clamp=function(a){return arguments.length?(e.clamp(a),o):e.clamp()},o.unknown=function(a){return arguments.length?(n=a,o):n},o.copy=function(){return nP(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},bn.apply(o,arguments),_a(o)}function oP(){var e=[],t=[],r=[],n;function o(){var i=0,s=Math.max(1,t.length);for(r=new Array(s-1);++i<s;)r[i-1]=N$(e,i/s);return a}function a(i){return i==null||isNaN(i=+i)?n:t[Ic(r,i)]}return a.invertExtent=function(i){var s=t.indexOf(i);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let s of i)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(pa),o()},a.range=function(i){return arguments.length?(t=Array.from(i),o()):t.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return oP().domain(e).range(t).unknown(n)},bn.apply(a,arguments)}function aP(){var e=0,t=1,r=1,n=[.5],o=[0,1],a;function i(c){return c!=null&&c<=c?o[Ic(n,c,0,r)]:a}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return i}return i.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},i.range=function(c){return arguments.length?(r=(o=Array.from(c)).length-1,s()):o.slice()},i.invertExtent=function(c){var u=o.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},i.unknown=function(c){return arguments.length&&(a=c),i},i.thresholds=function(){return n.slice()},i.copy=function(){return aP().domain([e,t]).range(o).unknown(a)},bn.apply(_a(i),arguments)}function iP(){var e=[.5],t=[0,1],r,n=1;function o(a){return a!=null&&a<=a?t[Ic(e,a,0,n)]:r}return o.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),o):e.slice()},o.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),o):t.slice()},o.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},o.unknown=function(a){return arguments.length?(r=a,o):r},o.copy=function(){return iP().domain(e).range(t).unknown(r)},bn.apply(o,arguments)}const nh=new Date,oh=new Date;function Lt(e,t,r,n){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),s=o.ceil(a);return a-i<s-a?i:s},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,s)=>{const c=[];if(a=o.ceil(a),s=s==null?1:Math.floor(s),!(a<i)||!(s>0))return c;let u;do c.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<i);return c},o.filter=a=>Lt(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,s)=>{if(i>=i)if(s<0)for(;++s<=0;)for(;t(i,-1),!a(i););else for(;--s>=0;)for(;t(i,1),!a(i););}),r&&(o.count=(a,i)=>(nh.setTime(+a),oh.setTime(+i),e(nh),e(oh),Math.floor(r(nh,oh))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(n?i=>n(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const yf=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);yf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):yf);yf.range;const yo=1e3,mn=yo*60,xo=mn*60,Oo=xo*24,ux=Oo*7,Z1=Oo*30,ah=Oo*365,qa=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yo)},(e,t)=>(t-e)/yo,e=>e.getUTCSeconds());qa.range;const dx=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yo)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getMinutes());dx.range;const fx=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCMinutes());fx.range;const px=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yo-e.getMinutes()*mn)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getHours());px.range;const mx=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xo)},(e,t)=>(t-e)/xo,e=>e.getUTCHours());mx.range;const zc=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mn)/Oo,e=>e.getDate()-1);zc.range;const Ip=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>e.getUTCDate()-1);Ip.range;const sP=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oo,e=>Math.floor(e/Oo));sP.range;function ui(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mn)/ux)}const Tp=ui(0),xf=ui(1),j8=ui(2),S8=ui(3),us=ui(4),C8=ui(5),N8=ui(6);Tp.range;xf.range;j8.range;S8.range;us.range;C8.range;N8.range;function di(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ux)}const Rp=di(0),bf=di(1),P8=di(2),E8=di(3),ds=di(4),O8=di(5),A8=di(6);Rp.range;bf.range;P8.range;E8.range;ds.range;O8.range;A8.range;const hx=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hx.range;const vx=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vx.range;const Ao=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ao.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ao.range;const Do=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Do.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Do.range;function lP(e,t,r,n,o,a){const i=[[qa,1,yo],[qa,5,5*yo],[qa,15,15*yo],[qa,30,30*yo],[a,1,mn],[a,5,5*mn],[a,15,15*mn],[a,30,30*mn],[o,1,xo],[o,3,3*xo],[o,6,6*xo],[o,12,12*xo],[n,1,Oo],[n,2,2*Oo],[r,1,ux],[t,1,Z1],[t,3,3*Z1],[e,1,ah]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return p?v.reverse():v}function c(u,d,f){const p=Math.abs(d-u)/f,m=Qy(([,,y])=>y).right(i,p);if(m===i.length)return e.every(Hv(u/ah,d/ah,f));if(m===0)return yf.every(Math.max(Hv(u,d,f),1));const[v,g]=i[p/i[m-1][2]<i[m][2]/p?m-1:m];return v.every(g)}return[s,c]}const[D8,M8]=lP(Do,vx,Rp,sP,mx,fx),[I8,T8]=lP(Ao,hx,Tp,zc,px,dx);function ih(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function sh(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function tl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function R8(e){var t=e.dateTime,r=e.date,n=e.time,o=e.periods,a=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,u=rl(o),d=nl(o),f=rl(a),p=nl(a),m=rl(i),v=nl(i),g=rl(s),y=nl(s),x=rl(c),b=nl(c),w={a:V,A:T,b:W,B:se,c:null,d:ok,e:ok,f:aF,g:hF,G:gF,H:rF,I:nF,j:oF,L:cP,m:iF,M:sF,p:ge,q:ee,Q:sk,s:lk,S:lF,u:cF,U:uF,V:dF,w:fF,W:pF,x:null,X:null,y:mF,Y:vF,Z:yF,"%":ik},k={a:te,A:J,b:ye,B:P,c:null,d:ak,e:ak,f:kF,g:DF,G:IF,H:xF,I:bF,j:wF,L:dP,m:_F,M:jF,p:B,q:E,Q:sk,s:lk,S:SF,u:CF,U:NF,V:PF,w:EF,W:OF,x:null,X:null,y:AF,Y:MF,Z:TF,"%":ik},S={a:U,A:M,b:Y,B:ae,c:Q,d:rk,e:rk,f:Z8,g:tk,G:ek,H:nk,I:nk,j:Y8,L:Q8,m:V8,M:G8,p:z,q:H8,Q:eF,s:tF,S:X8,u:B8,U:U8,V:q8,w:F8,W:W8,x:F,X:K,y:tk,Y:ek,Z:K8,"%":J8};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),k.x=_(r,k),k.X=_(n,k),k.c=_(t,k);function _(A,H){return function(q){var O=[],ie=-1,re=0,me=A.length,xe,De,Ke;for(q instanceof Date||(q=new Date(+q));++ie<me;)A.charCodeAt(ie)===37&&(O.push(A.slice(re,ie)),(De=J1[xe=A.charAt(++ie)])!=null?xe=A.charAt(++ie):De=xe==="e"?" ":"0",(Ke=H[xe])&&(xe=Ke(q,De)),O.push(xe),re=ie+1);return O.push(A.slice(re,ie)),O.join("")}}function N(A,H){return function(q){var O=tl(1900,void 0,1),ie=C(O,A,q+="",0),re,me;if(ie!=q.length)return null;if("Q"in O)return new Date(O.Q);if("s"in O)return new Date(O.s*1e3+("L"in O?O.L:0));if(H&&!("Z"in O)&&(O.Z=0),"p"in O&&(O.H=O.H%12+O.p*12),O.m===void 0&&(O.m="q"in O?O.q:0),"V"in O){if(O.V<1||O.V>53)return null;"w"in O||(O.w=1),"Z"in O?(re=sh(tl(O.y,0,1)),me=re.getUTCDay(),re=me>4||me===0?bf.ceil(re):bf(re),re=Ip.offset(re,(O.V-1)*7),O.y=re.getUTCFullYear(),O.m=re.getUTCMonth(),O.d=re.getUTCDate()+(O.w+6)%7):(re=ih(tl(O.y,0,1)),me=re.getDay(),re=me>4||me===0?xf.ceil(re):xf(re),re=zc.offset(re,(O.V-1)*7),O.y=re.getFullYear(),O.m=re.getMonth(),O.d=re.getDate()+(O.w+6)%7)}else("W"in O||"U"in O)&&("w"in O||(O.w="u"in O?O.u%7:"W"in O?1:0),me="Z"in O?sh(tl(O.y,0,1)).getUTCDay():ih(tl(O.y,0,1)).getDay(),O.m=0,O.d="W"in O?(O.w+6)%7+O.W*7-(me+5)%7:O.w+O.U*7-(me+6)%7);return"Z"in O?(O.H+=O.Z/100|0,O.M+=O.Z%100,sh(O)):ih(O)}}function C(A,H,q,O){for(var ie=0,re=H.length,me=q.length,xe,De;ie<re;){if(O>=me)return-1;if(xe=H.charCodeAt(ie++),xe===37){if(xe=H.charAt(ie++),De=S[xe in J1?H.charAt(ie++):xe],!De||(O=De(A,q,O))<0)return-1}else if(xe!=q.charCodeAt(O++))return-1}return O}function z(A,H,q){var O=u.exec(H.slice(q));return O?(A.p=d.get(O[0].toLowerCase()),q+O[0].length):-1}function U(A,H,q){var O=m.exec(H.slice(q));return O?(A.w=v.get(O[0].toLowerCase()),q+O[0].length):-1}function M(A,H,q){var O=f.exec(H.slice(q));return O?(A.w=p.get(O[0].toLowerCase()),q+O[0].length):-1}function Y(A,H,q){var O=x.exec(H.slice(q));return O?(A.m=b.get(O[0].toLowerCase()),q+O[0].length):-1}function ae(A,H,q){var O=g.exec(H.slice(q));return O?(A.m=y.get(O[0].toLowerCase()),q+O[0].length):-1}function Q(A,H,q){return C(A,t,H,q)}function F(A,H,q){return C(A,r,H,q)}function K(A,H,q){return C(A,n,H,q)}function V(A){return i[A.getDay()]}function T(A){return a[A.getDay()]}function W(A){return c[A.getMonth()]}function se(A){return s[A.getMonth()]}function ge(A){return o[+(A.getHours()>=12)]}function ee(A){return 1+~~(A.getMonth()/3)}function te(A){return i[A.getUTCDay()]}function J(A){return a[A.getUTCDay()]}function ye(A){return c[A.getUTCMonth()]}function P(A){return s[A.getUTCMonth()]}function B(A){return o[+(A.getUTCHours()>=12)]}function E(A){return 1+~~(A.getUTCMonth()/3)}return{format:function(A){var H=_(A+="",w);return H.toString=function(){return A},H},parse:function(A){var H=N(A+="",!1);return H.toString=function(){return A},H},utcFormat:function(A){var H=_(A+="",k);return H.toString=function(){return A},H},utcParse:function(A){var H=N(A+="",!0);return H.toString=function(){return A},H}}}var J1={"-":"",_:" ",0:"0"},Jt=/^\s*\d+/,z8=/^%/,L8=/[\\^$*+?|[\]().{}]/g;function Ge(e,t,r){var n=e<0?"-":"",o=(n?-e:e)+"",a=o.length;return n+(a<r?new Array(r-a+1).join(t)+o:o)}function $8(e){return e.replace(L8,"\\$&")}function rl(e){return new RegExp("^(?:"+e.map($8).join("|")+")","i")}function nl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function F8(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function B8(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function U8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function q8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function W8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ek(e,t,r){var n=Jt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function tk(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function K8(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function H8(e,t,r){var n=Jt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function V8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function rk(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Y8(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function nk(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function G8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function X8(e,t,r){var n=Jt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Q8(e,t,r){var n=Jt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Z8(e,t,r){var n=Jt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function J8(e,t,r){var n=z8.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eF(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tF(e,t,r){var n=Jt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ok(e,t){return Ge(e.getDate(),t,2)}function rF(e,t){return Ge(e.getHours(),t,2)}function nF(e,t){return Ge(e.getHours()%12||12,t,2)}function oF(e,t){return Ge(1+zc.count(Ao(e),e),t,3)}function cP(e,t){return Ge(e.getMilliseconds(),t,3)}function aF(e,t){return cP(e,t)+"000"}function iF(e,t){return Ge(e.getMonth()+1,t,2)}function sF(e,t){return Ge(e.getMinutes(),t,2)}function lF(e,t){return Ge(e.getSeconds(),t,2)}function cF(e){var t=e.getDay();return t===0?7:t}function uF(e,t){return Ge(Tp.count(Ao(e)-1,e),t,2)}function uP(e){var t=e.getDay();return t>=4||t===0?us(e):us.ceil(e)}function dF(e,t){return e=uP(e),Ge(us.count(Ao(e),e)+(Ao(e).getDay()===4),t,2)}function fF(e){return e.getDay()}function pF(e,t){return Ge(xf.count(Ao(e)-1,e),t,2)}function mF(e,t){return Ge(e.getFullYear()%100,t,2)}function hF(e,t){return e=uP(e),Ge(e.getFullYear()%100,t,2)}function vF(e,t){return Ge(e.getFullYear()%1e4,t,4)}function gF(e,t){var r=e.getDay();return e=r>=4||r===0?us(e):us.ceil(e),Ge(e.getFullYear()%1e4,t,4)}function yF(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ge(t/60|0,"0",2)+Ge(t%60,"0",2)}function ak(e,t){return Ge(e.getUTCDate(),t,2)}function xF(e,t){return Ge(e.getUTCHours(),t,2)}function bF(e,t){return Ge(e.getUTCHours()%12||12,t,2)}function wF(e,t){return Ge(1+Ip.count(Do(e),e),t,3)}function dP(e,t){return Ge(e.getUTCMilliseconds(),t,3)}function kF(e,t){return dP(e,t)+"000"}function _F(e,t){return Ge(e.getUTCMonth()+1,t,2)}function jF(e,t){return Ge(e.getUTCMinutes(),t,2)}function SF(e,t){return Ge(e.getUTCSeconds(),t,2)}function CF(e){var t=e.getUTCDay();return t===0?7:t}function NF(e,t){return Ge(Rp.count(Do(e)-1,e),t,2)}function fP(e){var t=e.getUTCDay();return t>=4||t===0?ds(e):ds.ceil(e)}function PF(e,t){return e=fP(e),Ge(ds.count(Do(e),e)+(Do(e).getUTCDay()===4),t,2)}function EF(e){return e.getUTCDay()}function OF(e,t){return Ge(bf.count(Do(e)-1,e),t,2)}function AF(e,t){return Ge(e.getUTCFullYear()%100,t,2)}function DF(e,t){return e=fP(e),Ge(e.getUTCFullYear()%100,t,2)}function MF(e,t){return Ge(e.getUTCFullYear()%1e4,t,4)}function IF(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ds(e):ds.ceil(e),Ge(e.getUTCFullYear()%1e4,t,4)}function TF(){return"+0000"}function ik(){return"%"}function sk(e){return+e}function lk(e){return Math.floor(+e/1e3)}var _i,pP,mP;RF({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RF(e){return _i=R8(e),pP=_i.format,_i.parse,mP=_i.utcFormat,_i.utcParse,_i}function zF(e){return new Date(e)}function LF(e){return e instanceof Date?+e:+new Date(+e)}function gx(e,t,r,n,o,a,i,s,c,u){var d=nx(),f=d.invert,p=d.domain,m=u(".%L"),v=u(":%S"),g=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),k=u("%Y");function S(_){return(c(_)<_?m:s(_)<_?v:i(_)<_?g:a(_)<_?y:n(_)<_?o(_)<_?x:b:r(_)<_?w:k)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?p(Array.from(_,LF)):p().map(zF)},d.ticks=function(_){var N=p();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?S:u(N)},d.nice=function(_){var N=p();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?p(eP(N,_)):d},d.copy=function(){return Rc(d,gx(e,t,r,n,o,a,i,s,c,u))},d}function $F(){return bn.apply(gx(I8,T8,Ao,hx,Tp,zc,px,dx,qa,pP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function FF(){return bn.apply(gx(D8,M8,Do,vx,Rp,Ip,mx,fx,qa,mP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zp(){var e=0,t=1,r,n,o,a,i=kr,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:i(o===0?.5:(f=(a(f)-r)*o,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),o=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(i=f,u):i};function d(f){return function(p){var m,v;return arguments.length?([m,v]=p,i=f(m,v),u):[i(0),i(1)]}}return u.range=d(bs),u.rangeRound=d(rx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),o=r===n?0:1/(n-r),u}}function ja(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hP(){var e=_a(zp()(kr));return e.copy=function(){return ja(e,hP())},zo.apply(e,arguments)}function vP(){var e=ix(zp()).domain([1,10]);return e.copy=function(){return ja(e,vP()).base(e.base())},zo.apply(e,arguments)}function gP(){var e=sx(zp());return e.copy=function(){return ja(e,gP()).constant(e.constant())},zo.apply(e,arguments)}function yx(){var e=lx(zp());return e.copy=function(){return ja(e,yx()).exponent(e.exponent())},zo.apply(e,arguments)}function BF(){return yx.apply(null,arguments).exponent(.5)}function yP(){var e=[],t=kr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let o of n)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pa),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,o)=>t(o/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(o,a)=>C$(e,a/n))},r.copy=function(){return yP(t).domain(e)},zo.apply(r,arguments)}function Lp(){var e=0,t=.5,r=1,n=1,o,a,i,s,c,u=kr,d,f=!1,p;function m(g){return isNaN(g=+g)?p:(g=.5+((g=+d(g))-a)*(n*g<n*a?s:c),u(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,o=d(e=+e),a=d(t=+t),i=d(r=+r),s=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(u=g,m):u};function v(g){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=J$(g,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(bs),m.rangeRound=v(rx),m.unknown=function(g){return arguments.length?(p=g,m):p},function(g){return d=g,o=g(e),a=g(t),i=g(r),s=o===a?0:.5/(a-o),c=a===i?0:.5/(i-a),n=a<o?-1:1,m}}function xP(){var e=_a(Lp()(kr));return e.copy=function(){return ja(e,xP())},zo.apply(e,arguments)}function bP(){var e=ix(Lp()).domain([.1,1,10]);return e.copy=function(){return ja(e,bP()).base(e.base())},zo.apply(e,arguments)}function wP(){var e=sx(Lp());return e.copy=function(){return ja(e,wP()).constant(e.constant())},zo.apply(e,arguments)}function xx(){var e=lx(Lp());return e.copy=function(){return ja(e,xx()).exponent(e.exponent())},zo.apply(e,arguments)}function UF(){return xx.apply(null,arguments).exponent(.5)}const cl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jy,scaleDiverging:xP,scaleDivergingLog:bP,scaleDivergingPow:xx,scaleDivergingSqrt:UF,scaleDivergingSymlog:wP,scaleIdentity:JN,scaleImplicit:Vv,scaleLinear:ZN,scaleLog:tP,scaleOrdinal:Zy,scalePoint:E$,scalePow:cx,scaleQuantile:oP,scaleQuantize:aP,scaleRadial:nP,scaleSequential:hP,scaleSequentialLog:vP,scaleSequentialPow:yx,scaleSequentialQuantile:yP,scaleSequentialSqrt:BF,scaleSequentialSymlog:gP,scaleSqrt:k8,scaleSymlog:rP,scaleThreshold:iP,scaleTime:$F,scaleUtc:FF,tickFormat:QN},Symbol.toStringTag,{value:"Module"}));var Sa=e=>e.chartData,qF=X([Sa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bx=(e,t,r,n)=>n?qF(e):Sa(e);function ya(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Qt(t)&&Qt(r))return!0}return!1}function ck(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function kP(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,o,a;if(Qt(r))o=r;else if(typeof r=="function")return;if(Qt(n))a=n;else if(typeof n=="function")return;var i=[o,a];if(ya(i))return i}}function WF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(ya(n))return ck(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[o,a]=e,i,s;if(o==="auto")t!=null&&(i=Math.min(...t));else if(Pe(o))i=o;else if(typeof o=="function")try{t!=null&&(i=o(t==null?void 0:t[0]))}catch{}else if(typeof o=="string"&&Vw.test(o)){var c=Vw.exec(o);if(c==null||t==null)i=void 0;else{var u=+c[1];i=t[0]-u}}else i=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Pe(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&Yw.test(a)){var d=Yw.exec(a);if(d==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[i,s];if(ya(p))return t==null?p:ck(p,t,r)}}}var ws=1e9,KF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kx,yt=!0,xn="[DecimalError] ",Xa=xn+"Invalid argument: ",wx=xn+"Exponent out of range: ",ks=Math.floor,za=Math.pow,HF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yr,Kt=1e7,dt=7,_P=9007199254740991,wf=ks(_P/dt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,r,n,o,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,o=e.d.length,t=0,r=n<o?n:o;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===o?0:n>o^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*dt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};we.dividedBy=we.div=function(e){return ko(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,r=t.constructor;return ot(ko(t,new r(e),0,1),r.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Ot(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,r=this,n=r.constructor,o=n.precision,a=o+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Yr))throw Error(xn+"NaN");if(r.s<1)throw Error(xn+(r.s?"NaN":"-Infinity"));return r.eq(Yr)?new n(0):(yt=!1,t=ko(dc(r,a),dc(e,a),a),yt=!0,ot(t,o))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CP(t,e):jP(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,r=this,n=r.constructor,o=n.precision;if(e=new n(e),!e.s)throw Error(xn+"NaN");return r.s?(yt=!1,t=ko(r,e,0,1).times(e),yt=!0,r.minus(t)):ot(new n(r),o)};we.naturalExponential=we.exp=function(){return SP(this)};we.naturalLogarithm=we.ln=function(){return dc(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?jP(t,e):CP(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,r,n,o=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xa+e);if(t=Ot(o)+1,n=o.d.length-1,r=n*dt+1,n=o.d[n],n){for(;n%10==0;n/=10)r--;for(n=o.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};we.squareRoot=we.sqrt=function(){var e,t,r,n,o,a,i,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(xn+"NaN")}for(e=Ot(s),yt=!1,o=Math.sqrt(+s),o==0||o==1/0?(t=Gn(s.d),(t.length+e)%2==0&&(t+="0"),o=Math.sqrt(t),e=ks((e+1)/2)-(e<0||e%2),o==1/0?t="5e"+e:(t=o.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(o.toString()),r=c.precision,o=i=r+3;;)if(a=n,n=a.plus(ko(s,a,i+2)).times(.5),Gn(a.d).slice(0,i)===(t=Gn(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),o==i&&t=="4999"){if(ot(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;i+=4}return yt=!0,ot(n,r)};we.times=we.mul=function(e){var t,r,n,o,a,i,s,c,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=p.length,u=m.length,c<u&&(a=p,p=m,m=a,i=c,c=u,u=i),a=[],i=c+u,n=i;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,o=c+n;o>n;)s=a[o]+m[n]*p[o-n-1]+t,a[o--]=s%Kt|0,t=s/Kt|0;a[o]=(a[o]+t)%Kt|0}for(;!a[--i];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,yt?ot(e,f.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(oo(e,0,ws),t===void 0?t=n.rounding:oo(t,0,8),ot(r,e+Ot(r)+1,t))};we.toExponential=function(e,t){var r,n=this,o=n.constructor;return e===void 0?r=ai(n,!0):(oo(e,0,ws),t===void 0?t=o.rounding:oo(t,0,8),n=ot(new o(n),e+1,t),r=ai(n,!0,e+1)),r};we.toFixed=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?ai(o):(oo(e,0,ws),t===void 0?t=a.rounding:oo(t,0,8),n=ot(new a(o),e+Ot(o)+1,t),r=ai(n.abs(),!1,e+Ot(n)+1),o.isneg()&&!o.isZero()?"-"+r:r)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return ot(new t(e),Ot(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,r,n,o,a,i,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Yr);if(s=new c(s),!s.s){if(e.s<1)throw Error(xn+"Infinity");return s}if(s.eq(Yr))return s;if(n=c.precision,e.eq(Yr))return ot(s,n);if(t=e.e,r=e.d.length-1,i=t>=r,a=s.s,i){if((r=d<0?-d:d)<=_P){for(o=new c(Yr),t=Math.ceil(n/dt+4),yt=!1;r%2&&(o=o.times(s),dk(o.d,t)),r=ks(r/2),r!==0;)s=s.times(s),dk(s.d,t);return yt=!0,e.s<0?new c(Yr).div(o):ot(o,n)}}else if(a<0)throw Error(xn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,yt=!1,o=e.times(dc(s,n+u)),yt=!0,o=SP(o),o.s=a,o};we.toPrecision=function(e,t){var r,n,o=this,a=o.constructor;return e===void 0?(r=Ot(o),n=ai(o,r<=a.toExpNeg||r>=a.toExpPos)):(oo(e,1,ws),t===void 0?t=a.rounding:oo(t,0,8),o=ot(new a(o),e,t),r=Ot(o),n=ai(o,e<=r||r<=a.toExpNeg,e)),n};we.toSignificantDigits=we.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(oo(e,1,ws),t===void 0?t=n.rounding:oo(t,0,8)),ot(new n(r),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ot(e),r=e.constructor;return ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function jP(e,t){var r,n,o,a,i,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yt?ot(t,f):t;if(c=e.d,u=t.d,i=e.e,o=t.e,c=c.slice(),a=i-o,a){for(a<0?(n=c,a=-a,s=u.length):(n=u,o=i,s=c.length),i=Math.ceil(f/dt),s=i>s?i+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=c.length,a=u.length,s-a<0&&(a=s,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Kt|0,c[a]%=Kt;for(r&&(c.unshift(r),++o),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=o,yt?ot(t,f):t}function oo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xa+e)}function Gn(e){var t,r,n,o=e.length-1,a="",i=e[0];if(o>0){for(a+=i,t=1;t<o;t++)n=e[t]+"",r=dt-n.length,r&&(a+=Xo(r)),a+=n;i=e[t],n=i+"",r=dt-n.length,r&&(a+=Xo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var ko=function(){function e(n,o){var a,i=0,s=n.length;for(n=n.slice();s--;)a=n[s]*o+i,n[s]=a%Kt|0,i=a/Kt|0;return i&&n.unshift(i),n}function t(n,o,a,i){var s,c;if(a!=i)c=a>i?1:-1;else for(s=c=0;s<a;s++)if(n[s]!=o[s]){c=n[s]>o[s]?1:-1;break}return c}function r(n,o,a){for(var i=0;a--;)n[a]-=i,i=n[a]<o[a]?1:0,n[a]=i*Kt+n[a]-o[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,o,a,i){var s,c,u,d,f,p,m,v,g,y,x,b,w,k,S,_,N,C,z=n.constructor,U=n.s==o.s?1:-1,M=n.d,Y=o.d;if(!n.s)return new z(n);if(!o.s)throw Error(xn+"Division by zero");for(c=n.e-o.e,N=Y.length,S=M.length,m=new z(U),v=m.d=[],u=0;Y[u]==(M[u]||0);)++u;if(Y[u]>(M[u]||0)&&--c,a==null?b=a=z.precision:i?b=a+(Ot(n)-Ot(o))+1:b=a,b<0)return new z(0);if(b=b/dt+2|0,u=0,N==1)for(d=0,Y=Y[0],b++;(u<S||d)&&b--;u++)w=d*Kt+(M[u]||0),v[u]=w/Y|0,d=w%Y|0;else{for(d=Kt/(Y[0]+1)|0,d>1&&(Y=e(Y,d),M=e(M,d),N=Y.length,S=M.length),k=N,g=M.slice(0,N),y=g.length;y<N;)g[y++]=0;C=Y.slice(),C.unshift(0),_=Y[0],Y[1]>=Kt/2&&++_;do d=0,s=t(Y,g,N,y),s<0?(x=g[0],N!=y&&(x=x*Kt+(g[1]||0)),d=x/_|0,d>1?(d>=Kt&&(d=Kt-1),f=e(Y,d),p=f.length,y=g.length,s=t(f,g,p,y),s==1&&(d--,r(f,N<p?C:Y,p))):(d==0&&(s=d=1),f=Y.slice()),p=f.length,p<y&&f.unshift(0),r(g,f,y),s==-1&&(y=g.length,s=t(Y,g,N,y),s<1&&(d++,r(g,N<y?C:Y,y))),y=g.length):s===0&&(d++,g=[0]),v[u++]=d,s&&g[0]?g[y++]=M[k]||0:(g=[M[k]],y=1);while((k++<S||g[0]!==void 0)&&b--)}return v[0]||v.shift(),m.e=c,ot(m,i?a+Ot(m)+1:a)}}();function SP(e,t){var r,n,o,a,i,s,c=0,u=0,d=e.constructor,f=d.precision;if(Ot(e)>16)throw Error(wx+Ot(e));if(!e.s)return new d(Yr);for(yt=!1,s=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),u+=5;for(n=Math.log(za(2,u))/Math.LN10*2+5|0,s+=n,r=o=a=new d(Yr),d.precision=s;;){if(o=ot(o.times(e),s),r=r.times(++c),i=a.plus(ko(o,r,s)),Gn(i.d).slice(0,s)===Gn(a.d).slice(0,s)){for(;u--;)a=ot(a.times(a),s);return d.precision=f,t==null?(yt=!0,ot(a,f)):a}a=i}}function Ot(e){for(var t=e.e*dt,r=e.d[0];r>=10;r/=10)t++;return t}function lh(e,t,r){if(t>e.LN10.sd())throw yt=!0,r&&(e.precision=r),Error(xn+"LN10 precision limit exceeded");return ot(new e(e.LN10),t)}function Xo(e){for(var t="";e--;)t+="0";return t}function dc(e,t){var r,n,o,a,i,s,c,u,d,f=1,p=10,m=e,v=m.d,g=m.constructor,y=g.precision;if(m.s<1)throw Error(xn+(m.s?"NaN":"-Infinity"));if(m.eq(Yr))return new g(0);if(t==null?(yt=!1,u=y):u=t,m.eq(10))return t==null&&(yt=!0),lh(g,u);if(u+=p,g.precision=u,r=Gn(v),n=r.charAt(0),a=Ot(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Gn(m.d),n=r.charAt(0),f++;a=Ot(m),n>1?(m=new g("0."+r),a++):m=new g(n+"."+r.slice(1))}else return c=lh(g,u+2,y).times(a+""),m=dc(new g(n+"."+r.slice(1)),u-p).plus(c),g.precision=y,t==null?(yt=!0,ot(m,y)):m;for(s=i=m=ko(m.minus(Yr),m.plus(Yr),u),d=ot(m.times(m),u),o=3;;){if(i=ot(i.times(d),u),c=s.plus(ko(i,new g(o),u)),Gn(c.d).slice(0,u)===Gn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(lh(g,u+2,y).times(a+""))),s=ko(s,new g(f),u),g.precision=y,t==null?(yt=!0,ot(s,y)):s;s=c,o+=2}}function uk(e,t){var r,n,o;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(o=t.length;t.charCodeAt(o-1)===48;)--o;if(t=t.slice(n,o),t){if(o-=n,r=r-n-1,e.e=ks(r/dt),e.d=[],n=(r+1)%dt,r<0&&(n+=dt),n<o){for(n&&e.d.push(+t.slice(0,n)),o-=dt;n<o;)e.d.push(+t.slice(n,n+=dt));t=t.slice(n),n=dt-t.length}else n-=o;for(;n--;)t+="0";if(e.d.push(+t),yt&&(e.e>wf||e.e<-wf))throw Error(wx+r)}else e.s=0,e.e=0,e.d=[0];return e}function ot(e,t,r){var n,o,a,i,s,c,u,d,f=e.d;for(i=1,a=f[0];a>=10;a/=10)i++;if(n=t-i,n<0)n+=dt,o=t,u=f[d=0];else{if(d=Math.ceil((n+1)/dt),a=f.length,d>=a)return e;for(u=a=f[d],i=1;a>=10;a/=10)i++;n%=dt,o=n-dt+i}if(r!==void 0&&(a=za(10,i-o-1),s=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?o>0?u/za(10,i-o):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Ot(e),f.length=1,t=t-a-1,f[0]=za(10,(dt-t%dt)%dt),e.e=ks(-t/dt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=za(10,dt-n),f[d]=o>0?(u/za(10,i-o)%za(10,o)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Kt&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Kt)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(yt&&(e.e>wf||e.e<-wf))throw Error(wx+Ot(e));return e}function CP(e,t){var r,n,o,a,i,s,c,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),yt?ot(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),i=u-n,i){for(d=i<0,d?(r=c,i=-i,s=f.length):(r=f,n=u,s=c.length),o=Math.max(Math.ceil(m/dt),s)+2,i>o&&(i=o,r.length=1),r.reverse(),o=i;o--;)r.push(0);r.reverse()}else{for(o=c.length,s=f.length,d=o<s,d&&(s=o),o=0;o<s;o++)if(c[o]!=f[o]){d=c[o]<f[o];break}i=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,o=f.length-s;o>0;--o)c[s++]=0;for(o=f.length;o>i;){if(c[--o]<f[o]){for(a=o;a&&c[--a]===0;)c[a]=Kt-1;--c[a],c[o]+=Kt}c[o]-=f[o]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,yt?ot(t,m):t):new p(0)}function ai(e,t,r){var n,o=Ot(e),a=Gn(e.d),i=a.length;return t?(r&&(n=r-i)>0?a=a.charAt(0)+"."+a.slice(1)+Xo(n):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(o<0?"e":"e+")+o):o<0?(a="0."+Xo(-o-1)+a,r&&(n=r-i)>0&&(a+=Xo(n))):o>=i?(a+=Xo(o+1-i),r&&(n=r-o-1)>0&&(a=a+"."+Xo(n))):((n=o+1)<i&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-i)>0&&(o+1===i&&(a+="."),a+=Xo(n))),e.s<0?"-"+a:a}function dk(e,t){if(e.length>t)return e.length=t,!0}function NP(e){var t,r,n;function o(a){var i=this;if(!(i instanceof o))return new o(a);if(i.constructor=o,a instanceof o){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xa+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return uk(i,a.toString())}else if(typeof a!="string")throw Error(Xa+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,HF.test(a))uk(i,a);else throw Error(Xa+a)}if(o.prototype=we,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=NP,o.config=o.set=VF,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return o.config(e),o}function VF(e){if(!e||typeof e!="object")throw Error(xn+"Object expected");var t,r,n,o=["precision",1,ws,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<o.length;t+=3)if((n=e[r=o[t]])!==void 0)if(ks(n)===n&&n>=o[t+1]&&n<=o[t+2])this[r]=n;else throw Error(Xa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xa+r+": "+n);return this}var kx=NP(KF);Yr=new kx(1);const Je=kx;var YF=e=>e,PP={},EP=e=>e===PP,fk=e=>function t(){return arguments.length===0||arguments.length===1&&EP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},OP=(e,t)=>e===1?t:fk(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=n.filter(i=>i!==PP).length;return a>=e?t(...n):OP(e-a,fk(function(){for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];var u=n.map(d=>EP(d)?s.shift():d);return t(...u,...s)}))}),GF=e=>OP(e.length,e),Qv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},XF=GF((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YF;var o=r.reverse(),a=o[0],i=o.slice(1);return function(){return i.reduce((s,c)=>c(s),a(...arguments))}},Zv=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function AP(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function DP(e,t,r){for(var n=new Je(e),o=0,a=[];n.lt(t)&&o<1e5;)a.push(n.toNumber()),n=n.add(r),o++;return a}var MP=e=>{var[t,r]=e,[n,o]=[t,r];return t>r&&([n,o]=[r,t]),[n,o]},IP=(e,t,r)=>{if(e.lte(0))return new Je(0);var n=AP(e.toNumber()),o=new Je(10).pow(n),a=e.div(o),i=n!==1?.05:.1,s=new Je(Math.ceil(a.div(i).toNumber())).add(r).mul(i),c=s.mul(o);return t?new Je(c.toNumber()):new Je(Math.ceil(c.toNumber()))},ZF=(e,t,r)=>{var n=new Je(1),o=new Je(e);if(!o.isint()&&r){var a=Math.abs(e);a<1?(n=new Je(10).pow(AP(e)-1),o=new Je(Math.floor(o.div(n).toNumber())).mul(n)):a>1&&(o=new Je(Math.floor(e)))}else e===0?o=new Je(Math.floor((t-1)/2)):r||(o=new Je(Math.floor(e)));var i=Math.floor((t-1)/2),s=QF(XF(c=>o.add(new Je(c-i).mul(n)).toNumber()),Qv);return s(0,t)},TP=function(t,r,n,o){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var i=IP(new Je(r).sub(t).div(n-1),o,a),s;t<=0&&r>=0?s=new Je(0):(s=new Je(t).add(r).div(2),s=s.sub(new Je(s).mod(i)));var c=Math.ceil(s.sub(t).div(i).toNumber()),u=Math.ceil(new Je(r).sub(s).div(i).toNumber()),d=c+u+1;return d>n?TP(t,r,n,o,a+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:i,tickMin:s.sub(new Je(c).mul(i)),tickMax:s.add(new Je(u).mul(i))})},JF=function(t){var[r,n]=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(o,2),[s,c]=MP([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...Qv(0,o-1).map(()=>1/0)]:[...Qv(0,o-1).map(()=>-1/0),c];return r>n?Zv(u):u}if(s===c)return ZF(s,o,a);var{step:d,tickMin:f,tickMax:p}=TP(s,c,i,a,0),m=DP(f,p.add(new Je(.1).mul(d)),d);return r>n?Zv(m):m},eB=function(t,r){var[n,o]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=MP([n,o]);if(i===-1/0||s===1/0)return[n,o];if(i===s)return[i];var c=Math.max(r,2),u=IP(new Je(s).sub(i).div(c-1),a,0),d=[...DP(new Je(i),new Je(s),u),s];return a===!1&&(d=d.map(f=>Math.round(f))),n>o?Zv(d):d},tB=e=>e.rootProps.barCategoryGap,$p=e=>e.rootProps.stackOffset,RP=e=>e.rootProps.reverseStackOrder,_x=e=>e.options.chartName,jx=e=>e.rootProps.syncId,zP=e=>e.rootProps.syncMethod,Sx=e=>e.options.eventEmitter,_r={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},po={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Fp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},rB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:po.angleAxisId,includeHidden:!1,name:void 0,reversed:po.reversed,scale:po.scale,tick:po.tick,tickCount:void 0,ticks:void 0,type:po.type,unit:void 0},nB={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},oB={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:po.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:po.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:po.scale,tick:po.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},aB={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},Cx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oB:rB,Nx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?aB:nB,Bp=e=>e.polarOptions,Px=X([To,Ro,sr],o$),LP=X([Bp,Px],(e,t)=>{if(e!=null)return ga(e.innerRadius,t,0)}),$P=X([Bp,Px],(e,t)=>{if(e!=null)return ga(e.outerRadius,t,t*.8)}),iB=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},FP=X([Bp],iB);X([Cx,FP],Fp);var BP=X([Px,LP,$P],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});X([Nx,BP],Fp);var UP=X([pt,Bp,LP,$P,To,Ro],(e,t,r,n,o,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:s,startAngle:c,endAngle:u}=t;return{cx:ga(i,o,o/2),cy:ga(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),$t=(e,t)=>t,Up=(e,t,r)=>r;function qP(e){return e==null?void 0:e.id}function WP(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:o,dataKey:a}=r,i=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=qP(s);u.forEach((f,p)=>{var m=a==null||o?p:String(hr(f,a,null)),v=hr(f,s.dataKey,0),g;i.has(m)?g=i.get(m):g={},Object.assign(g,{[d]:v}),i.set(m,g)})}}),Array.from(i.values())}function Ex(e){return e.stackId!=null&&e.dataKey!=null}var qp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function sB(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ft=e=>{var t=pt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},_s=e=>e.tooltip.settings.axisId;function pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pk(Object(r),!0).forEach(function(n){lB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lB(e,t,r){return(t=cB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cB(e){var t=uB(e,"string");return typeof t=="symbol"?t:t+""}function uB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jv=[0,"auto"],qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},KP=(e,t)=>e.cartesianAxis.xAxis[t],Lo=(e,t)=>{var r=KP(e,t);return r??qt},Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ac},HP=(e,t)=>e.cartesianAxis.yAxis[t],$o=(e,t)=>{var r=HP(e,t);return r??Wt},dB={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ox=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??dB},Or=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);case"zAxis":return Ox(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Nx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fB=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lc=(e,t,r)=>{switch(t){case"xAxis":return Lo(e,r);case"yAxis":return $o(e,r);case"angleAxis":return Cx(e,r);case"radiusAxis":return Nx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},VP=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function YP(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var GP=e=>e.graphicalItems.cartesianItems,pB=X([$t,Up],YP),XP=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),$c=X([GP,Or,pB],XP,{memoizeOptions:{resultEqualityCheck:Wp}}),QP=X([$c],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ex)),ZP=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mB=X([$c],ZP),JP=e=>e.map(t=>t.data).filter(Boolean).flat(1),hB=X([$c],JP,{memoizeOptions:{resultEqualityCheck:Wp}}),eE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:o}=t;return e.length>0?e:r.slice(n,o+1)},Ax=X([hB,bx],eE),tE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:hr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(o=>({value:hr(o,n)}))):e.map(n=>({value:n})),Kp=X([Ax,Or,$c],tE);function rE(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function od(e){if(ro(e)||e instanceof Date){var t=Number(e);if(Qt(t))return t}}function mk(e){if(Array.isArray(e)){var t=[od(e[0]),od(e[1])];return ya(t)?t:void 0}var r=od(e);if(r!=null)return[r,r]}function Mo(e){return e.map(od).filter(HR)}function vB(e,t,r){return!r||typeof t!="number"||to(t)?[]:r.length?Mo(r.flatMap(n=>{var o=hr(e,n.dataKey),a,i;if(Array.isArray(o)?[a,i]=o:a=i=o,!(!Qt(a)||!Qt(i)))return[t-a,t+i]})):[]}var Bt=e=>{var t=Ft(e),r=_s(e);return Lc(e,t,r)},Fc=X([Bt],e=>e==null?void 0:e.dataKey),gB=X([QP,bx,Bt],WP),nE=(e,t,r,n)=>{var o={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),o);return Object.fromEntries(Object.entries(a).map(i=>{var[s,c]=i,u=n?[...c].reverse():c,d=u.map(qP);return[s,{stackedData:tL(e,d,r),graphicalItems:u}]}))},yB=X([gB,QP,$p,RP],nE),oE=(e,t,r,n)=>{var{dataStartIndex:o,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var i=oL(e,o,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},xB=X([Or],e=>e.allowDataOverflow),Dx=e=>{var t;if(e==null||!("domain"in e))return Jv;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Mo(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Jv},aE=X([Or],Dx),iE=X([aE,xB],kP),bB=X([yB,Sa,$t,iE],oE,{memoizeOptions:{resultEqualityCheck:qp}}),Mx=e=>e.errorBars,wB=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>rE(r,n)),_f=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var o=r.filter(Boolean);if(o.length!==0){var a=o.flat(),i=Math.min(...a),s=Math.max(...a);return[i,s]}},sE=(e,t,r,n,o)=>{var a,i;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(x=>rE(o,x)),p=hr(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=vB(s,p,f);if(m.length>=2){var v=Math.min(...m),g=Math.max(...m);(a==null||v<a)&&(a=v),(i==null||g>i)&&(i=g)}var y=mk(p);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),i=i==null?y[1]:Math.max(i,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=mk(hr(s,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),i=i==null?c[1]:Math.max(i,c[1]))}),Qt(a)&&Qt(i))return[a,i]},kB=X([Ax,Or,mB,Mx,$t],sE,{memoizeOptions:{resultEqualityCheck:qp}});function _B(e){var{value:t}=e;if(ro(t)||t instanceof Date)return t}var jB=(e,t,r)=>{var n=e.map(_B).filter(o=>o!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&QC(n))?BN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},lE=e=>e.referenceElements.dots,js=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),SB=X([lE,$t,Up],js),cE=e=>e.referenceElements.areas,CB=X([cE,$t,Up],js),uE=e=>e.referenceElements.lines,NB=X([uE,$t,Up],js),dE=(e,t)=>{var r=Mo(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},PB=X(SB,$t,dE),fE=(e,t)=>{var r=Mo(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},EB=X([CB,$t],fE);function OB(e){var t;if(e.x!=null)return Mo([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Mo(r)}function AB(e){var t;if(e.y!=null)return Mo([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Mo(r)}var pE=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?OB(n):AB(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DB=X([NB,$t],pE),MB=X(PB,DB,EB,(e,t,r)=>_f(e,r,t)),mE=(e,t,r,n,o,a,i,s)=>{if(r!=null)return r;var c=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",u=c?_f(n,a,o):_f(a,o);return WF(t,u,e.allowDataOverflow)},IB=X([Or,aE,iE,bB,kB,MB,pt,$t],mE,{memoizeOptions:{resultEqualityCheck:qp}}),TB=[0,1],hE=(e,t,r,n,o,a,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:s,type:c}=e,u=ka(t,a);if(u&&s==null){var d;return BN(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?jB(n,e,u):o==="expand"?TB:i}},Ix=X([Or,pt,Ax,Kp,$p,$t,IB],hE),vE=(e,t,r,n,o)=>{if(e!=null){var{scale:a,type:i}=e;if(a==="auto")return t==="radial"&&o==="radiusAxis"?"band":t==="radial"&&o==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Cc(a));return s in cl?s:"point"}}},Bc=X([Or,pt,VP,_x,$t],vE);function RB(e){if(e!=null){if(e in cl)return cl[e]();var t="scale".concat(Cc(e));if(t in cl)return cl[t]()}}function Tx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var o=RB(t);if(o!=null){var a=o.domain(r).range(n);return Qz(a),a}}}var gE=(e,t,r)=>{var n=Dx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&ya(e))return JF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&ya(e))return eB(e,t.tickCount,t.allowDecimals)}},Rx=X([Ix,Lc,Bc],gE),yE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&ya(t)&&Array.isArray(r)&&r.length>0){var o=t[0],a=r[0],i=t[1],s=r[r.length-1];return[Math.min(o,a),Math.max(i,s)]}return t},zB=X([Or,Ix,Rx,$t],yE),LB=X(Kp,Or,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Mo(e.map(s=>s.value))).sort((s,c)=>s-c);if(n.length<2)return 1/0;var o=n[n.length-1]-n[0];if(o===0)return 1/0;for(var a=0;a<n.length-1;a++){var i=n[a+1]-n[a];r=Math.min(r,i)}return r/o}}),xE=X(LB,pt,tB,sr,(e,t,r,n)=>n,(e,t,r,n,o)=>{if(!Qt(e))return 0;var a=t==="vertical"?n.height:n.width;if(o==="gap")return e*a/2;if(o==="no-gap"){var i=ga(r,e*a),s=e*a/2;return s-i-(s-i)/a*i}return 0}),$B=(e,t)=>{var r=Lo(e,t);return r==null||typeof r.padding!="string"?0:xE(e,"xAxis",t,r.padding)},FB=(e,t)=>{var r=$o(e,t);return r==null||typeof r.padding!="string"?0:xE(e,"yAxis",t,r.padding)},BB=X(Lo,$B,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:o}=e;return typeof o=="string"?{left:t,right:t}:{left:((r=o.left)!==null&&r!==void 0?r:0)+t,right:((n=o.right)!==null&&n!==void 0?n:0)+t}}),UB=X($o,FB,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:o}=e;return typeof o=="string"?{top:t,bottom:t}:{top:((r=o.top)!==null&&r!==void 0?r:0)+t,bottom:((n=o.bottom)!==null&&n!==void 0?n:0)+t}}),qB=X([sr,BB,Cp,Sp,(e,t,r)=>r],(e,t,r,n,o)=>{var{padding:a}=n;return o?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),WB=X([sr,pt,UB,Cp,Sp,(e,t,r)=>r],(e,t,r,n,o,a)=>{var{padding:i}=o;return a?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Uc=(e,t,r,n)=>{var o;switch(t){case"xAxis":return qB(e,r,n);case"yAxis":return WB(e,r,n);case"zAxis":return(o=Ox(e,r))===null||o===void 0?void 0:o.range;case"angleAxis":return FP(e);case"radiusAxis":return BP(e,r);default:return}},bE=X([Or,Uc],Fp),Ss=X([Or,Bc,zB,bE],Tx);X([$c,Mx,$t],wB);function wE(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Hp=(e,t)=>t,Vp=(e,t,r)=>r,KB=X(_p,Hp,Vp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wE)),HB=X(jp,Hp,Vp,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wE)),kE=(e,t)=>({width:e.width,height:t.height}),VB=(e,t)=>{var r=typeof t.width=="number"?t.width:Ac;return{width:r,height:e.height}},YB=X(sr,Lo,kE),GB=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},XB=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},QB=X(Ro,sr,KB,Hp,Vp,(e,t,r,n,o)=>{var a={},i;return r.forEach(s=>{var c=kE(t,s);i==null&&(i=GB(t,n,e));var u=n==="top"&&!o||n==="bottom"&&o;a[s.id]=i-Number(u)*c.height,i+=(u?-1:1)*c.height}),a}),ZB=X(To,sr,HB,Hp,Vp,(e,t,r,n,o)=>{var a={},i;return r.forEach(s=>{var c=VB(t,s);i==null&&(i=XB(t,n,e));var u=n==="left"&&!o||n==="right"&&o;a[s.id]=i-Number(u)*c.width,i+=(u?-1:1)*c.width}),a}),JB=(e,t)=>{var r=Lo(e,t);if(r!=null)return QB(e,r.orientation,r.mirror)},e9=X([sr,Lo,JB,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var o=r==null?void 0:r[n];return o==null?{x:e.left,y:0}:{x:e.left,y:o}}}),t9=(e,t)=>{var r=$o(e,t);if(r!=null)return ZB(e,r.orientation,r.mirror)},r9=X([sr,$o,t9,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var o=r==null?void 0:r[n];return o==null?{x:0,y:e.top}:{x:o,y:e.top}}}),n9=X(sr,$o,(e,t)=>{var r=typeof t.width=="number"?t.width:Ac;return{width:r,height:e.height}}),_E=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:o,type:a,dataKey:i}=r,s=ka(e,n),c=t.map(u=>u.value);if(i&&s&&a==="category"&&o&&QC(c))return c}},zx=X([pt,Kp,Or,$t],_E),jE=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:o,scale:a}=r,i=ka(e,n);if(i&&(o==="number"||a!=="auto"))return t.map(s=>s.value)}},Lx=X([pt,Kp,Lc,$t],jE),hk=X([pt,fB,Bc,Ss,zx,Lx,Uc,Rx,$t],(e,t,r,n,o,a,i,s,c)=>{if(t!=null){var u=ka(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:o,isCategorical:u,niceTicks:s,range:i,realScaleType:r,scale:n}}}),o9=(e,t,r,n,o,a,i,s,c)=>{if(!(t==null||n==null)){var u=ka(e,c),{type:d,ticks:f,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&a!=null&&a.length>=2?pn(a[0]-a[1])*2*v:v;var g=f||o;if(g){var y=g.map((x,b)=>{var w=i?i.indexOf(x):x;return{index:b,coordinate:n(w)+v,value:x,offset:v}});return y.filter(x=>Qt(x.coordinate))}return u&&s?s.map((x,b)=>({coordinate:n(x)+v,value:x,index:b,offset:v})).filter(x=>Qt(x.coordinate)):n.ticks?n.ticks(p).map(x=>({coordinate:n(x)+v,value:x,offset:v})):n.domain().map((x,b)=>({coordinate:n(x)+v,value:i?i[x]:x,index:b,offset:v}))}},SE=X([pt,Lc,Bc,Ss,Rx,Uc,zx,Lx,$t],o9),a9=(e,t,r,n,o,a,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=ka(e,i),{tickCount:c}=t,u=0;return u=i==="angleAxis"&&(n==null?void 0:n.length)>=2?pn(n[0]-n[1])*2*u:u,s&&a?a.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:o?o[d]:d,index:f,offset:u}))}},CE=X([pt,Lc,Ss,Uc,zx,Lx,$t],a9),NE=X(Or,Ss,(e,t)=>{if(!(e==null||t==null))return kf(kf({},e),{},{scale:t})}),i9=X([Or,Bc,Ix,bE],Tx);X((e,t,r)=>Ox(e,r),i9,(e,t)=>{if(!(e==null||t==null))return kf(kf({},e),{},{scale:t})});var s9=X([pt,_p,jp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),PE=e=>e.options.defaultTooltipEventType,EE=e=>e.options.validateTooltipEventTypes;function OE(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function $x(e,t){var r=PE(e),n=EE(e);return OE(t,r,n)}function l9(e){return Ee(t=>$x(t,e))}var AE=(e,t)=>{var r,n=Number(t);if(!(to(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},c9=e=>e.tooltip.settings,ta={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},u9={itemInteraction:{click:ta,hover:ta},axisInteraction:{click:ta,hover:ta},keyboardInteraction:ta,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DE=Wr({name:"tooltip",initialState:u9,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:vt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).tooltipItemPayloads.indexOf(r);o>-1&&(e.tooltipItemPayloads[o]=n)},prepare:vt()},removeTooltipEntrySettings:{reducer(e,t){var r=Rn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:vt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:d9,replaceTooltipEntrySettings:f9,removeTooltipEntrySettings:p9,setTooltipSettingsState:m9,setActiveMouseOverItemIndex:h9,mouseLeaveItem:ZV,mouseLeaveChart:ME,setActiveClickItemIndex:JV,setMouseOverAxisIndex:IE,setMouseClickAxisIndex:v9,setSyncInteraction:eg,setKeyboardInteraction:tg}=DE.actions,g9=DE.reducer;function vk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(r),!0).forEach(function(n){y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w9(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function k9(e){return e.index!=null}var TE=(e,t,r,n)=>{if(t==null)return ta;var o=w9(e,t,r);if(o==null)return ta;if(o.active)return o;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(k9(o)){if(a)return $u($u({},o),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return $u($u({},ta),{},{coordinate:o.coordinate})};function _9(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function j9(e,t){var r=_9(e),n=t[0],o=t[1];if(r===void 0)return!1;var a=Math.min(n,o),i=Math.max(n,o);return r>=a&&r<=i}function S9(e,t,r){if(r==null||t==null)return!0;var n=hr(e,t);return n==null||!ya(r)?!0:j9(n,r)}var Fx=(e,t,r,n)=>{var o=e==null?void 0:e.index;if(o==null)return null;var a=Number(o);if(!Qt(a))return o;var i=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(i,Math.min(a,s)),u=t[c];return u==null||S9(u,r,n)?String(c):null},RE=(e,t,r,n,o,a,i,s)=>{if(!(a==null||s==null)){var c=i[0],u=c==null?void 0:s(c.positions,a);if(u!=null)return u;var d=o==null?void 0:o[Number(a)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},zE=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var o;return r==="hover"?o=e.itemInteraction.hover.dataKey:o=e.itemInteraction.click.dataKey,o==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var i;return((i=a.settings)===null||i===void 0?void 0:i.dataKey)===o})},qc=e=>e.options.tooltipPayloadSearcher,Cs=e=>e.tooltip;function gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function yk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=N9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N9(e){var t=P9(e,"string");return typeof t=="symbol"?t:t+""}function P9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e,t){return e??t}var LE=(e,t,r,n,o,a,i)=>{if(!(t==null||a==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((p,m)=>{var v,{dataDefinedOnItem:g,settings:y}=m,x=E9(g,s),b=Array.isArray(x)?aN(x,u,d):x,w=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,k=y==null?void 0:y.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?S=ZC(b,n,o):S=a(b,t,c,k),Array.isArray(S))S.forEach(N=>{var C=yk(yk({},y),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});p.push(Gw({tooltipEntrySettings:C,dataKey:N.dataKey,payload:N.payload,value:hr(N.payload,N.dataKey),name:N.name}))});else{var _;p.push(Gw({tooltipEntrySettings:y,dataKey:w,payload:S,value:hr(S,w),name:(_=hr(S,k))!==null&&_!==void 0?_:y==null?void 0:y.name}))}return p},f)}},Bx=X([Bt,pt,VP,_x,Ft],vE),O9=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),A9=X([Ft,_s],YP),Wc=X([O9,Bt,A9],XP,{memoizeOptions:{resultEqualityCheck:Wp}}),D9=X([Wc],e=>e.filter(Ex)),M9=X([Wc],JP,{memoizeOptions:{resultEqualityCheck:Wp}}),Ns=X([M9,Sa],eE),I9=X([D9,Sa,Bt],WP),Ux=X([Ns,Bt,Wc],tE),$E=X([Bt],Dx),T9=X([Bt],e=>e.allowDataOverflow),FE=X([$E,T9],kP),R9=X([Wc],e=>e.filter(Ex)),z9=X([I9,R9,$p,RP],nE),L9=X([z9,Sa,Ft,FE],oE),$9=X([Wc],ZP),F9=X([Ns,Bt,$9,Mx,Ft],sE,{memoizeOptions:{resultEqualityCheck:qp}}),B9=X([lE,Ft,_s],js),U9=X([B9,Ft],dE),q9=X([cE,Ft,_s],js),W9=X([q9,Ft],fE),K9=X([uE,Ft,_s],js),H9=X([K9,Ft],pE),V9=X([U9,H9,W9],_f),Y9=X([Bt,$E,FE,L9,F9,V9,pt,Ft],mE),Kc=X([Bt,pt,Ns,Ux,$p,Ft,Y9],hE),G9=X([Kc,Bt,Bx],gE),X9=X([Bt,Kc,G9,Ft],yE),BE=e=>{var t=Ft(e),r=_s(e),n=!1;return Uc(e,t,r,n)},UE=X([Bt,BE],Fp),qE=X([Bt,Bx,X9,UE],Tx),Q9=X([pt,Ux,Bt,Ft],_E),Z9=X([pt,Ux,Bt,Ft],jE),J9=(e,t,r,n,o,a,i,s)=>{if(t){var{type:c}=t,u=ka(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&o!=null&&(o==null?void 0:o.length)>=2?pn(o[0]-o[1])*2*f:f,u&&i?i.map((p,m)=>({coordinate:n(p)+f,value:p,index:m,offset:f})):n.domain().map((p,m)=>({coordinate:n(p)+f,value:a?a[p]:p,index:m,offset:f}))}}},Fo=X([pt,Bt,Bx,qE,BE,Q9,Z9,Ft],J9),qx=X([PE,EE,c9],(e,t,r)=>OE(r.shared,e,t)),WE=e=>e.tooltip.settings.trigger,Wx=e=>e.tooltip.settings.defaultIndex,Hc=X([Cs,qx,WE,Wx],TE),fc=X([Hc,Ns,Fc,Kc],Fx),KE=X([Fo,fc],AE),e7=X([Hc],e=>{if(e)return e.dataKey});X([Hc],e=>{if(e)return e.graphicalItemId});var HE=X([Cs,qx,WE,Wx],zE),t7=X([To,Ro,pt,sr,Fo,Wx,HE,qc],RE),r7=X([Hc,t7],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),n7=X([Hc],e=>e.active),o7=X([HE,fc,Sa,Fc,KE,qc,qx],LE),a7=X([o7],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function xk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function bk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(r),!0).forEach(function(n){i7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i7(e,t,r){return(t=s7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s7(e){var t=l7(e,"string");return typeof t=="symbol"?t:t+""}function l7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c7=()=>Ee(Bt),u7=()=>{var e=c7(),t=Ee(Fo),r=Ee(qE);return tf(!e||!r?void 0:bk(bk({},e),{},{scale:r}),t)};function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=p7(e,"string");return typeof t=="symbol"?t:t+""}function p7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m7=(e,t,r,n)=>{var o=t.find(a=>a&&a.index===r);if(o){if(e==="horizontal")return{x:o.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:o.coordinate}}return{x:0,y:0}},h7=(e,t,r,n)=>{var o=t.find(u=>u&&u.index===r);if(o){if(e==="centric"){var a=o.coordinate,{radius:i}=n;return ji(ji(ji({},n),or(n.cx,n.cy,i,a)),{},{angle:a,radius:i})}var s=o.coordinate,{angle:c}=n;return ji(ji(ji({},n),or(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function v7(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var VE=(e,t,r,n,o)=>{var a,i=-1,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&o!=null&&Math.abs(Math.abs(o[1]-o[0])-360)<=1e-6)for(var c=0;c<s;c++){var u=c>0?r[c-1].coordinate:r[s-1].coordinate,d=r[c].coordinate,f=c>=s-1?r[0].coordinate:r[c+1].coordinate,p=void 0;if(pn(d-u)!==pn(f-d)){var m=[];if(pn(f-d)===pn(o[1]-o[0])){p=f;var v=d+o[1]-o[0];m[0]=Math.min(v,(v+u)/2),m[1]=Math.max(v,(v+u)/2)}else{p=u;var g=f+o[1]-o[0];m[0]=Math.min(d,(g+d)/2),m[1]=Math.max(d,(g+d)/2)}var y=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){({index:i}=r[c]);break}}else{var x=Math.min(u,f),b=Math.max(u,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:i}=r[c]);break}}}else if(t){for(var w=0;w<s;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===s-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:i}=t[w]);break}}return i},g7=()=>Ee(_x),Kx=(e,t)=>t,YE=(e,t,r)=>r,Hx=(e,t,r,n)=>n,y7=X(Fo,e=>mp(e,t=>t.coordinate)),Vx=X([Cs,Kx,YE,Hx],TE),Yx=X([Vx,Ns,Fc,Kc],Fx),x7=(e,t,r)=>{if(t!=null){var n=Cs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},GE=X([Cs,Kx,YE,Hx],zE),jf=X([To,Ro,pt,sr,Fo,Hx,GE,qc],RE),b7=X([Vx,jf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),XE=X([Fo,Yx],AE),w7=X([GE,Yx,Sa,Fc,XE,qc,Kx],LE),k7=X([Vx,Yx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),_7=(e,t,r,n,o,a,i)=>{if(!(!e||!r||!n||!o)&&v7(e,i)){var s=aL(e,t),c=VE(s,a,o,r,n),u=m7(t,o,c,e);return{activeIndex:String(c),activeCoordinate:u}}},j7=(e,t,r,n,o,a,i)=>{if(!(!e||!n||!o||!a||!r)){var s=c$(e,r);if(s){var c=iL(s,t),u=VE(c,i,a,n,o),d=h7(t,a,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},S7=(e,t,r,n,o,a,i,s)=>{if(!(!e||!t||!n||!o||!a))return t==="horizontal"||t==="vertical"?_7(e,t,n,o,a,i,s):j7(e,t,r,n,o,a,i)},C7=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),N7=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(_r)),r=Array.from(new Set(t));return r.sort((n,o)=>n-o)},{memoizeOptions:{resultEqualityCheck:sB}});function kk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _k(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(r),!0).forEach(function(n){P7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P7(e,t,r){return(t=E7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A7={},D7={zIndexMap:Object.values(_r).reduce((e,t)=>_k(_k({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),A7)},M7=new Set(Object.values(_r));function I7(e){return M7.has(e)}var QE=Wr({name:"zIndex",initialState:D7,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!I7(r)&&delete e.zIndexMap[r])},prepare:vt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:o}=t.payload;e.zIndexMap[r]?o?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:o?void 0:n,panoramaElementId:o?n:void 0}},prepare:vt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:vt()}}}),{registerZIndexPortal:T7,unregisterZIndexPortal:R7,registerZIndexPortalId:z7,unregisterZIndexPortalId:L7}=QE.actions,$7=QE.reducer;function Bo(e){var{zIndex:t,children:r}=e,n=TL(),o=n&&t!==void 0&&t!==0,a=Kr(),i=Zt();h.useLayoutEffect(()=>o?(i(T7({zIndex:t})),()=>{i(R7({zIndex:t}))}):Nc,[i,t,o]);var s=Ee(u=>C7(u,t,a));if(!o)return r;if(!s)return null;var c=document.getElementById(s);return c?go.createPortal(r,c):null}function rg(){return rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rg.apply(null,arguments)}function jk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jk(Object(r),!0).forEach(function(n){F7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=U7(e,"string");return typeof t=="symbol"?t:t+""}function U7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q7(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return h.isValidElement(t)?h.cloneElement(t,n):h.createElement(r,n)}function W7(e){var t,{coordinate:r,payload:n,index:o,offset:a,tooltipAxisBandSize:i,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,p=n,m=o;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,g,y;if(d==="ScatterChart")v=f,g=_6,y=_r.cursorLine;else if(d==="BarChart")v=j6(s,f,a,i),g=IN,y=_r.cursorRectangle;else if(s==="radial"&&t2(f)){var{cx:x,cy:b,radius:w,startAngle:k,endAngle:S}=TN(f);v={cx:x,cy:b,startAngle:k,endAngle:S,innerRadius:w,outerRadius:w},g=zN,y=_r.cursorLine}else v={points:p$(s,f,a)},g=EN,y=_r.cursorLine;var _=typeof c=="object"&&"className"in c?c.className:void 0,N=Fu(Fu(Fu(Fu({stroke:"#ccc",pointerEvents:"none"},a),v),op(c)),{},{payload:p,payloadIndex:m,className:tt("recharts-tooltip-cursor",_)});return h.createElement(Bo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},h.createElement(q7,{cursor:c,cursorComp:g,cursorProps:N}))}function K7(e){var t=u7(),r=yN(),n=Pp(),o=g7();return t==null||r==null||n==null||o==null?null:h.createElement(W7,rg({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:o}))}var ZE=h.createContext(null),H7=()=>h.useContext(ZE),JE={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new o(d,f||c,p),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,p,m,v){var g=r?r+u:u;if(!this._events[g])return!1;var y=this._events[g],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,p),!0;case 5:return y.fn.call(y.context,d,f,p,m),!0;case 6:return y.fn.call(y.context,d,f,p,m,v),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var k=y.length,S;for(w=0;w<k;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,p);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];y[w].fn.apply(y[w].context,b)}}return!0},s.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return i(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!p||v.once)&&(!f||v.context===f)&&i(this,m);else{for(var g=0,y=[],x=v.length;g<x;g++)(v[g].fn!==d||p&&!v[g].once||f&&v[g].context!==f)&&y.push(v[g]);y.length?this._events[m]=y.length===1?y[0]:y:i(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(JE);var V7=JE.exports;const Y7=ao(V7);var pc=new Y7,ng="recharts.syncEvent.tooltip",Sk="recharts.syncEvent.brush";function G7(e,t){if(t){var r=Number.parseInt(t,10);if(!to(r))return e==null?void 0:e[r]}}var X7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},eO=Wr({name:"options",initialState:X7,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Q7=eO.reducer,{createEventEmitter:Z7}=eO.actions;function J7(e){return e.tooltip.syncInteraction}var eU={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},tO=Wr({name:"chartData",initialState:eU,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Ck,setDataStartEndIndexes:tU,setComputedData:eY}=tO.actions,rU=tO.reducer,nU=["x","y"];function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){oU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oU(e,t,r){return(t=aU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=iU(e,"string");return typeof t=="symbol"?t:t+""}function iU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sU(e,t){if(e==null)return{};var r,n,o=lU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function lU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cU(){var e=Ee(jx),t=Ee(Sx),r=Zt(),n=Ee(zP),o=Ee(Fo),a=Pp(),i=Np(),s=Ee(c=>c.rootProps.className);h.useEffect(()=>{if(e==null)return Nc;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var p;if(i&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:g}=m,y=sU(m,nU),{x,y:b,width:w,height:k}=d.payload.sourceViewBox,S=Si(Si({},y),{},{x:i.x+(w?(v-x)/w:0)*i.width,y:i.y+(k?(g-b)/k:0)*i.height});r(Si(Si({},d),{},{payload:Si(Si({},d.payload),{},{coordinate:S})}))}else r(d);return}if(o!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(o,N);_=o[C]}else n==="value"&&(_=o.find(K=>String(K.value)===d.payload.label));var{coordinate:z}=d.payload;if(_==null||d.payload.active===!1||z==null||i==null){r(eg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:M}=z,Y=Math.min(U,i.x+i.width),ae=Math.min(M,i.y+i.height),Q={x:a==="horizontal"?_.coordinate:Y,y:a==="horizontal"?ae:_.coordinate},F=eg({active:d.payload.active,coordinate:Q,dataKey:d.payload.dataKey,index:String(_.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(F)}}};return pc.on(ng,c),()=>{pc.off(ng,c)}},[s,r,t,e,n,o,a,i])}function uU(){var e=Ee(jx),t=Ee(Sx),r=Zt();h.useEffect(()=>{if(e==null)return Nc;var n=(o,a,i)=>{t!==i&&e===o&&r(tU(a))};return pc.on(Sk,n),()=>{pc.off(Sk,n)}},[r,t,e])}function dU(){var e=Zt();h.useEffect(()=>{e(Z7())},[e]),cU(),uU()}function fU(e,t,r,n,o,a){var i=Ee(m=>x7(m,e,t)),s=Ee(Sx),c=Ee(jx),u=Ee(zP),d=Ee(J7),f=d==null?void 0:d.active,p=Np();h.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=eg({active:a,coordinate:r,dataKey:i,index:o,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});pc.emit(ng,c,m,s)}},[f,r,i,o,n,s,c,u,a,p])}function Pk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ek(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(r),!0).forEach(function(n){pU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=hU(e,"string");return typeof t=="symbol"?t:t+""}function hU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vU(e){return e.dataKey}function gU(e,t){return h.isValidElement(e)?h.cloneElement(e,t):typeof e=="function"?h.createElement(e,t):h.createElement(r6,t)}var Ok=[],yU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xU(e){var t,r,n=qr(e,yU),{active:o,allowEscapeViewBox:a,animationDuration:i,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:v,useTranslate3d:g,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:k,portal:S,axisId:_}=n,N=Zt(),C=typeof k=="number"?String(k):k;h.useEffect(()=>{N(m9({shared:b,trigger:w,axisId:_,active:o,defaultIndex:C}))},[N,b,w,_,o,C]);var z=Np(),U=PN(),M=l9(b),{activeIndex:Y,isActive:ae}=(t=Ee(B=>k7(B,M,w,C)))!==null&&t!==void 0?t:{},Q=Ee(B=>w7(B,M,w,C)),F=Ee(B=>XE(B,M,w,C)),K=Ee(B=>b7(B,M,w,C)),V=Q,T=H7(),W=(r=o??ae)!==null&&r!==void 0?r:!1,[se,ge]=H5([V,W]),ee=M==="axis"?F:void 0;fU(M,w,K,ee,Y,W);var te=S??T;if(te==null||z==null||M==null)return null;var J=V??Ok;W||(J=Ok),u&&J.length&&(J=u5(J.filter(B=>B.value!=null&&(B.hide!==!0||n.includeHidden)),p,vU));var ye=J.length>0,P=h.createElement(c6,{allowEscapeViewBox:a,animationDuration:i,animationEasing:s,isAnimationActive:d,active:W,coordinate:K,hasPayload:ye,offset:f,position:m,reverseDirection:v,useTranslate3d:g,viewBox:z,wrapperStyle:y,lastBoundingBox:se,innerRef:ge,hasPortalFromProps:!!S},gU(c,Ek(Ek({},n),{},{payload:J,label:ee,active:W,activeIndex:Y,coordinate:K,accessibilityLayer:U})));return h.createElement(h.Fragment,null,go.createPortal(P,te),W&&h.createElement(K7,{cursor:x,tooltipEventType:M,coordinate:K,payload:J,index:Y}))}function bU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=kU(e,"string");return typeof t=="symbol"?t:t+""}function kU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _U{constructor(t){bU(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Ak(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function jU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(r),!0).forEach(function(n){SU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SU(e,t,r){return(t=CU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PU={cacheSize:2e3,enableCache:!0},rO=jU({},PU),Dk=new _U(rO.cacheSize),EU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mk="recharts_measurement_span";function OU(e,t){var r=t.fontSize||"",n=t.fontFamily||"",o=t.fontWeight||"",a=t.fontStyle||"",i=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(o,"|").concat(a,"|").concat(i,"|").concat(s)}var Ik=(e,t)=>{try{var r=document.getElementById(Mk);r||(r=document.createElement("span"),r.setAttribute("id",Mk),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,EU,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Al=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mc.isSsr)return{width:0,height:0};if(!rO.enableCache)return Ik(t,r);var n=OU(t,r),o=Dk.get(n);if(o)return o;var a=Ik(t,r);return Dk.set(n,a),a},Tk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,AU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MU=Object.keys(nO),Fi="NaN";function IU(e,t){return e*nO[t]}class Tr{static parse(t){var r,[,n,o]=(r=DU.exec(t))!==null&&r!==void 0?r:[];return new Tr(parseFloat(n),o??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,to(t)&&(this.unit=""),r!==""&&!AU.test(r)&&(this.num=NaN,this.unit=""),MU.includes(r)&&(this.num=IU(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Tr(NaN,""):new Tr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return to(this.num)}}function oO(e){if(e.includes(Fi))return Fi;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,o,a]=(r=Tk.exec(t))!==null&&r!==void 0?r:[],i=Tr.parse(n??""),s=Tr.parse(a??""),c=o==="*"?i.multiply(s):i.divide(s);if(c.isNaN())return Fi;t=t.replace(Tk,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=Rk.exec(t))!==null&&u!==void 0?u:[],m=Tr.parse(d??""),v=Tr.parse(p??""),g=f==="+"?m.add(v):m.subtract(v);if(g.isNaN())return Fi;t=t.replace(Rk,g.toString())}return t}var zk=/\(([^()]*)\)/;function TU(e){for(var t=e,r;(r=zk.exec(t))!=null;){var[,n]=r;t=t.replace(zk,oO(n))}return t}function RU(e){var t=e.replace(/\s+/g,"");return t=TU(t),t=oO(t),t}function zU(e){try{return RU(e)}catch{return Fi}}function ch(e){var t=zU(e.slice(5,-1));return t===Fi?"":t}var LU=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$U=["dx","dy","angle","className","breakAll"];function og(){return og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},og.apply(null,arguments)}function Lk(e,t){if(e==null)return{};var r,n,o=FU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function FU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aO=/[ \f\n\r\t\v\u2028\u2029]+/,iO=e=>{var{children:t,breakAll:r,style:n}=e;try{var o=[];Xt(t)||(r?o=t.toString().split(""):o=t.toString().split(aO));var a=o.map(s=>({word:s,width:Al(s,n).width})),i=r?0:Al("",n).width;return{wordsWithComputedWidth:a,spaceWidth:i}}catch{return null}};function BU(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var sO=(e,t,r,n)=>e.reduce((o,a)=>{var{word:i,width:s}=a,c=o[o.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(i),c.width+=s+r;else{var u={words:[i],width:s};o.push(u)}return o},[]),lO=e=>e.reduce((t,r)=>t.width>r.width?t:r),UU="",$k=(e,t,r,n,o,a,i,s)=>{var c=e.slice(0,t),u=iO({breakAll:r,style:n,children:c+UU});if(!u)return[!1,[]];var d=sO(u.wordsWithComputedWidth,a,i,s),f=d.length>o||lO(d).width>Number(a);return[f,d]},qU=(e,t,r,n,o)=>{var{maxLines:a,children:i,style:s,breakAll:c}=e,u=Pe(a),d=String(i),f=sO(t,n,r,o);if(!u||o)return f;var p=f.length>a||lO(f).width>Number(n);if(!p)return f;for(var m=0,v=d.length-1,g=0,y;m<=v&&g<=d.length-1;){var x=Math.floor((m+v)/2),b=x-1,[w,k]=$k(d,b,c,s,a,n,r,o),[S]=$k(d,x,c,s,a,n,r,o);if(!w&&!S&&(m=x+1),w&&S&&(v=x-1),!w&&S){y=k;break}g++}return y||f},Fk=e=>{var t=Xt(e)?[]:e.toString().split(aO);return[{words:t,width:void 0}]},WU=e=>{var{width:t,scaleToFit:r,children:n,style:o,breakAll:a,maxLines:i}=e;if((t||r)&&!Mc.isSsr){var s,c,u=iO({breakAll:a,children:n,style:o});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return Fk(n);return qU({breakAll:a,children:n,maxLines:i,style:o},s,c,t,!!r)}return Fk(n)},cO="#808080",KU={angle:0,breakAll:!1,capHeight:"0.71em",fill:cO,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Gx=h.forwardRef((e,t)=>{var r=qr(e,KU),{x:n,y:o,lineHeight:a,capHeight:i,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=Lk(r,LU),p=h.useMemo(()=>WU({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:v,angle:g,className:y,breakAll:x}=f,b=Lk(f,$U);if(!ro(n)||!ro(o)||p.length===0)return null;var w=Number(n)+(Pe(m)?m:0),k=Number(o)+(Pe(v)?v:0);if(!Qt(w)||!Qt(k))return null;var S;switch(d){case"start":S=ch("calc(".concat(i,")"));break;case"middle":S=ch("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:S=ch("calc(".concat(p.length-1," * -").concat(a,")"));break}var _=[];if(c){var N=p[0].width,{width:C}=f;_.push("scale(".concat(Pe(C)&&Pe(N)?C/N:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(w,", ").concat(k,")")),_.length&&(b.transform=_.join(" ")),h.createElement("text",og({},Sr(b),{ref:t,x:w,y:k,className:tt("recharts-text",y),textAnchor:u,fill:s.includes("url")?cO:s}),p.map((z,U)=>{var M=z.words.join(x?"":" ");return h.createElement("tspan",{x:w,dy:U===0?S:a,key:"".concat(M,"-").concat(U)},M)}))});Gx.displayName="Text";var HU=["labelRef"];function VU(e,t){if(e==null)return{};var r,n,o=YU(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function YU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(r),!0).forEach(function(n){GU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GU(e,t,r){return(t=XU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}var uO=h.createContext(null),ZU=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:o,width:a,height:i,children:s}=e,c=h.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:o,width:a,height:i}),[t,r,n,o,a,i]);return h.createElement(uO.Provider,{value:c},s)},dO=()=>{var e=h.useContext(uO),t=Np();return e||gN(t)},JU=h.createContext(null),eq=()=>{var e=h.useContext(JU),t=Ee(UP);return e||t},tq=e=>{var{value:t,formatter:r}=e,n=Xt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Xx=e=>e!=null&&typeof e=="function",rq=(e,t)=>{var r=pn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nq=(e,t,r,n,o)=>{var{offset:a,className:i}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=o,v=(u+d)/2,g=rq(f,p),y=g>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=p-y*a,b=!m;break;case"end":x=p+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=g<=0?b:!b;var w=or(s,c,v,x),k=or(s,c,v,x+(b?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),_=Xt(e.id)?Jl("recharts-radial-line-"):e.id;return h.createElement("text",mo({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",i)}),h.createElement("defs",null,h.createElement("path",{id:_,d:S})),h.createElement("textPath",{xlinkHref:"#".concat(_)},r))},oq=(e,t,r)=>{var{cx:n,cy:o,innerRadius:a,outerRadius:i,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=or(n,o,i+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:o,textAnchor:"middle",verticalAnchor:"end"};var p=(a+i)/2,{x:m,y:v}=or(n,o,p,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},ag=e=>"cx"in e&&Pe(e.cx),aq=(e,t)=>{var{parentViewBox:r,offset:n,position:o}=e,a;r!=null&&!ag(r)&&(a=r);var{x:i,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=i,p=i+(c-u)/2,m=(f+p)/2,v=(c+u)/2,g=f+c/2,y=d>=0?1:-1,x=y*n,b=y>0?"end":"start",w=y>0?"start":"end",k=c>=0?1:-1,S=k*n,_=k>0?"end":"start",N=k>0?"start":"end";if(o==="top"){var C={x:f+c/2,y:s-x,textAnchor:"middle",verticalAnchor:b};return Ct(Ct({},C),a?{height:Math.max(s-a.y,0),width:c}:{})}if(o==="bottom"){var z={x:p+u/2,y:s+d+x,textAnchor:"middle",verticalAnchor:w};return Ct(Ct({},z),a?{height:Math.max(a.y+a.height-(s+d),0),width:u}:{})}if(o==="left"){var U={x:m-S,y:s+d/2,textAnchor:_,verticalAnchor:"middle"};return Ct(Ct({},U),a?{width:Math.max(U.x-a.x,0),height:d}:{})}if(o==="right"){var M={x:m+v+S,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Ct(Ct({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:d}:{})}var Y=a?{width:v,height:d}:{};return o==="insideLeft"?Ct({x:m+S,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},Y):o==="insideRight"?Ct({x:m+v-S,y:s+d/2,textAnchor:_,verticalAnchor:"middle"},Y):o==="insideTop"?Ct({x:f+c/2,y:s+x,textAnchor:"middle",verticalAnchor:w},Y):o==="insideBottom"?Ct({x:p+u/2,y:s+d-x,textAnchor:"middle",verticalAnchor:b},Y):o==="insideTopLeft"?Ct({x:f+S,y:s+x,textAnchor:N,verticalAnchor:w},Y):o==="insideTopRight"?Ct({x:f+c-S,y:s+x,textAnchor:_,verticalAnchor:w},Y):o==="insideBottomLeft"?Ct({x:p+S,y:s+d-x,textAnchor:N,verticalAnchor:b},Y):o==="insideBottomRight"?Ct({x:p+u-S,y:s+d-x,textAnchor:_,verticalAnchor:b},Y):o&&typeof o=="object"&&(Pe(o.x)||Po(o.x))&&(Pe(o.y)||Po(o.y))?Ct({x:i+ga(o.x,v),y:s+ga(o.y,d),textAnchor:"end",verticalAnchor:"end"},Y):Ct({x:g,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},Y)},iq={angle:0,offset:5,zIndex:_r.label,position:"middle",textBreakAll:!1};function Qo(e){var t=qr(e,iq),{viewBox:r,position:n,value:o,children:a,content:i,className:s="",textBreakAll:c,labelRef:u}=t,d=eq(),f=dO(),p=n==="center"?f:d??f,m,v,g;if(r==null?m=p:ag(r)?m=r:m=gN(r),!m||Xt(o)&&Xt(a)&&!h.isValidElement(i)&&typeof i!="function")return null;var y=Ct(Ct({},t),{},{viewBox:m});if(h.isValidElement(i)){var{labelRef:x}=y,b=VU(y,HU);return h.cloneElement(i,b)}if(typeof i=="function"){if(v=h.createElement(i,y),h.isValidElement(v))return v}else v=tq(t);var w=Sr(t);if(ag(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return nq(t,n,v,w,m);g=oq(m,t.offset,t.position)}else g=aq(t,m);return h.createElement(Bo,{zIndex:t.zIndex},h.createElement(Gx,mo({ref:u,className:tt("recharts-label",s)},w,g,{textAnchor:BU(w.textAnchor)?w.textAnchor:g.textAnchor,breakAll:c}),v))}Qo.displayName="Label";var sq=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?h.createElement(Qo,mo({key:"label-implicit"},n)):ro(e)?h.createElement(Qo,mo({key:"label-implicit",value:e},n)):h.isValidElement(e)?e.type===Qo?h.cloneElement(e,Ct({key:"label-implicit"},n)):h.createElement(Qo,mo({key:"label-implicit",content:e},n)):Xx(e)?h.createElement(Qo,mo({key:"label-implicit",content:e},n)):e&&typeof e=="object"?h.createElement(Qo,mo({},e,{key:"label-implicit"},n)):null};function lq(e){var{label:t,labelRef:r}=e,n=dO();return sq(t,n,r)||null}var fO={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(pO);var mO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO,r=mO,n=fp;function o(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=o})(fO);var cq=fO.last;const uq=ao(cq);var dq=["valueAccessor"],fq=["dataKey","clockWise","id","textBreakAll","zIndex"];function Sf(){return Sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sf.apply(null,arguments)}function Uk(e,t){if(e==null)return{};var r,n,o=pq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mq=e=>Array.isArray(e.value)?uq(e.value):e.value,hO=h.createContext(void 0),hq=hO.Provider,vO=h.createContext(void 0);vO.Provider;function vq(){return h.useContext(hO)}function gq(){return h.useContext(vO)}function ad(e){var{valueAccessor:t=mq}=e,r=Uk(e,dq),{dataKey:n,clockWise:o,id:a,textBreakAll:i,zIndex:s}=r,c=Uk(r,fq),u=vq(),d=gq(),f=u||d;return!f||!f.length?null:h.createElement(Bo,{zIndex:s??_r.label},h.createElement(va,{className:"recharts-label-list"},f.map((p,m)=>{var v,g=Xt(n)?t(p,m):hr(p&&p.payload,n),y=Xt(a)?{}:{id:"".concat(a,"-").concat(m)};return h.createElement(Qo,Sf({key:"label-".concat(m)},Sr(p),c,y,{fill:(v=r.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:g,textBreakAll:i,viewBox:p.viewBox,index:m,zIndex:0}))})))}ad.displayName="LabelList";function yq(e){var{label:t}=e;return t?t===!0?h.createElement(ad,{key:"labelList-implicit"}):h.isValidElement(t)||Xx(t)?h.createElement(ad,{key:"labelList-implicit",content:t}):typeof t=="object"?h.createElement(ad,Sf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ig(){return ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ig.apply(null,arguments)}var gO=e=>{var{cx:t,cy:r,r:n,className:o}=e,a=tt("recharts-dot",o);return Pe(t)&&Pe(r)&&Pe(n)?h.createElement("circle",ig({},eo(e),Sy(e),{className:a,cx:t,cy:r,r:n})):null},xq={radiusAxis:{},angleAxis:{}},yO=Wr({name:"polarAxis",initialState:xq,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:tY,removeRadiusAxis:rY,addAngleAxis:nY,removeAngleAxis:oY}=yO.actions,bq=yO.reducer,xO=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,bO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var o;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((o=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&o.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(bO);var wq=bO.isPlainObject;const kq=ao(wq);function qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Wk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cf.apply(null,arguments)}var Kk=(e,t,r,n,o)=>{var a=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-a/2,",").concat(t+o),i+="L ".concat(e+r-a/2-n,",").concat(t+o),i+="L ".concat(e,",").concat(t," Z"),i},Cq={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Nq=e=>{var t=qr(e,Cq),{x:r,y:n,upperWidth:o,lowerWidth:a,height:i,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=h.useRef(null),[m,v]=h.useState(-1),g=h.useRef(o),y=h.useRef(a),x=h.useRef(i),b=h.useRef(r),w=h.useRef(n),k=Xy(e,"trapezoid-");if(h.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var Q=p.current.getTotalLength();Q&&v(Q)}catch{}},[]),r!==+r||n!==+n||o!==+o||a!==+a||i!==+i||o===0&&a===0||i===0)return null;var S=tt("recharts-trapezoid",s);if(!f)return h.createElement("g",null,h.createElement("path",Cf({},Sr(t),{className:S,d:Kk(r,n,o,a,i)})));var _=g.current,N=y.current,C=x.current,z=b.current,U=w.current,M="0px ".concat(m===-1?1:m,"px"),Y="".concat(m,"px 0px"),ae=ON(["strokeDasharray"],u,c);return h.createElement(Gy,{animationId:k,key:k,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},Q=>{var F=zr(_,o,Q),K=zr(N,a,Q),V=zr(C,i,Q),T=zr(z,r,Q),W=zr(U,n,Q);p.current&&(g.current=F,y.current=K,x.current=V,b.current=T,w.current=W);var se=Q>0?{transition:ae,strokeDasharray:Y}:{strokeDasharray:M};return h.createElement("path",Cf({},Sr(t),{className:S,d:Kk(T,W,F,K,V),ref:p,style:Wk(Wk({},se),t.style)}))})},Pq=["option","shapeType","propTransformer","activeClassName"];function Eq(e,t){if(e==null)return{};var r,n,o=Oq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Oq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Nf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hk(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Mq(e,"string");return typeof t=="symbol"?t:t+""}function Mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iq(e,t){return Nf(Nf({},t),e)}function Tq(e,t){return e==="symbols"}function Vk(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return h.createElement(IN,r);case"trapezoid":return h.createElement(Nq,r);case"sector":return h.createElement(zN,r);case"symbols":if(Tq(t))return h.createElement(e2,r);break;case"curve":return h.createElement(EN,r);default:return null}}function Rq(e){return h.isValidElement(e)?e.props:e}function zq(e){var{option:t,shapeType:r,propTransformer:n=Iq,activeClassName:o="recharts-active-shape"}=e,a=Eq(e,Pq),i;if(h.isValidElement(t))i=h.cloneElement(t,Nf(Nf({},a),Rq(t)));else if(typeof t=="function")i=t(a,a.index);else if(kq(t)&&typeof t!="boolean"){var s=n(t,a);i=h.createElement(Vk,{shapeType:r,elementProps:s})}else{var c=a;i=h.createElement(Vk,{shapeType:r,elementProps:c})}return a.isActive?h.createElement(va,{className:o},i):i}function Lq(e){var{tooltipEntrySettings:t}=e,r=Zt(),n=Kr(),o=h.useRef(null);return h.useLayoutEffect(()=>{n||(o.current===null?r(d9(t)):o.current!==t&&r(f9({prev:o.current,next:t})),o.current=t)},[t,r,n]),h.useLayoutEffect(()=>()=>{o.current&&(r(p9(o.current)),o.current=null)},[r]),null}function $q(e){var{legendPayload:t}=e,r=Zt(),n=Kr(),o=h.useRef(null);return h.useLayoutEffect(()=>{n||(o.current===null?r(YL(t)):o.current!==t&&r(GL({prev:o.current,next:t})),o.current=t)},[r,n,t]),h.useLayoutEffect(()=>()=>{o.current&&(r(XL(o.current)),o.current=null)},[r]),null}var uh,Fq=()=>{var[e]=h.useState(()=>Jl("uid-"));return e},Bq=(uh=rD.useId)!==null&&uh!==void 0?uh:Fq;function wO(e,t){var r=Bq();return t||(e?"".concat(e,"-").concat(r):r)}var Uq=h.createContext(void 0),qq=e=>{var{id:t,type:r,children:n}=e,o=wO("recharts-".concat(r),t);return h.createElement(Uq.Provider,{value:o},n(o))},Wq={cartesianItems:[],polarItems:[]},kO=Wr({name:"graphicalItems",initialState:Wq,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,o=Rn(e).cartesianItems.indexOf(r);o>-1&&(e.cartesianItems[o]=n)},prepare:vt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Rn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:vt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(e,t){var r=Rn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:vt()}}}),{addCartesianGraphicalItem:Kq,replaceCartesianGraphicalItem:Hq,removeCartesianGraphicalItem:Vq,addPolarGraphicalItem:aY,removePolarGraphicalItem:iY}=kO.actions,Yq=kO.reducer,Gq=e=>{var t=Zt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(Kq(e)):r.current!==e&&t(Hq({prev:r.current,next:e})),r.current=e},[t,e]),h.useLayoutEffect(()=>()=>{r.current&&(t(Vq(r.current)),r.current=null)},[t]),null},Xq=h.memo(Gq),Qq=["points"];function Yk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yk(Object(r),!0).forEach(function(n){Zq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(null,arguments)}function tW(e,t){if(e==null)return{};var r,n,o=rW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function rW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nW(e){var{option:t,dotProps:r,className:n}=e;if(h.isValidElement(t))return h.cloneElement(t,r);if(typeof t=="function")return t(r);var o=tt(n,typeof t!="boolean"?t.className:""),a=r??{},{points:i}=a,s=tW(a,Qq);return h.createElement(gO,Pf({},s,{className:o}))}function oW(e,t){return e==null?!1:t?!0:e.length===1}function aW(e){var{points:t,dot:r,className:n,dotClassName:o,dataKey:a,baseProps:i,needClip:s,clipPathId:c,zIndex:u=_r.scatter}=e;if(!oW(t,r))return null;var d=xO(r),f=nR(r),p=t.map((v,g)=>{var y,x,b=dh(dh(dh({r:3},i),f),{},{index:g,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(x=v.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return h.createElement(nW,{key:"dot-".concat(g),option:r,dotProps:b,className:o})}),m={};return s&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),h.createElement(Bo,{zIndex:u},h.createElement(va,Pf({className:n},m),p))}function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Xk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){iW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iW(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cW={xAxis:{},yAxis:{},zAxis:{}},_O=Wr({name:"cartesianAxis",initialState:cW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:vt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:vt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:vt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:vt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:vt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:vt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:vt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:vt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:vt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,o=e.yAxis[r];if(o){var a=o.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==o.width&&Math.abs(n-a[0])<=1)return;var i=[...a,n].slice(-3);e.yAxis[r]=Xk(Xk({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:uW,replaceXAxis:dW,removeXAxis:fW,addYAxis:pW,replaceYAxis:mW,removeYAxis:hW,addZAxis:sY,replaceZAxis:lY,removeZAxis:cY,updateYAxisWidth:vW}=_O.actions,gW=_O.reducer,yW=X([sr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),xW=X([yW,To,Ro],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Qx=()=>Ee(xW),bW=()=>Ee(a7);function Qk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jW=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:o,dataKey:a,clipPath:i}=e;if(o===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=fh(fh(fh({},s),op(o)),Sy(o)),u;return h.isValidElement(o)?u=h.cloneElement(o,c):typeof o=="function"?u=o(c):u=h.createElement(gO,c),h.createElement(va,{className:"recharts-active-dot",clipPath:i},u)};function SW(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:o,clipPath:a,zIndex:i=_r.activeDot}=e,s=Ee(fc),c=bW();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return Xt(u)?null:h.createElement(Bo,{zIndex:i},h.createElement(jW,{point:u,childIndex:Number(s),mainColor:r,dataKey:o,activeDot:n,clipPath:a}))}var CW={},jO=Wr({name:"errorBars",initialState:CW,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:o}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?o:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(o=>o.dataKey!==n.dataKey||o.direction!==n.direction))}}}),{addErrorBar:uY,replaceErrorBar:dY,removeErrorBar:fY}=jO.actions,NW=jO.reducer,PW=["children"];function EW(e,t){if(e==null)return{};var r,n,o=OW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function OW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AW={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DW=h.createContext(AW);function MW(e){var{children:t}=e,r=EW(e,PW);return h.createElement(DW.Provider,{value:r},t)}function SO(e,t){var r,n,o=Ee(u=>Lo(u,e)),a=Ee(u=>$o(u,t)),i=(r=o==null?void 0:o.allowDataOverflow)!==null&&r!==void 0?r:qt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Wt.allowDataOverflow,c=i||s;return{needClip:c,needClipX:i,needClipY:s}}function IW(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,o=Qx(),{needClipX:a,needClipY:i,needClip:s}=SO(t,r);if(!s||!o)return null;var{x:c,y:u,width:d,height:f}=o;return h.createElement("clipPath",{id:"clipPath-".concat(n)},h.createElement("rect",{x:a?c:c-d/2,y:i?u:u-f/2,width:a?d:d*2,height:i?f:f*2}))}var TW={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=h;function RW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zW=typeof Object.is=="function"?Object.is:RW,LW=Vc.useSyncExternalStore,$W=Vc.useRef,FW=Vc.useEffect,BW=Vc.useMemo,UW=Vc.useDebugValue;TW.useSyncExternalStoreWithSelector=function(e,t,r,n,o){var a=$W(null);if(a.current===null){var i={hasValue:!1,value:null};a.current=i}else i=a.current;a=BW(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),o!==void 0&&i.hasValue){var v=i.value;if(o(v,m))return f=v}return f=m}if(v=f,zW(d,m))return v;var g=n(m);return o!==void 0&&o(v,g)?(d=m,v):(d=m,f=g)}var u=!1,d,f,p=r===void 0?null:r;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,r,n,o]);var s=LW(e,a[0],a[1]);return FW(function(){i.hasValue=!0,i.value=s},[s]),UW(s),s};function qW(e){e()}function WW(){let e=null,t=null;return{clear(){e=null,t=null},notify(){qW(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const o=t={callback:r,next:null,prev:t};return o.prev?o.prev.next=o:e=o,function(){!n||e===null||(n=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:e=o.next)}}}}var Zk={notify(){},get:()=>[]};function KW(e,t){let r,n=Zk,o=0,a=!1;function i(g){d();const y=n.subscribe(g);let x=!1;return()=>{x||(x=!0,y(),f())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return a}function d(){o++,r||(r=e.subscribe(c),n=WW())}function f(){o--,r&&o===0&&(r(),r=void 0,n.clear(),n=Zk)}function p(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const v={addNestedSub:i,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return v}var HW=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VW=HW(),YW=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GW=YW(),XW=()=>VW||GW?h.useLayoutEffect:h.useEffect,QW=XW();function Jk(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ZW(e,t){if(Jk(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Jk(e[r[o]],t[r[o]]))return!1;return!0}var ph=Symbol.for("react-redux-context"),mh=typeof globalThis<"u"?globalThis:{};function JW(){if(!h.createContext)return{};const e=mh[ph]??(mh[ph]=new Map);let t=e.get(h.createContext);return t||(t=h.createContext(null),e.set(h.createContext,t)),t}var eK=JW();function tK(e){const{children:t,context:r,serverState:n,store:o}=e,a=h.useMemo(()=>{const c=KW(o);return{store:o,subscription:c,getServerState:n?()=>n:void 0}},[o,n]),i=h.useMemo(()=>o.getState(),[o]);QW(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),i!==o.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,i]);const s=r||eK;return h.createElement(s.Provider,{value:a},t)}var rK=tK,nK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function oK(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Zx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(nK.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ZW(e[n],t[n]))return!1}else if(!oK(e[n],t[n]))return!1;return!0}var aK=e=>{var{chartData:t}=e,r=Zt(),n=Kr();return h.useEffect(()=>n?()=>{}:(r(Ck(t)),()=>{r(Ck(void 0))}),[t,r,n]),null},e_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CO=Wr({name:"brush",initialState:e_,reducers:{setBrushSettings(e,t){return t.payload==null?e_:t.payload}}}),{setBrushSettings:pY}=CO.actions,iK=CO.reducer;function sK(e,t,r){return(t=lK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=cK(e,"string");return typeof t=="symbol"?t:t+""}function cK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jx{static create(t){return new Jx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],o=r[r.length-1];return n<=o?t>=n&&t<=o:t>=o&&t<=n}}sK(Jx,"EPS",1e-4);function uK(e){return(e%180+180)%180}var dK=function(t){var{width:r,height:n}=t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=uK(o),i=a*Math.PI/180,s=Math.atan(n/r),c=i>s&&i<Math.PI-s?n/Math.sin(i):r/Math.cos(i);return Math.abs(c)},fK={dots:[],areas:[],lines:[]},NO=Wr({name:"referenceElements",initialState:fK,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Rn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Rn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Rn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:mY,removeDot:hY,addArea:vY,removeArea:gY,addLine:yY,removeLine:xY}=NO.actions,pK=NO.reducer,mK=h.createContext(void 0),hK=e=>{var{children:t}=e,[r]=h.useState("".concat(Jl("recharts"),"-clip")),n=Qx();if(n==null)return null;var{x:o,y:a,width:i,height:s}=n;return h.createElement(mK.Provider,{value:r},h.createElement("defs",null,h.createElement("clipPath",{id:r},h.createElement("rect",{x:o,y:a,height:s,width:i}))),t)};function PO(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function vK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return dK(n,r)}function gK(e,t,r){var n=r==="width",{x:o,y:a,width:i,height:s}=e;return t===1?{start:n?o:a,end:n?o+i:a+s}:{start:n?o+i:a+s,end:n?o:a}}function Ef(e,t,r,n,o){if(e*t<e*n||e*t>e*o)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-o)<=0}function yK(e,t){return PO(e,t+1)}function xK(e,t,r,n,o){for(var a=(n||[]).slice(),{start:i,end:s}=t,c=0,u=1,d=i,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:PO(n,u)};var g=c,y,x=()=>(y===void 0&&(y=r(v,g)),y),b=v.coordinate,w=c===0||Ef(e,b,x,d,s);w||(c=0,d=i,u+=1),w&&(d=b+e*(x()/2+o),c+=u)},p;u<=a.length;)if(p=f(),p)return p.v;return[]}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){bK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=kK(e,"string");return typeof t=="symbol"?t:t+""}function kK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _K(e,t,r,n,o){for(var a=(n||[]).slice(),i=a.length,{start:s}=t,{end:c}=t,u=function(p){var m=a[p],v,g=()=>(v===void 0&&(v=r(m,p)),v);if(p===i-1){var y=e*(m.coordinate+e*g()/2-c);a[p]=m=fr(fr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[p]=m=fr(fr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Ef(e,m.tickCoord,g,s,c);x&&(c=m.tickCoord-e*(g()/2+o),a[p]=fr(fr({},m),{},{isShow:!0}))}},d=i-1;d>=0;d--)u(d);return a}function jK(e,t,r,n,o,a){var i=(n||[]).slice(),s=i.length,{start:c,end:u}=t;if(a){var d=n[s-1],f=r(d,s-1),p=e*(d.coordinate+e*f/2-u);if(i[s-1]=d=fr(fr({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Ef(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+o),i[s-1]=fr(fr({},d),{},{isShow:!0}))}}for(var v=a?s-1:s,g=function(b){var w=i[b],k,S=()=>(k===void 0&&(k=r(w,b)),k);if(b===0){var _=e*(w.coordinate-e*S()/2-c);i[b]=w=fr(fr({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else i[b]=w=fr(fr({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var N=Ef(e,w.tickCoord,S,c,u);N&&(c=w.tickCoord+e*(S()/2+o),i[b]=fr(fr({},w),{},{isShow:!0}))}},y=0;y<v;y++)g(y);return i}function e0(e,t,r){var{tick:n,ticks:o,viewBox:a,minTickGap:i,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!o||!o.length||!n)return[];if(Pe(c)||Mc.isSsr){var p;return(p=yK(o,Pe(c)?c:0))!==null&&p!==void 0?p:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",g=d&&v==="width"?Al(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,k)=>{var S=typeof u=="function"?u(w.value,k):w.value;return v==="width"?vK(Al(S,{fontSize:t,letterSpacing:r}),g,f):Al(S,{fontSize:t,letterSpacing:r})[v]},x=o.length>=2?pn(o[1].coordinate-o[0].coordinate):1,b=gK(a,x,v);return c==="equidistantPreserveStart"?xK(x,b,y,o,i):(c==="preserveStart"||c==="preserveStartEnd"?m=jK(x,b,y,o,i,c==="preserveStartEnd"):m=_K(x,b,y,o,i),m.filter(w=>w.isShow))}var SK=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:o=0,tickMargin:a=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=o+a,u=i+c+s+(r?n:0);return Math.round(u)}return 0},CK=["axisLine","width","height","className","hide","ticks","axisType"];function NK(e,t){if(e==null)return{};var r,n,o=PK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function PK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=OK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OK(e){var t=AK(e,"string");return typeof t=="symbol"?t:t+""}function AK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _o={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:_r.axis};function DK(e){var{x:t,y:r,width:n,height:o,orientation:a,mirror:i,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=Pt(Pt(Pt({},c),eo(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!i||a==="bottom"&&i);u=Pt(Pt({},u),{},{x1:t,y1:r+d*o,x2:t+n,y2:r+d*o})}else{var f=+(a==="left"&&!i||a==="right"&&i);u=Pt(Pt({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+o})}return h.createElement("line",ii({},u,{className:tt("recharts-cartesian-axis-line",dp(s,"className"))}))}function MK(e,t,r,n,o,a,i,s,c){var u,d,f,p,m,v,g=s?-1:1,y=e.tickSize||i,x=Pe(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,p=r+ +!s*o,f=p-g*y,v=f-g*c,m=x;break;case"left":f=p=e.coordinate,d=t+ +!s*n,u=d-g*y,m=u-g*c,v=x;break;case"right":f=p=e.coordinate,d=t+ +s*n,u=d+g*y,m=u+g*c,v=x;break;default:u=d=e.coordinate,p=r+ +s*o,f=p+g*y,v=f+g*c,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:v}}}function IK(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function TK(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function RK(e){var{option:t,tickProps:r,value:n}=e,o,a=tt(r.className,"recharts-cartesian-axis-tick-value");if(h.isValidElement(t))o=h.cloneElement(t,Pt(Pt({},r),{},{className:a}));else if(typeof t=="function")o=t(Pt(Pt({},r),{},{className:a}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=tt(i,t==null?void 0:t.className)),o=h.createElement(Gx,ii({},r,{className:i}),n)}return o}var zK=h.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:o,stroke:a,tickFormatter:i,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:v,height:g,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:k,events:S,axisType:_}=e,N=e0(Pt(Pt({},k),{},{ticks:r}),b,w),C=IK(d,f),z=TK(d,f),U=eo(k),M=op(n),Y={};typeof o=="object"&&(Y=o);var ae=Pt(Pt({},U),{},{fill:"none"},Y),Q=N.map(V=>Pt({entry:V},MK(V,p,m,v,g,d,y,f,x))),F=Q.map(V=>{var{entry:T,line:W}=V;return h.createElement(va,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},o&&h.createElement("line",ii({},ae,W,{className:tt("recharts-cartesian-axis-tick-line",dp(o,"className"))})))}),K=Q.map((V,T)=>{var{entry:W,tick:se}=V,ge=Pt(Pt(Pt(Pt({textAnchor:C,verticalAnchor:z},U),{},{stroke:"none",fill:a},M),se),{},{index:T,payload:W,visibleTicksCount:N.length,tickFormatter:i,padding:c},u);return h.createElement(va,ii({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},o5(S,W,T)),n&&h.createElement(RK,{option:n,tickProps:ge,value:"".concat(typeof i=="function"?i(W.value,T):W.value).concat(s||"")}))});return h.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},K.length>0&&h.createElement(Bo,{zIndex:_r.label},h.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},K)),F.length>0&&h.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},F))}),LK=h.forwardRef((e,t)=>{var{axisLine:r,width:n,height:o,className:a,hide:i,ticks:s,axisType:c}=e,u=NK(e,CK),[d,f]=h.useState(""),[p,m]=h.useState(""),v=h.useRef(null);h.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return SK({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=h.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),k=w.fontSize,S=w.letterSpacing;(k!==d||S!==p)&&(f(k),m(S))}}},[d,p]);return i||n!=null&&n<=0||o!=null&&o<=0?null:h.createElement(Bo,{zIndex:e.zIndex},h.createElement(va,{className:tt("recharts-cartesian-axis",a)},h.createElement(DK,{x:e.x,y:e.y,width:n,height:o,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:eo(e)}),h.createElement(zK,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),h.createElement(ZU,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},h.createElement(lq,{label:e.label,labelRef:e.labelRef}),e.children)))}),t0=h.forwardRef((e,t)=>{var r=qr(e,_o);return h.createElement(LK,ii({},r,{ref:t}))});t0.displayName="CartesianAxis";var $K=["x1","y1","x2","y2","key"],FK=["offset"],BK=["xAxisId","yAxisId"],UK=["xAxisId","yAxisId"];function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){qK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qK(e,t,r){return(t=WK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=KK(e,"string");return typeof t=="symbol"?t:t+""}function KK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}function Of(e,t){if(e==null)return{};var r,n,o=HK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function HK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VK=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:o,width:a,height:i,ry:s}=e;return h.createElement("rect",{x:n,y:o,ry:s,width:a,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function EO(e){var{option:t,lineItemProps:r}=e,n;if(h.isValidElement(t))n=h.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var o,{x1:a,y1:i,x2:s,y2:c,key:u}=r,d=Of(r,$K),f=(o=eo(d))!==null&&o!==void 0?o:{},{offset:p}=f,m=Of(f,FK);n=h.createElement("line",Wa({},m,{x1:a,y1:i,x2:s,y2:c,fill:"none",key:u}))}return n}function YK(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,s=Of(e,BK),c=o.map((u,d)=>{var f=mr(mr({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return h.createElement(EO,{key:"line-".concat(d),option:n,lineItemProps:f})});return h.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function GK(e){var{y:t,height:r,vertical:n=!0,verticalPoints:o}=e;if(!n||!o||!o.length)return null;var{xAxisId:a,yAxisId:i}=e,s=Of(e,UK),c=o.map((u,d)=>{var f=mr(mr({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return h.createElement(EO,{option:n,lineItemProps:f,key:"line-".concat(d)})});return h.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function XK(e){var{horizontalFill:t,fillOpacity:r,x:n,y:o,width:a,height:i,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],v=m?o+i-f:u[p+1]-f;if(v<=0)return null;var g=p%t.length;return h.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:v,width:a,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function QK(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:o,y:a,width:i,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+o-o)).sort((f,p)=>f-p);o!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],v=m?o+i-f:u[p+1]-f;if(v<=0)return null;var g=p%r.length;return h.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:v,height:s,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return h.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var ZK=(e,t)=>{var{xAxis:r,width:n,height:o,offset:a}=e;return iN(e0(mr(mr(mr({},_o),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:o}})),a.left,a.left+a.width,t)},JK=(e,t)=>{var{yAxis:r,width:n,height:o,offset:a}=e;return iN(e0(mr(mr(mr({},_o),r),{},{ticks:sN(r),viewBox:{x:0,y:0,width:n,height:o}})),a.top,a.top+a.height,t)},eH={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:_r.grid};function OO(e){var t=xN(),r=bN(),n=yN(),o=mr(mr({},qr(e,eH)),{},{x:Pe(e.x)?e.x:n.left,y:Pe(e.y)?e.y:n.top,width:Pe(e.width)?e.width:n.width,height:Pe(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:i,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=o,v=Kr(),g=Ee(z=>hk(z,"xAxis",a,v)),y=Ee(z=>hk(z,"yAxis",i,v));if(!no(u)||!no(d)||!Pe(s)||!Pe(c))return null;var x=o.verticalCoordinatesGenerator||ZK,b=o.horizontalCoordinatesGenerator||JK,{horizontalPoints:w,verticalPoints:k}=o;if((!w||!w.length)&&typeof b=="function"){var S=p&&p.length,_=b({yAxis:y?mr(mr({},y),{},{ticks:S?p:y.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);rf(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if((!k||!k.length)&&typeof x=="function"){var N=m&&m.length,C=x({xAxis:g?mr(mr({},g),{},{ticks:N?m:g.ticks}):void 0,width:t??u,height:r??d,offset:n},N?!0:f);rf(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}return h.createElement(Bo,{zIndex:o.zIndex},h.createElement("g",{className:"recharts-cartesian-grid"},h.createElement(VK,{fill:o.fill,fillOpacity:o.fillOpacity,x:o.x,y:o.y,width:o.width,height:o.height,ry:o.ry}),h.createElement(XK,Wa({},o,{horizontalPoints:w})),h.createElement(QK,Wa({},o,{verticalPoints:k})),h.createElement(YK,Wa({},o,{offset:n,horizontalPoints:w,xAxis:g,yAxis:y})),h.createElement(GK,Wa({},o,{offset:n,verticalPoints:k,xAxis:g,yAxis:y}))))}OO.displayName="CartesianGrid";var AO=(e,t,r,n)=>NE(e,"xAxis",t,n),DO=(e,t,r,n)=>CE(e,"xAxis",t,n),MO=(e,t,r,n)=>NE(e,"yAxis",r,n),IO=(e,t,r,n)=>CE(e,"yAxis",r,n),tH=X([pt,AO,MO,DO,IO],(e,t,r,n,o)=>ka(e,"xAxis")?tf(t,n,!1):tf(r,o,!1)),rH=(e,t,r,n,o)=>o;function nH(e){return e.type==="line"}var oH=X([GP,rH],(e,t)=>e.filter(nH).find(r=>r.id===t)),aH=X([pt,AO,MO,DO,IO,oH,tH,bx],(e,t,r,n,o,a,i,s)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=s;if(!(a==null||t==null||r==null||n==null||o==null||n.length===0||o.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=a,m;if(p!=null&&p.length>0?m=p:m=c==null?void 0:c.slice(u,d+1),m!=null)return CH({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:o,dataKey:f,bandSize:i,displayedData:m})}});function iH(e){var t=op(e),r=3,n=2;if(t!=null){var{r:o,strokeWidth:a}=t,i=Number(o),s=Number(a);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(s)||s<0)&&(s=n),{r:i,strokeWidth:s}}return{r,strokeWidth:n}}var sH=["id"],lH=["type","layout","connectNulls","needClip","shape"],cH=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mc(){return mc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mc.apply(null,arguments)}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){uH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uH(e,t,r){return(t=dH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=fH(e,"string");return typeof t=="symbol"?t:t+""}function fH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r0(e,t){if(e==null)return{};var r,n,o=pH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mH=e=>{var{dataKey:t,name:r,stroke:n,legendType:o,hide:a}=e;return[{inactive:a,dataKey:t,type:o,color:n,value:lN(r,t),payload:e}]},hH=h.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:o,fill:a,name:i,hide:s,unit:c,tooltipType:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:o,fill:a,dataKey:t,nameKey:void 0,name:lN(i,t),hide:s,type:u,color:n,unit:c}};return h.createElement(Lq,{tooltipEntrySettings:d})}),TO=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function vH(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],o=0;o<t;++o)n=[...n,...r];return n}var gH=(e,t,r)=>{var n=r.reduce((f,p)=>f+p);if(!n)return TO(t,e);for(var o=Math.floor(e/n),a=e%n,i=t-e,s=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>a){s=[...r.slice(0,c),a-u];break}var d=s.length%2===0?[0,i]:[i];return[...vH(r,o),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function yH(e){var{clipPathId:t,points:r,props:n}=e,{dot:o,dataKey:a,needClip:i}=n,{id:s}=n,c=r0(n,sH),u=eo(c);return h.createElement(aW,{points:r,dot:o,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:i,clipPathId:t})}function xH(e){var{showLabels:t,children:r,points:n}=e,o=h.useMemo(()=>n==null?void 0:n.map(a=>{var i,s,c={x:(i=a.x)!==null&&i!==void 0?i:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Vn(Vn({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[n]);return h.createElement(hq,{value:t?o:void 0},r)}function a_(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:o,props:a}=e,{type:i,layout:s,connectNulls:c,needClip:u,shape:d}=a,f=r0(a,lH),p=Vn(Vn({},Sr(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:s,connectNulls:c,strokeDasharray:o??a.strokeDasharray});return h.createElement(h.Fragment,null,(n==null?void 0:n.length)>1&&h.createElement(zq,mc({shapeType:"curve",option:d},p,{pathRef:r})),h.createElement(yH,{points:n,clipPathId:t,props:a}))}function bH(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function wH(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:o,longestAnimatedLengthRef:a}=e,{points:i,strokeDasharray:s,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:v,onAnimationEnd:g,onAnimationStart:y}=r,x=o.current,b=Xy(i,"recharts-line-"),w=h.useRef(b),[k,S]=h.useState(!1),_=!k,N=h.useCallback(()=>{typeof g=="function"&&g(),S(!1)},[g]),C=h.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]),z=bH(n.current),U=h.useRef(0);w.current!==b&&(U.current=a.current,w.current=b);var M=U.current;return h.createElement(xH,{points:i,showLabels:_},r.children,h.createElement(Gy,{animationId:b,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:N,onAnimationStart:C,key:b},Y=>{var ae=zr(M,z+M,Y),Q=Math.min(ae,z),F;if(c)if(s){var K="".concat(s).split(/[,\s]+/gim).map(W=>parseFloat(W));F=gH(Q,z,K)}else F=TO(z,Q);else F=s==null?void 0:String(s);if(Y>0&&z>0&&(o.current=i,a.current=Math.max(a.current,Q)),x){var V=x.length/i.length,T=Y===1?i:i.map((W,se)=>{var ge=Math.floor(se*V);if(x[ge]){var ee=x[ge];return Vn(Vn({},W),{},{x:zr(ee.x,W.x,Y),y:zr(ee.y,W.y,Y)})}return p?Vn(Vn({},W),{},{x:zr(m*2,W.x,Y),y:zr(v/2,W.y,Y)}):Vn(Vn({},W),{},{x:W.x,y:W.y})});return o.current=T,h.createElement(a_,{props:r,points:T,clipPathId:t,pathRef:n,strokeDasharray:F})}return h.createElement(a_,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:F})}),h.createElement(yq,{label:r.label}))}function kH(e){var{clipPathId:t,props:r}=e,n=h.useRef(null),o=h.useRef(0),a=h.useRef(null);return h.createElement(wH,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:o,pathRef:a})}var _H=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:hr(e.payload,t)}};class jH extends h.Component{render(){var{hide:t,dot:r,points:n,className:o,xAxisId:a,yAxisId:i,top:s,left:c,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var v=tt("recharts-line",o),g=f,{r:y,strokeWidth:x}=iH(r),b=xO(r),w=y*2+x,k=p?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return h.createElement(Bo,{zIndex:m},h.createElement(va,{className:v},p&&h.createElement("defs",null,h.createElement(IW,{clipPathId:g,xAxisId:a,yAxisId:i}),!b&&h.createElement("clipPath",{id:"clipPath-dots-".concat(g)},h.createElement("rect",{x:c-w/2,y:s-w/2,width:u+w,height:d+w}))),h.createElement(MW,{xAxisId:a,yAxisId:i,data:n,dataPointFormatter:_H,errorBarOffset:0},h.createElement(kH,{props:this.props,clipPathId:g}))),h.createElement(SW,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var RO={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:_r.line,type:"linear"};function SH(e){var t=qr(e,RO),{activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,connectNulls:s,dot:c,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:v,id:g}=t,y=r0(t,cH),{needClip:x}=SO(m,v),b=Qx(),w=Pp(),k=Kr(),S=Ee(U=>aH(U,m,v,k,g));if(w!=="horizontal"&&w!=="vertical"||S==null||b==null)return null;var{height:_,width:N,x:C,y:z}=b;return h.createElement(jH,mc({},y,{id:g,connectNulls:s,dot:c,activeDot:r,animateNewValues:n,animationBegin:o,animationDuration:a,animationEasing:i,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:v,points:S,layout:w,height:_,width:N,left:C,top:z,needClip:x}))}function CH(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:o,yAxisTicks:a,dataKey:i,bandSize:s,displayedData:c}=e;return c.map((u,d)=>{var f=hr(u,i);if(t==="horizontal"){var p=Hw({axis:r,ticks:o,bandSize:s,entry:u,index:d}),m=Xt(f)?null:n.scale(f);return{x:p,y:m,value:f,payload:u}}var v=Xt(f)?null:r.scale(f),g=Hw({axis:n,ticks:a,bandSize:s,entry:u,index:d});return v==null||g==null?null:{x:v,y:g,value:f,payload:u}}).filter(Boolean)}function NH(e){var t=qr(e,RO),r=Kr();return h.createElement(qq,{id:t.id,type:"line"},n=>h.createElement(h.Fragment,null,h.createElement($q,{legendPayload:mH(t)}),h.createElement(hH,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),h.createElement(Xq,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),h.createElement(SH,mc({},t,{id:n}))))}var zO=h.memo(NH,Zx);zO.displayName="Line";var PH=["domain","range"],EH=["domain","range"];function i_(e,t){if(e==null)return{};var r,n,o=OH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function OH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function s_(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function LO(e,t){if(e===t)return!0;var{domain:r,range:n}=e,o=i_(e,PH),{domain:a,range:i}=t,s=i_(t,EH);return!s_(r,a)||!s_(n,i)?!1:Zx(o,s)}var AH=["dangerouslySetInnerHTML","ticks"],DH=["id"];function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}function l_(e,t){if(e==null)return{};var r,n,o=MH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function MH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IH(e){var t=Zt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(uW(e)):r.current!==e&&t(dW({prev:r.current,next:e})),r.current=e},[e,t]),h.useLayoutEffect(()=>()=>{r.current&&(t(fW(r.current)),r.current=null)},[t]),null}var TH=e=>{var{xAxisId:t,className:r}=e,n=Ee(uN),o=Kr(),a="xAxis",i=Ee(y=>Ss(y,a,t,o)),s=Ee(y=>SE(y,a,t,o)),c=Ee(y=>YB(y,t)),u=Ee(y=>e9(y,t)),d=Ee(y=>KP(y,t));if(c==null||u==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p}=e,m=l_(e,AH),{id:v}=d,g=l_(d,DH);return h.createElement(t0,sg({},m,g,{scale:i,x:u.x,y:u.y,width:c.width,height:c.height,className:tt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},RH={allowDataOverflow:qt.allowDataOverflow,allowDecimals:qt.allowDecimals,allowDuplicatedCategory:qt.allowDuplicatedCategory,angle:qt.angle,axisLine:_o.axisLine,height:qt.height,hide:!1,includeHidden:qt.includeHidden,interval:qt.interval,minTickGap:qt.minTickGap,mirror:qt.mirror,orientation:qt.orientation,padding:qt.padding,reversed:qt.reversed,scale:qt.scale,tick:qt.tick,tickCount:qt.tickCount,tickLine:_o.tickLine,tickSize:_o.tickSize,type:qt.type,xAxisId:0},zH=e=>{var t=qr(e,RH);return h.createElement(h.Fragment,null,h.createElement(IH,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),h.createElement(TH,t))},$O=h.memo(zH,LO);$O.displayName="XAxis";var LH=["dangerouslySetInnerHTML","ticks"],$H=["id"];function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lg.apply(null,arguments)}function c_(e,t){if(e==null)return{};var r,n,o=FH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function FH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BH(e){var t=Zt(),r=h.useRef(null);return h.useLayoutEffect(()=>{r.current===null?t(pW(e)):r.current!==e&&t(mW({prev:r.current,next:e})),r.current=e},[e,t]),h.useLayoutEffect(()=>()=>{r.current&&(t(hW(r.current)),r.current=null)},[t]),null}var UH=e=>{var{yAxisId:t,className:r,width:n,label:o}=e,a=h.useRef(null),i=h.useRef(null),s=Ee(uN),c=Kr(),u=Zt(),d="yAxis",f=Ee(S=>Ss(S,d,t,c)),p=Ee(S=>n9(S,t)),m=Ee(S=>r9(S,t)),v=Ee(S=>SE(S,d,t,c)),g=Ee(S=>HP(S,t));if(h.useLayoutEffect(()=>{if(!(n!=="auto"||!p||Xx(o)||h.isValidElement(o)||g==null)){var S=a.current;if(S){var _=S.getCalculatedWidth();Math.round(p.width)!==Math.round(_)&&u(vW({id:t,width:_}))}}},[v,p,u,o,t,n,g]),p==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:y,ticks:x}=e,b=c_(e,LH),{id:w}=g,k=c_(g,$H);return h.createElement(t0,lg({},b,k,{ref:a,labelRef:i,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:tt("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:v,axisType:d}))},qH={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:_o.axisLine,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:_o.tickLine,tickSize:_o.tickSize,type:Wt.type,width:Wt.width,yAxisId:0},WH=e=>{var t=qr(e,qH);return h.createElement(h.Fragment,null,h.createElement(BH,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),h.createElement(UH,t))},FO=h.memo(WH,LO);FO.displayName="YAxis";var KH=(e,t)=>t,n0=X([KH,pt,UP,Ft,UE,Fo,y7,sr],S7),o0=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},BO=yn("mouseClick"),UO=Oc();UO.startListening({actionCreator:BO,effect:(e,t)=>{var r=e.payload,n=n0(t.getState(),o0(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(v9({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var cg=yn("mouseMove"),qO=Oc(),Bu=null;qO.startListening({actionCreator:cg,effect:(e,t)=>{var r=e.payload;Bu!==null&&cancelAnimationFrame(Bu);var n=o0(r);Bu=requestAnimationFrame(()=>{var o=t.getState(),a=$x(o,o.tooltip.settings.shared);if(a==="axis"){var i=n0(o,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(IE({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(ME())}Bu=null})}});var u_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},WO=Wr({name:"rootProps",initialState:u_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:u_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),HH=WO.reducer,{updateOptions:VH}=WO.actions,KO=Wr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bY}=KO.actions,YH=KO.reducer,HO=yn("keyDown"),VO=yn("focus"),a0=Oc();a0.startListening({actionCreator:HO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var i=Fx(o,Ns(r),Fc(r),Kc(r)),s=i==null?-1:Number(i);if(!(!Number.isFinite(s)||s<0)){var c=Fo(r);if(a==="Enter"){var u=jf(r,"axis","hover",String(o.index));t.dispatch(tg({active:!o.active,activeIndex:o.index,activeDataKey:o.dataKey,activeCoordinate:u}));return}var d=s9(r),f=d==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=s+p*f;if(!(c==null||m>=c.length||m<0)){var v=jf(r,"axis","hover",String(m));t.dispatch(tg({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}}});a0.startListening({actionCreator:VO,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:o}=r.tooltip;if(!o.active&&o.index==null){var a="0",i=jf(r,"axis","hover",String(a));t.dispatch(tg({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:i}))}}}});var ln=yn("externalEvent"),YO=Oc(),hh=new Map;YO.startListening({actionCreator:ln,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var o=n.type,a=hh.get(o);a!==void 0&&cancelAnimationFrame(a);var i=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:r7(s),activeDataKey:e7(s),activeIndex:fc(s),activeLabel:KE(s),activeTooltipIndex:fc(s),isTooltipActive:n7(s)};r(c,n)}finally{hh.delete(o)}});hh.set(o,i)}}});var GH=X([Cs],e=>e.tooltipItemPayloads),XH=X([GH,qc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var o=e.find(s=>s.settings.dataKey===n);if(o!=null){var{positions:a}=o;if(a!=null){var i=t(a,r);return i}}}),GO=yn("touchMove"),XO=Oc();XO.startListening({actionCreator:GO,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),o=$x(n,n.tooltip.settings.shared);if(o==="axis"){var a=n0(n,o0({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(IE({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(o==="item"){var i,s=r.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(s.clientX,s.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(lL),d=(i=c.getAttribute(cL))!==null&&i!==void 0?i:void 0,f=XH(t.getState(),u,d);t.dispatch(h9({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}}});var QH=A2({brush:iK,cartesianAxis:gW,chartData:rU,errorBars:NW,graphicalItems:Yq,layout:Hz,legend:QL,options:Q7,polarAxis:bq,polarOptions:YH,referenceElements:pK,rootProps:HH,tooltip:g9,zIndex:$7}),ZH=function(t){return gz({reducer:QH,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([UO.middleware,qO.middleware,a0.middleware,YO.middleware,XO.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(H2({type:"raf"}))},devTools:Mc.devToolsEnabled})};function JH(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,o=Kr(),a=h.useRef(null);if(o)return r;a.current==null&&(a.current=ZH(t));var i=Ty;return h.createElement(rK,{context:i,store:a.current},r)}function eV(e){var{layout:t,margin:r}=e,n=Zt(),o=Kr();return h.useEffect(()=>{o||(n(qz(t)),n(Uz(r)))},[n,o,t,r]),null}var tV=h.memo(eV,Zx);function rV(e){var t=Zt();return h.useEffect(()=>{t(VH(e))},[t,e]),null}function d_(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",o=wO("".concat(n).concat(t)),a=Zt();return h.useLayoutEffect(()=>(a(z7({zIndex:t,elementId:o,isPanorama:r})),()=>{a(L7({zIndex:t,isPanorama:r}))}),[a,t,o,r]),h.createElement("g",{tabIndex:-1,id:o})}function f_(e){var{children:t,isPanorama:r}=e,n=Ee(N7);if(!n||n.length===0)return t;var o=n.filter(i=>i<0),a=n.filter(i=>i>0);return h.createElement(h.Fragment,null,o.map(i=>h.createElement(d_,{key:i,zIndex:i,isPanorama:r})),t,a.map(i=>h.createElement(d_,{key:i,zIndex:i,isPanorama:r})))}var nV=["children"];function oV(e,t){if(e==null)return{};var r,n,o=aV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function aV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(null,arguments)}var iV={width:"100%",height:"100%",display:"block"},sV=h.forwardRef((e,t)=>{var r=xN(),n=bN(),o=PN();if(!no(r)||!no(n))return null;var{children:a,otherAttributes:i,title:s,desc:c}=e,u,d;return i!=null&&(typeof i.tabIndex=="number"?u=i.tabIndex:u=o?0:void 0,typeof i.role=="string"?d=i.role:d=o?"application":void 0),h.createElement(DC,Af({},i,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:iV,ref:t}),a)}),lV=e=>{var{children:t}=e,r=Ee(Cp);if(!r)return null;var{width:n,height:o,y:a,x:i}=r;return h.createElement(DC,{width:n,height:o,x:i,y:a},t)},p_=h.forwardRef((e,t)=>{var{children:r}=e,n=oV(e,nV),o=Kr();return o?h.createElement(lV,null,h.createElement(f_,{isPanorama:!0},r)):h.createElement(sV,Af({ref:t},n),h.createElement(f_,{isPanorama:!1},r))});function cV(){var e=Zt(),[t,r]=h.useState(null),n=Ee(sL);return h.useEffect(()=>{if(t!=null){var o=t.getBoundingClientRect(),a=o.width/t.offsetWidth;Qt(a)&&a!==n&&e(Kz(a))}},[t,e,n]),r}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function uV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){dV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dV(e,t,r){return(t=fV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fV(e){var t=pV(e,"string");return typeof t=="symbol"?t:t+""}function pV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}var mV=()=>(dU(),null);function Df(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hV=h.forwardRef((e,t)=>{var r,n,o=h.useRef(null),[a,i]=h.useState({containerWidth:Df((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Df((n=e.style)===null||n===void 0?void 0:n.height)}),s=h.useCallback((u,d)=>{i(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),c=h.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=v=>{var{width:g,height:y}=v[0].contentRect;s(g,y)},m=new ResizeObserver(p);m.observe(u),o.current=m}},[t,s]);return h.useEffect(()=>()=>{var u=o.current;u!=null&&u.disconnect()},[s]),h.createElement(h.Fragment,null,h.createElement(Ep,{width:a.containerWidth,height:a.containerHeight}),h.createElement("div",si({ref:c},e)))}),vV=h.forwardRef((e,t)=>{var{width:r,height:n}=e,[o,a]=h.useState({containerWidth:Df(r),containerHeight:Df(n)}),i=h.useCallback((c,u)=>{a(d=>{var f=Math.round(c),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=h.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();i(u,d)}},[t,i]);return h.createElement(h.Fragment,null,h.createElement(Ep,{width:o.containerWidth,height:o.containerHeight}),h.createElement("div",si({ref:s},e)))}),gV=h.forwardRef((e,t)=>{var{width:r,height:n}=e;return h.createElement(h.Fragment,null,h.createElement(Ep,{width:r,height:n}),h.createElement("div",si({ref:t},e)))}),yV=h.forwardRef((e,t)=>{var{width:r,height:n}=e;return Po(r)||Po(n)?h.createElement(vV,si({},e,{ref:t})):h.createElement(gV,si({},e,{ref:t}))});function xV(e){return e===!0?hV:yV}var bV=h.forwardRef((e,t)=>{var{children:r,className:n,height:o,onClick:a,onContextMenu:i,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:v,onTouchStart:g,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,k=h.useRef(null),S=Zt(),[_,N]=h.useState(null),[C,z]=h.useState(null),U=cV(),M=Hy(),Y=(M==null?void 0:M.width)>0?M.width:x,ae=(M==null?void 0:M.height)>0?M.height:o,Q=h.useCallback(A=>{U(A),typeof t=="function"&&t(A),N(A),z(A),A!=null&&(k.current=A)},[U,t,N,z]),F=h.useCallback(A=>{S(BO(A)),S(ln({handler:a,reactEvent:A}))},[S,a]),K=h.useCallback(A=>{S(cg(A)),S(ln({handler:u,reactEvent:A}))},[S,u]),V=h.useCallback(A=>{S(ME()),S(ln({handler:d,reactEvent:A}))},[S,d]),T=h.useCallback(A=>{S(cg(A)),S(ln({handler:f,reactEvent:A}))},[S,f]),W=h.useCallback(()=>{S(VO())},[S]),se=h.useCallback(A=>{S(HO(A.key))},[S]),ge=h.useCallback(A=>{S(ln({handler:i,reactEvent:A}))},[S,i]),ee=h.useCallback(A=>{S(ln({handler:s,reactEvent:A}))},[S,s]),te=h.useCallback(A=>{S(ln({handler:c,reactEvent:A}))},[S,c]),J=h.useCallback(A=>{S(ln({handler:p,reactEvent:A}))},[S,p]),ye=h.useCallback(A=>{S(ln({handler:g,reactEvent:A}))},[S,g]),P=h.useCallback(A=>{w&&S(GO(A)),S(ln({handler:v,reactEvent:A}))},[S,w,v]),B=h.useCallback(A=>{S(ln({handler:m,reactEvent:A}))},[S,m]),E=xV(b);return h.createElement(ZE.Provider,{value:_},h.createElement(uR.Provider,{value:C},h.createElement(E,{width:Y??(y==null?void 0:y.width),height:ae??(y==null?void 0:y.height),className:tt("recharts-wrapper",n),style:uV({position:"relative",cursor:"default",width:Y,height:ae},y),onClick:F,onContextMenu:ge,onDoubleClick:ee,onFocus:W,onKeyDown:se,onMouseDown:te,onMouseEnter:K,onMouseLeave:V,onMouseMove:T,onMouseUp:J,onTouchEnd:B,onTouchMove:P,onTouchStart:ye,ref:Q},h.createElement(mV,null),r)))}),wV=["width","height","responsive","children","className","style","compact","title","desc"];function kV(e,t){if(e==null)return{};var r,n,o=_V(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function _V(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jV=h.forwardRef((e,t)=>{var{width:r,height:n,responsive:o,children:a,className:i,style:s,compact:c,title:u,desc:d}=e,f=kV(e,wV),p=eo(f);return c?h.createElement(h.Fragment,null,h.createElement(Ep,{width:r,height:n}),h.createElement(p_,{otherAttributes:p,title:u,desc:d},a)):h.createElement(bV,{className:i,style:s,width:r,height:n,responsive:o??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},h.createElement(p_,{otherAttributes:p,title:u,desc:d,ref:t},h.createElement(hK,null,a)))});function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}var SV={top:5,right:5,bottom:5,left:5},CV={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:SV,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NV=h.forwardRef(function(t,r){var n,o=qr(t.categoricalChartProps,CV),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return h.createElement(JH,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},h.createElement(aK,{chartData:u.data}),h.createElement(tV,{layout:o.layout,margin:o.margin}),h.createElement(rV,{baseValue:o.baseValue,accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className,reverseStackOrder:o.reverseStackOrder}),h.createElement(jV,ug({},o,{ref:r})))}),PV=["axis"],EV=h.forwardRef((e,t)=>h.createElement(NV,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:PV,tooltipPayloadSearcher:G7,categoricalChartProps:e,ref:t}));const OV={light:"",dark:".dark"},QO=h.createContext(null);function ZO(){const e=h.useContext(QO);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const JO=h.forwardRef(({id:e,className:t,children:r,config:n,...o},a)=>{const i=h.useId(),s=`chart-${e||i.replace(/:/g,"")}`;return l.jsx(QO.Provider,{value:{config:n},children:l.jsxs("div",{"data-chart":s,ref:a,className:Yt("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...o,children:[l.jsx(AV,{id:s,config:n}),l.jsx(ML,{children:r})]})})});JO.displayName="Chart";const AV=({id:e,config:t})=>{const r=Object.entries(t).filter(([,n])=>n.theme||n.color);return r.length?l.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(OV).map(([n,o])=>`
${o} [data-chart=${e}] {
${r.map(([a,i])=>{var c;const s=((c=i.theme)==null?void 0:c[n])||i.color;return s?`  --color-${a}: ${s};`:null}).join(`
`)}
}
`).join(`
`)}}):null},DV=xU,MV=h.forwardRef(({active:e,payload:t,className:r,indicator:n="dot",hideLabel:o=!1,hideIndicator:a=!1,label:i,labelFormatter:s,labelClassName:c,formatter:u,color:d,nameKey:f,labelKey:p},m)=>{const{config:v}=ZO(),g=h.useMemo(()=>{var S;if(o||!(t!=null&&t.length))return null;const[x]=t,b=`${p||x.dataKey||x.name||"value"}`,w=v[b],k=!p&&typeof i=="string"?((S=v[i])==null?void 0:S.label)||i:w==null?void 0:w.label;return s?l.jsx("div",{className:Yt("font-medium",c),children:s(k,t)}):k?l.jsx("div",{className:Yt("font-medium",c),children:k}):null},[i,s,t,o,c,v,p]);if(!e||!(t!=null&&t.length))return null;const y=t.length===1&&n!=="dot";return l.jsxs("div",{ref:m,className:Yt("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[y?null:g,l.jsx("div",{className:"grid gap-1.5",children:t.map((x,b)=>{const w=`${f||x.name||x.dataKey||"value"}`,k=v[w],S=d||x.payload.fill||x.color;return l.jsx("div",{className:Yt("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,b,x.payload):l.jsxs(l.Fragment,{children:[k!=null&&k.icon?l.jsx(k.icon,{}):!a&&l.jsx("div",{className:Yt("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":y&&n==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),l.jsxs("div",{className:Yt("flex flex-1 justify-between leading-none",y?"items-end":"items-center"),children:[l.jsxs("div",{className:"grid gap-1.5",children:[y?g:null,l.jsx("span",{className:"text-muted-foreground",children:(k==null?void 0:k.label)||x.name})]}),x.value&&l.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});MV.displayName="ChartTooltip";const IV=h.forwardRef(({className:e,hideIcon:t=!1,payload:r,verticalAlign:n="bottom",nameKey:o},a)=>{const{config:i}=ZO();return r!=null&&r.length?l.jsx("div",{ref:a,className:Yt("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",e),children:r.map(s=>{const c=`${o||s.dataKey||"value"}`,u=i[c];return l.jsxs("div",{className:Yt("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!t?l.jsx(u.icon,{}):l.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:s.color}}),l.jsx("span",{className:"text-muted-foreground",children:u==null?void 0:u.label})]},s.value)})}):null});IV.displayName="ChartLegend";function TV({sales:e,saleItems:t}){const[r,n]=h.useState("day"),[o,a]=h.useState("sales"),[i,s]=h.useState([]),c=h.useCallback(p=>{switch(r){case"hour":{const m=new Date(p);m.setMinutes(0,0,0);const v=p.getHours().toString().padStart(2,"0"),g=p.toLocaleDateString("es-AR",{day:"numeric",month:"short"});return{key:`${v}:00|${g}`,sortDate:m}}case"day":{const m=new Date(p);return m.setHours(0,0,0,0),{key:p.toLocaleDateString("es-AR",{month:"short",day:"numeric"}),sortDate:m}}case"week":{const m=new Date(p);return m.setDate(p.getDate()-p.getDay()),m.setHours(0,0,0,0),{key:`Sem ${m.toLocaleDateString("es-AR",{month:"short",day:"numeric"})}`,sortDate:m}}case"month":{const m=new Date(p.getFullYear(),p.getMonth(),1);return{key:p.toLocaleDateString("es-AR",{year:"numeric",month:"short"}),sortDate:m}}case"year":{const m=new Date(p.getFullYear(),0,1);return{key:p.getFullYear().toString(),sortDate:m}}default:{const m=new Date(p);return m.setHours(0,0,0,0),{key:p.toLocaleDateString("es-AR",{month:"short",day:"numeric"}),sortDate:m}}}},[r]),u=h.useCallback(()=>{if(e.length===0){s([]);return}const p={};if(o==="sales")e.forEach(v=>{const g=new Date(v.completed_at),{key:y,sortDate:x}=c(g);p[y]||(p[y]={value:0,count:0,minDate:x}),p[y].value+=v.total_amount,p[y].count+=1,x<p[y].minDate&&(p[y].minDate=x)});else if(o==="products"){const v=new Map;e.forEach(y=>{v.set(y.id,new Date(y.completed_at))});const g=new Set;t.forEach(y=>{const x=v.get(y.sale_id);if(!x)return;if(y.combo_name){const k=y.combo_instance_id||y.id;if(g.has(k))return;g.add(k)}const{key:b,sortDate:w}=c(x);p[b]||(p[b]={value:0,count:0,minDate:w}),p[b].value+=y.quantity,p[b].count+=y.quantity,w<p[b].minDate&&(p[b].minDate=w)})}else o==="delivery"&&(e.filter(g=>g.order_type==="delivery"&&g.scheduled_time&&g.delivered_at).forEach(g=>{const y=new Date(g.completed_at),{key:x,sortDate:b}=c(y),w=new Date(g.scheduled_time).getTime(),S=(new Date(g.delivered_at).getTime()-w)/(1e3*60);p[x]||(p[x]={value:0,count:0,minDate:b}),p[x].value+=S,p[x].count+=1,b<p[x].minDate&&(p[x].minDate=b)}),Object.keys(p).forEach(g=>{p[g].count>0&&(p[g].value=Math.round(p[g].value/p[g].count))}));const m=Object.entries(p).map(([v,{value:g,count:y,minDate:x}])=>({label:v,value:g,count:y,minDate:x})).sort((v,g)=>v.minDate.getTime()-g.minDate.getTime());s(m)},[o,c,t,e]),d=[{value:"hour",label:"H"},{value:"day",label:"D"},{value:"week",label:"S"},{value:"month",label:"M"},{value:"year",label:"A"}],f={value:{label:o==="sales"?"Ventas":o==="products"?"Productos":"Entregas",color:"var(--color-primary)"}};return h.useEffect(()=>{u()},[e,t,r,o,u]),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-6 flex-wrap gap-4",children:[l.jsxs("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:["Grfico de"," ",o==="sales"?"Ventas":o==="products"?"Productos":"Tiempos de Entrega"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex gap-1 p-1 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsx("button",{onClick:()=>a("sales"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="sales"?"text-white":""}`,style:o==="sales"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Ventas"}),l.jsx("button",{onClick:()=>a("products"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="products"?"text-white":""}`,style:o==="products"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Productos"}),l.jsx("button",{onClick:()=>a("delivery"),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${o==="delivery"?"text-white":""}`,style:o==="delivery"?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:"Entregas"})]}),l.jsx("div",{className:"flex gap-1 p-1 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:d.map(p=>l.jsx("button",{onClick:()=>n(p.value),className:`px-3 py-1 rounded font-semibold text-sm transition-all ${r===p.value?"text-white":""}`,style:r===p.value?{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"}:{color:"var(--color-text)"},children:p.label},p.value))})]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-400 py-12",children:"No hay datos de ventas para este perodo"}):l.jsxs("div",{className:"relative",children:[l.jsx(JO,{config:f,className:"h-[300px] w-full",children:l.jsxs(EV,{data:i,children:[l.jsx(OO,{strokeDasharray:"3 3",stroke:"var(--color-primary)",opacity:.1,vertical:!1}),l.jsx($O,{dataKey:"label",stroke:"var(--color-text)",opacity:.5,fontSize:12,tickLine:!1,axisLine:!1,tick:({x:p,y:m,payload:v})=>{if(r==="hour"&&v.value.includes("|")){const[g,y]=v.value.split("|");return l.jsxs("g",{transform:`translate(${p},${m})`,children:[l.jsx("text",{x:0,y:0,dy:12,textAnchor:"middle",fill:"var(--color-text)",opacity:.7,fontSize:12,fontWeight:600,children:g}),l.jsx("text",{x:0,y:0,dy:26,textAnchor:"middle",fill:"var(--color-text)",opacity:.4,fontSize:10,children:y})]})}return l.jsx("g",{transform:`translate(${p},${m})`,children:l.jsx("text",{x:0,y:0,dy:12,textAnchor:"middle",fill:"var(--color-text)",opacity:.5,fontSize:12,children:v.value})})},height:50}),l.jsx(FO,{stroke:"var(--color-text)",opacity:.5,fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:p=>o==="sales"?`$${p.toLocaleString()}`:o==="delivery"?`${p>0?"+":""}${p}m`:p.toLocaleString()}),l.jsx(DV,{content:({active:p,payload:m,label:v})=>{if(!p||!m||!m.length)return null;const g=m[0].payload,y=g.value,x=g.count,b=v.includes("|")?v.replace("|"," - "):v;return l.jsxs("div",{className:"rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",children:[l.jsx("div",{className:"font-medium mb-1",style:{color:"var(--color-text)"},children:b}),o==="sales"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"font-bold",style:{color:"var(--color-primary)"},children:pe(y)}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[it(x)," ",x===1?"venta":"ventas"]})]}):o==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-bold",style:{color:"var(--color-primary)"},children:[it(y)," unidades"]}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[it(x)," ",x===1?"producto":"productos"]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"font-bold",style:{color:Math.abs(y)<=5?"#10b981":y>0?"#ef4444":"#3b82f6"},children:[y>0?"+":"",y," min"]}),l.jsxs("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:[it(x)," ",x===1?"entrega":"entregas"]})]})]})}}),l.jsx(zO,{type:"monotone",dataKey:"value",stroke:"var(--color-primary)",strokeWidth:3,dot:{fill:"var(--color-primary)",strokeWidth:2,r:4,stroke:"var(--color-background-secondary)"},activeDot:{r:6,fill:"var(--color-accent)",stroke:"var(--color-background-secondary)"}})]})}),l.jsx("div",{className:"mt-4 flex justify-between items-center text-sm",style:{color:"var(--color-text)"},children:o==="sales"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Total: "}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:pe(i.reduce((p,m)=>p+m.value,0))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Ventas: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]}):o==="products"?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Total Unidades: "}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:it(i.reduce((p,m)=>p+m.value,0))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Productos: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Promedio: "}),l.jsx("span",{className:"font-bold",style:{color:(()=>{const p=i.reduce((v,g)=>v+g.count,0),m=p>0?i.reduce((v,g)=>v+g.value*g.count,0)/p:0;return Math.abs(m)<=5?"#10b981":m>0?"#ef4444":"#3b82f6"})()},children:(()=>{const p=i.reduce((v,g)=>v+g.count,0),m=p>0?Math.round(i.reduce((v,g)=>v+g.value*g.count,0)/p):0;return`${m>0?"+":""}${m} min`})()})]}),l.jsxs("div",{children:[l.jsx("span",{className:"opacity-60",children:"Entregas: "}),l.jsx("span",{className:"font-bold",children:i.reduce((p,m)=>p+m.count,0)})]})]})})]})]})}function RV(){const{sales:e}=rp(),{products:t}=tp(),{materiaPrima:r,calculateAvailableStock:n}=Sc(),[o,a]=h.useState([]),[i,s]=h.useState([]),[c,u]=h.useState([]),[d,f]=h.useState(0),[p,m]=h.useState(0),[v,g]=h.useState("all"),[y,x]=h.useState("all"),[b,w]=h.useState("all"),[k,S]=h.useState(""),[_,N]=h.useState(""),[C,z]=h.useState(""),[U,M]=h.useState([]),Y=h.useCallback(q=>{if(b==="all")return q;const O=new Date;let ie,re;if(b==="specific"){if(!C)return q;const[me,xe,De]=C.split("-").map(Number);ie=new Date(me,xe-1,De,0,0,0,0),re=new Date(me,xe-1,De,23,59,59,999)}else if(b==="custom"){if(!k||!_)return q;const[me,xe,De]=k.split("-").map(Number),[Ke,ze,Be]=_.split("-").map(Number);ie=new Date(me,xe-1,De,0,0,0,0),re=new Date(Ke,ze-1,Be,23,59,59,999)}else switch(b){case"today":ie=new Date(O),ie.setHours(0,0,0,0),re=new Date(O),re.setHours(23,59,59,999);break;case"yesterday":ie=new Date(O),ie.setDate(ie.getDate()-1),ie.setHours(0,0,0,0),re=new Date(ie),re.setHours(23,59,59,999);break;case"last7":ie=new Date(O),ie.setDate(ie.getDate()-6),ie.setHours(0,0,0,0),re=new Date(O),re.setHours(23,59,59,999);break;case"last30":ie=new Date(O),ie.setDate(ie.getDate()-29),ie.setHours(0,0,0,0),re=new Date(O),re.setHours(23,59,59,999);break;case"thisMonth":ie=new Date(O.getFullYear(),O.getMonth(),1),ie.setHours(0,0,0,0),re=new Date(O),re.setHours(23,59,59,999);break;case"lastMonth":ie=new Date(O.getFullYear(),O.getMonth()-1,1),ie.setHours(0,0,0,0),re=new Date(O.getFullYear(),O.getMonth(),0),re.setHours(23,59,59,999);break;default:return q}return q.filter(me=>{const xe=new Date(me.completed_at);return xe>=ie&&xe<=re})},[b,_,C,k]),[ae,Q]=h.useState([]),F=h.useCallback(async()=>{await L.init();const q=await L.getAll("sale_items"),O=Y(e);let ie=q;v!=="all"&&(ie=ie.filter(he=>{const Me=t.find(qe=>qe.id===he.product_id);return(Me==null?void 0:Me.category)===v})),y!=="all"&&(ie=ie.filter(he=>{const Me=t.find(qe=>qe.id===he.product_id);return(Me==null?void 0:Me.id)===y}));const re=new Set(ie.map(he=>he.sale_id)),me=O.filter(he=>v==="all"||re.has(he.id));M(me);const xe=new Set(me.map(he=>he.id)),De=ie.filter(he=>xe.has(he.sale_id));Q(De);const Ke=De.filter(he=>!he.combo_name),ze=De.filter(he=>he.combo_name),Be={};let er=0,Ie=0;Ke.forEach(he=>{Be[he.product_id]||(Be[he.product_id]={product_name:he.product_name,quantity:0,revenue:0,profit:0});const Me=(he.product_price-(he.production_cost||0))*he.quantity;Be[he.product_id].quantity+=he.quantity,Be[he.product_id].revenue+=he.subtotal,Be[he.product_id].profit+=Me,er+=Me,Ie+=he.subtotal});const rt=new Set,mt=new Map;ze.forEach(he=>{const Me=he.combo_instance_id||he.id,qe=mt.get(Me)||{comboPrice:he.combo_unit_price||0,productsTotal:0,productionCost:0};qe.productsTotal+=he.product_price*he.quantity,qe.productionCost+=(he.production_cost||0)*he.quantity,mt.set(Me,qe)}),ze.forEach(he=>{const Me=he.combo_instance_id||he.id;Be[he.product_id]||(Be[he.product_id]={product_name:he.product_name,quantity:0,revenue:0,profit:0});const qe=(he.product_price-(he.production_cost||0))*he.quantity;if(Be[he.product_id].quantity+=he.quantity,Be[he.product_id].revenue+=he.product_price*he.quantity,Be[he.product_id].profit+=qe,!rt.has(Me)){rt.add(Me);const lt=mt.get(Me);Ie+=lt.comboPrice,er+=lt.comboPrice-lt.productionCost}}),f(er),m(Ie);const Ar=Object.entries(Be).map(([he,Me])=>({product_id:he,product_name:Me.product_name,quantity:Me.quantity,revenue:Me.revenue,profit:Me.profit})).sort((he,Me)=>Me.quantity-he.quantity),wn=Ar.slice(0,5),ht=Object.entries(Be).map(([he,Me])=>({product_id:he,product_name:Me.product_name,quantity:Me.quantity,revenue:Me.revenue,profit:Me.profit})).sort((he,Me)=>Me.profit-he.profit).slice(0,5);a(wn),s(Ar),u(ht)},[v,Y,y,t,e]),K=v==="all"?t:t.filter(q=>q.category===v),V=y==="all"?K:K.filter(q=>q.id===y),T=p,W=U.length,se=W>0?T/W:0,ge=(()=>{const q=U.filter(xe=>xe.order_type==="delivery"&&xe.scheduled_time&&xe.delivered_at);if(q.length===0)return{count:0,averageDelay:0,onTimeCount:0,lateCount:0,earlyCount:0,onTimePercentage:0};let O=0,ie=0,re=0,me=0;return q.forEach(xe=>{const De=new Date(xe.scheduled_time).getTime(),ze=(new Date(xe.delivered_at).getTime()-De)/(1e3*60);O+=ze,Math.abs(ze)<=5?ie++:ze>5?re++:me++}),{count:q.length,averageDelay:O/q.length,onTimeCount:ie,lateCount:re,earlyCount:me,onTimePercentage:ie/q.length*100}})(),te=V.filter(q=>!q.uses_materia_prima).reduce((q,O)=>q+O.production_cost*O.stock,0),[J,ye]=h.useState([]),B=(()=>{if(y!=="all"){const me=t.find(xe=>xe.id===y);if(me&&me.uses_materia_prima){const De=J.filter(Ke=>Ke.product_id===y).map(Ke=>Ke.materia_prima_id);return r.filter(Ke=>De.includes(Ke.id))}return[]}if(v==="all")return r;const O=t.filter(me=>me.uses_materia_prima&&me.category===v).map(me=>me.id),re=J.filter(me=>O.includes(me.product_id)).map(me=>me.materia_prima_id);return r.filter(me=>re.includes(me.id))})().reduce((q,O)=>q+O.cost_per_unit*O.stock,0),E=te+B,A=[{value:"all",label:"Todas las Categoras"},{value:"hamburguesas",label:"Hamburguesas"},{value:"papas fritas",label:"Papas Fritas"},{value:"bebidas",label:"Bebidas"}],H=[{value:"all",label:"All Time"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last7",label:"Last 7 Days"},{value:"last30",label:"Last 30 Days"},{value:"thisMonth",label:"This Month"},{value:"lastMonth",label:"Last Month"},{value:"specific",label:"Specific Date"},{value:"custom",label:"Custom Range"}];return h.useEffect(()=>{(async()=>{await L.init();const O=await L.getAll("product_materia_prima");ye(O)})()},[]),h.useEffect(()=>{F()},[e,v,y,b,k,_,C,F]),h.useEffect(()=>{x("all")},[v]),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(AS,{style:{color:"var(--color-primary)"}}),"Mtricas y Anlisis"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Analiz el rendimiento de tu negocio con mtricas detalladas y reportes visuales"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(MS,{size:20,style:{color:"var(--color-text)"}}),l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Category:"}),l.jsx("select",{value:v,onChange:q=>g(q.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:A.map(q=>l.jsx("option",{value:q.value,children:q.label},q.value))})]}),v!=="all"&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Product:"}),l.jsxs("select",{value:y,onChange:q=>x(q.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:[l.jsx("option",{value:"all",children:"All Products"}),K.map(q=>l.jsx("option",{value:q.id,children:q.name},q.id))]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Date:"}),l.jsx("select",{value:b,onChange:q=>w(q.target.value),className:"px-4 py-2 rounded-lg border font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"},children:H.map(q=>l.jsx("option",{value:q.value,children:q.label},q.value))})]}),b==="specific"&&l.jsx("input",{type:"date",value:C,onChange:q=>z(q.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}}),b==="custom"&&l.jsxs(l.Fragment,{children:[l.jsx("input",{type:"date",value:k,onChange:q=>S(q.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}}),l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"to"}),l.jsx("input",{type:"date",value:_,onChange:q=>N(q.target.value),className:"px-4 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-primary)"}})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ingresos Totales"}),l.jsx(Dd,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:pe(T)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ventas Totales"}),l.jsx(AI,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:W})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Venta Promedio"}),l.jsx(Yb,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:pe(se)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Ganancia Total"}),l.jsx(Yb,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:pe(d)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Valor Inventario"}),l.jsx(wo,{size:18,style:{color:"var(--color-primary)"}})]}),l.jsx("div",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:pe(E)})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("div",{className:"opacity-60 text-xs",style:{color:"var(--color-text)"},children:"Tiempo Entrega"}),l.jsx(_l,{size:18,style:{color:"var(--color-primary)"}})]}),ge.count>0?l.jsxs("div",{children:[l.jsxs("div",{className:"text-xl font-bold",style:{color:Math.abs(ge.averageDelay)<=5?"#10b981":ge.averageDelay>0?"#ef4444":"#3b82f6"},children:[ge.averageDelay>0?"+":"",Math.round(ge.averageDelay)," min"]}),l.jsxs("div",{className:"text-xs space-y-0.5",style:{color:"var(--color-text)",opacity:.7},children:[l.jsxs("div",{children:["A tiempo: ",ge.onTimeCount," (",ge.onTimePercentage.toFixed(0),"%)"]}),l.jsxs("div",{children:["Tarde: ",ge.lateCount," | Temp:"," ",ge.earlyCount]})]})]}):l.jsx("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.6},children:"Sin datos"})]})]}),l.jsx("div",{className:"mb-6",children:l.jsx(TV,{sales:U,saleItems:ae})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Ms Rentables"}),l.jsx("div",{className:"space-y-4",children:c.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):c.map((q,O)=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:O+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:q.product_name}),l.jsxs("div",{className:"text-sm opacity-60 mt-1",style:{color:"var(--color-text)"},children:[it(q.quantity)," unidad/es vendidas"]}),l.jsxs("div",{className:"text-xs mt-1 opacity-60",style:{color:"var(--color-text)"},children:["Ingreso: ",pe(q.revenue)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs opacity-60 mb-1",style:{color:"var(--color-text)"},children:"Ganancia"}),l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:pe(q.profit)})]})]})},q.product_name))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Ms Vendidos"}),l.jsx("div",{className:"space-y-4",children:o.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):o.map((q,O)=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center font-bold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:O+1}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:q.product_name}),l.jsxs("div",{className:"text-sm opacity-60 mt-1",style:{color:"var(--color-text)"},children:[it(q.quantity)," unidad/es vendidas"]}),l.jsxs("div",{className:"text-xs mt-1 opacity-60",style:{color:"var(--color-text)"},children:["Ingreso: ",pe(q.revenue)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-xs opacity-60 mb-1",style:{color:"var(--color-text)"},children:"Ganancia"}),l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:pe(q.profit)})]})]})},q.product_name))})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6 flex flex-col",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Productos Vendidos"}),l.jsx("div",{className:"space-y-4 overflow-y-auto scrollbar-hide",style:{maxHeight:"500px"},children:i.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"An no hay ventas de productos"}):(()=>{const q=i.reduce((re,me)=>{const xe=t.find(Ke=>Ke.id===me.product_id),De=(xe==null?void 0:xe.category)||"N/A";return re[De]||(re[De]=[]),re[De].push(me),re},{}),O=["hamburguesas","papas fritas","bebidas"];return Object.keys(q).sort((re,me)=>{const xe=O.indexOf(re.toLowerCase()),De=O.indexOf(me.toLowerCase());return xe!==-1&&De!==-1?xe-De:xe!==-1?-1:De!==-1?1:re.localeCompare(me)}).map(re=>l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"font-semibold text-sm uppercase tracking-wide opacity-60 px-2",style:{color:"var(--color-text)"},children:re}),q[re].map(me=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:me.product_name})}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-bold",style:{color:"var(--color-primary)"},children:it(me.quantity)}),l.jsx("div",{className:"text-xs opacity-60",style:{color:"var(--color-text)"},children:"unidad/es"})]})]},me.product_name))]},re))})()})]}),l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:"Estado del Inventario"}),l.jsx("div",{className:"space-y-4",children:(v==="all"?["hamburguesas","papas fritas","bebidas"]:[v]).map(q=>{const O=()=>{const[ie,re]=ne.useState({totalStock:0,totalValue:0,totalCost:0,productCount:0});ne.useEffect(()=>{(async()=>{const De=t.filter(rt=>rt.category===q),Ke=De.filter(rt=>!rt.uses_materia_prima),ze=De.filter(rt=>rt.uses_materia_prima);let Be=0,er=0,Ie=0;for(const rt of Ke)Be+=rt.stock,er+=rt.price*rt.stock,Ie+=rt.production_cost*rt.stock;if(ze.length>0){const mt=ze.map(ht=>J.filter(Me=>Me.product_id===ht.id).map(Me=>Me.materia_prima_id)).flat(),Ar=new Set(mt);if(mt.length!==Ar.size){let ht=0;for(const qe of ze){const lt=await n(qe.id);lt>ht&&(ht=lt)}const he=ze.reduce((qe,lt)=>qe+lt.price,0)/ze.length,Me=ze.reduce((qe,lt)=>qe+lt.production_cost,0)/ze.length;Be+=ht,er+=he*ht,Ie+=Me*ht}else for(const ht of ze){const he=await n(ht.id);Be+=he,er+=ht.price*he,Ie+=ht.production_cost*he}}re({totalStock:Be,totalValue:er,totalCost:Ie,productCount:De.length})})()},[]);const me=ie.totalValue-ie.totalCost;return l.jsxs("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("div",{className:"font-semibold capitalize",style:{color:"var(--color-text)"},children:q}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:[ie.productCount," productos"]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Unidades Totales:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:it(ie.totalStock)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Costo Total:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(ie.totalCost)})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Valor de Venta:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(ie.totalValue)})]}),l.jsxs("div",{className:"flex justify-between text-sm mt-2 pt-2 border-t",style:{borderColor:"var(--color-primary)"},children:[l.jsx("span",{style:{color:"var(--color-text)",opacity:.7},children:"Ganancia Potencial:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-accent)"},children:pe(me)})]})]})};return l.jsx(O,{},q)})})]})]})]})}const Ne={nav:{pos:"Punto de Venta",products:"Productos",sales:"Historial de Ventas",metrics:"Mtricas y Anlisis",cashDrawer:"Caja",settings:"Configuracin",collapse:"Contraer"},pos:{title:"Punto de Venta",cart:"Carrito",cartEmpty:"El carrito est vaco",total:"Total:",stock:"Stock:",proceedToPayment:"Proceder al pago",paymentMethod:"Mtodo de pago:",cash:"Efectivo",online:"Online",cashReceived:"Efectivo recibido:",change:"Cambio:",giveChange:"Dar cambio:",cannotMakeChange:"No se puede dar cambio exacto con los billetes disponibles",onlinePayment:"Pago Online",customerWillPayElectronically:"El cliente pagar electrnicamente",completeSale:"Completar Venta",processing:"Procesando...",cancel:"Cancelar",saleCompleted:"Venta completada!",errorCompletingSale:"Error al completar la venta",reset:"Reiniciar",addBills:"Agregar billetes:",removeBills:"Quitar billetes:"},products:{title:"Productos",addProduct:"Agregar Producto",newProduct:"Nuevo Producto",editProduct:"Editar Producto",name:"Nombre",salePrice:"Precio de Venta ($)",productionCost:"Costo de Produccin ($)",stock:"Stock",category:"Categora",active:"Activo",save:"Guardar",update:"Actualizar",cancel:"Cancelar",cost:"Costo:",margin:"Margen:",status:"Estado:",inactive:"Inactivo",confirmDelete:"Ests seguro de que deseas eliminar este producto?",errorSaving:"Error al guardar el producto",errorDeleting:"Error al eliminar el producto",loading:"Cargando...",burgers:"Hamburguesas",sides:"Guarniciones",drinks:"Bebidas"},sales:{title:"Historial de Ventas",recentSales:"Ventas Recientes",saleDetails:"Detalles de Venta",saleNumber:"Nmero de Venta",date:"Fecha",payment:"Pago",items:"Productos",total:"Total:",cashReceived:"Efectivo Recibido:",changeGiven:"Cambio Dado:",billsBreakdown:"Desglose de Billetes",billsReceived:"Billetes Recibidos:",billsGivenAsChange:"Billetes Dados como Cambio:",noSales:"An no hay ventas",selectSale:"Seleccion una venta para ver los detalles",loading:"Cargando..."},metrics:{title:"Mtricas y Anlisis",totalRevenue:"Ingresos Totales",totalSales:"Ventas Totales",averageSale:"Venta Promedio",totalProfit:"Ganancia Total",inventoryValue:"Valor del Inventario",dailySales:"Ventas Diarias (ltimos 7 Das)",topProducts:"Productos Ms Vendidos",lowStockAlert:"Alerta de Stock Bajo",inventoryStatus:"Estado del Inventario",noSalesData:"An no hay datos de ventas",noProductSales:"An no hay ventas de productos",allProductsWellStocked:"Todos los productos bien abastecidos",unitsSold:"unidades vendidas",profit:"Ganancia:",totalUnits:"Unidades Totales:",value:"Valor:",products:"productos",sale:"venta",sales:"ventas",allCategories:"Todas las Categoras",burgers:"Hamburguesas",sides:"Guarniciones",drinks:"Bebidas"},cashDrawer:{title:"Gestin de Caja",subtitle:"Rastre y gestion los billetes disponibles para dar cambio",totalCash:"Efectivo Total en Caja",billValue:"Valor del Billete",quantity:"Cantidad",totalValue:"Valor Total:",remove:"Quitar",add:"Agregar",save:"Guardar",automaticUpdates:"Actualizaciones Automticas",automaticUpdatesDesc:"La caja se actualiza automticamente cuando complets ventas. El efectivo recibido se agrega a la caja, y el cambio dado se resta. Ajust las cantidades manualmente ac si es necesario para depsitos o retiros de efectivo.",errorUpdating:"Error al actualizar la cantidad de billetes",loading:"Cargando...",movementsLog:"Historial de Movimientos",movementsLogDesc:"Registro de todos los movimientos de efectivo en la caja",showMovements:"Mostrar Historial",hideMovements:"Ocultar Historial",noMovements:"No hay movimientos registrados",movementType:"Tipo",movementSale:"Venta",movementManualAdd:"Agregado Manual",movementManualRemove:"Retiro Manual",movementChangeGiven:"Cambio Dado",movementCashClosing:"Cierre de Caja",billsIn:"Billetes Recibidos",billsOut:"Billetes Dados"},settings:{title:"Configuracin",themeMode:"Modo de Tema",themeModeDesc:"Cambi entre modo claro y oscuro",switchTo:"Cambiar a Modo",dark:"Oscuro",light:"Claro",themeColors:"Colores del Tema",lightModeColors:"Colores del Modo Claro",darkModeColors:"Colores del Modo Oscuro",primaryColor:"Color Primario",accentColor:"Color de Acento",textColor:"Color de Texto",backgroundColor:"Color de Fondo",preview:"Vista Previa",primaryColorPreview:"As se ve tu color primario",accentColorPreview:"As se ve tu color de acento",saveChanges:"Guardar Cambios",resetToDefault:"Restaurar Valores por Defecto",saving:"Guardando...",successSaving:"Configuracin guardada exitosamente!",errorSaving:"Error al guardar la configuracin",logoSettings:"Configuracin de Logo",logoSettingsDesc:"Personaliz el logo o siglas que aparecen cuando la barra lateral est contrada",acronym:"Siglas",acronymPlaceholder:"Ej: SSB",checkForUpdates:"Buscar Actualizaciones",checkingUpdates:"Buscando...",updateFound:"Nueva versin encontrada. Recargando...",noUpdateAvailable:"Ya tens la ltima versin",updateError:"Error al buscar actualizaciones"},common:{loading:"Cargando...",error:"Error",success:"xito",confirm:"Confirmar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",save:"Guardar",close:"Cerrar"}},ul=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("div",{ref:n,className:Yt("rounded-lg border shadow-md dark:border-gray-700",e),style:{backgroundColor:"var(--color-background-secondary)",...t},...r}));ul.displayName="Card";const dl=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Yt("flex flex-col space-y-1.5 p-6",e),...t}));dl.displayName="CardHeader";const fl=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("h3",{ref:n,className:Yt("text-2xl font-semibold leading-none tracking-tight",e),style:{color:"var(--color-text)",...t},...r}));fl.displayName="CardTitle";const id=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("p",{ref:n,className:Yt("text-sm opacity-60",e),style:{color:"var(--color-text)",...t},...r}));id.displayName="CardDescription";const pl=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Yt("p-6 pt-0",e),...t}));pl.displayName="CardContent";const zV=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:Yt("flex items-center p-6 pt-0",e),...t}));zV.displayName="CardFooter";const lo=h.forwardRef(({className:e,style:t,...r},n)=>l.jsx("label",{ref:n,className:Yt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),style:{color:"var(--color-text)",...t},...r}));lo.displayName="Label";const La=h.forwardRef(({className:e,type:t,style:r,...n},o)=>l.jsx("input",{type:t,className:Yt("flex min-h-[48px] w-full rounded-lg border-2 px-4 py-3 text-base focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-600 touch-manipulation",e),style:{backgroundColor:"var(--color-background-secondary)",color:"var(--color-text)",borderColor:"var(--color-text)",...r},ref:o,...n}));La.displayName="Input";const h_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,v_=tt,LV=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return v_(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:a}=t,i=Object.keys(o).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const p=h_(d)||h_(f);return o[u][p]}),s=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...m}=d;return Object.entries(m).every(v=>{let[g,y]=v;return Array.isArray(y)?y.includes({...a,...s}[g]):{...a,...s}[g]===y})?[...u,f,p]:u},[]);return v_(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)},$V=LV("inline-flex items-center justify-center rounded-lg text-base font-semibold transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 touch-manipulation",{variants:{variant:{default:"bg-primary text-white hover:opacity-90 active:scale-98",destructive:"bg-red-600 text-white hover:bg-red-700 active:scale-98",outline:"border-2 border-gray-300 bg-white hover:bg-gray-100 dark:border-gray-600 dark:bg-gray-800 dark:hover:bg-gray-700 active:scale-98",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-100 dark:hover:bg-gray-600 active:scale-98",ghost:"hover:bg-gray-100 dark:hover:bg-gray-700 active:scale-98",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-[48px] px-5 py-3",sm:"min-h-[44px] rounded-md px-4 py-2",lg:"min-h-[56px] rounded-lg px-8 py-4 text-lg",icon:"min-h-[48px] min-w-[48px]"}},defaultVariants:{variant:"default",size:"default"}}),Dl=h.forwardRef(({className:e,variant:t,size:r,...n},o)=>l.jsx("button",{className:Yt($V({variant:t,size:r,className:e})),ref:o,...n}));Dl.displayName="Button";function FV(){const[e,t]=h.useState(!1),[r,n]=h.useState(null),[o,a]=h.useState(null),[i,s]=h.useState(!1),[c,u]=h.useState(""),[d,f]=h.useState(!1),p=async()=>{try{n(null);const g=await L.exportData(),y=new Blob([g],{type:"application/json"}),x=URL.createObjectURL(y),b=document.createElement("a");b.href=x,b.download=`pos-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(x),a("Datos exportados correctamente"),setTimeout(()=>a(null),3e3)}catch(g){n("Error al exportar datos"),console.error(g)}},m=async g=>{var x;const y=(x=g.target.files)==null?void 0:x[0];if(y)try{t(!0),n(null);const b=await y.text();await L.importData(b),a("Datos importados correctamente. Recarg la pgina para ver los cambios."),setTimeout(()=>{window.location.reload()},2e3)}catch(b){n("Error al importar datos. Verific que el archivo sea vlido."),console.error(b)}finally{t(!1)}},v=async()=>{if(c!=="RESETEAR"){n('Debs escribir "RESETEAR" para confirmar');return}try{f(!0),n(null),await L.resetDatabase(),a("Base de datos reseteada correctamente. Recargando..."),setTimeout(()=>{window.location.reload()},1500)}catch(g){n("Error al resetear la base de datos"),console.error(g)}finally{f(!1)}};return l.jsxs("div",{className:"rounded-lg shadow-md p-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"var(--color-text)"},children:"Gestin de Datos"}),l.jsx("p",{className:"text-sm opacity-60 mb-6",style:{color:"var(--color-text)"},children:"Export e import todos los datos de la aplicacin en formato JSON"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:p,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:[l.jsx(ay,{size:20}),"Exportar Datos"]}),l.jsx("div",{children:l.jsxs("label",{className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors cursor-pointer",children:[l.jsx(LS,{size:20}),e?"Importando...":"Importar Datos",l.jsx("input",{type:"file",accept:".json",onChange:m,disabled:e,className:"hidden"})]})}),r&&l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-100 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg",children:[l.jsx(Mm,{size:18}),l.jsx("span",{className:"text-sm",children:r})]}),o&&l.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 text-green-700 dark:text-green-400 rounded-lg",children:l.jsx("span",{className:"text-sm",children:o})}),l.jsx("div",{className:"mt-6 p-4 rounded-lg border",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(Mm,{size:18,className:"flex-shrink-0 mt-0.5",style:{color:"var(--color-accent)"}}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)"},children:[l.jsx("strong",{style:{color:"var(--color-accent)"},children:"Advertencia:"})," ","Importar datos reemplazar todos los datos actuales. Asegurate de exportar tus datos antes de importar para evitar prdida de informacin."]})]})}),l.jsxs("div",{className:"mt-6 pt-6 border-t dark:border-gray-700",children:[l.jsx("h4",{className:"text-md font-bold mb-3 text-red-600 dark:text-red-400",children:"Zona Peligrosa"}),i?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[l.jsxs("div",{className:"flex items-start gap-2 mb-3",children:[l.jsx(Mm,{size:18,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-red-800 dark:text-red-300",children:[l.jsx("strong",{children:"ADVERTENCIA:"})," Esta accin eliminar TODOS los datos de forma permanente: productos, ventas, movimientos de caja y configuracin. Esta accin NO se puede deshacer."]})]}),l.jsxs("div",{className:"text-sm text-red-800 dark:text-red-300 mb-3",children:["Escrib ",l.jsx("strong",{children:'"RESETEAR"'})," para confirmar:"]}),l.jsx("input",{type:"text",value:c,onChange:g=>u(g.target.value),placeholder:"Escrib RESETEAR",className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg dark:bg-gray-700 dark:text-white mb-3",disabled:d})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:v,disabled:c!=="RESETEAR"||d,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(ri,{size:20}),d?"Reseteando...":"Confirmar Reseteo"]}),l.jsx("button",{onClick:()=>{s(!1),u(""),n(null)},disabled:d,className:"px-4 py-3 bg-gray-300 dark:bg-gray-600 text-gray-800 dark:text-white rounded-lg hover:bg-gray-400 dark:hover:bg-gray-500 transition-colors",children:"Cancelar"})]})]}):l.jsxs("button",{onClick:()=>s(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[l.jsx(ri,{size:20}),"Resetear Base de Datos"]})]})]})]})}function Kn(e){const t=e.replace("#",""),r=parseInt(t.substring(0,2),16),n=parseInt(t.substring(2,4),16),o=parseInt(t.substring(4,6),16);return(.299*r+.587*n+.114*o)/255>.5?"#000000":"#ffffff"}function BV(){const{theme:e,themeConfig:t,updateThemeConfig:r,syncThemeToKDS:n}=bc(),{logoConfig:o,updateLogoConfig:a}=uy(),[i,s]=h.useState(t),[c,u]=h.useState(o.acronym),[d,f]=h.useState(o.logo_image),[p,m]=h.useState(!1),v=h.useRef(null),[g,y]=h.useState("off"),[x,b]=h.useState("http://192.168.1.100:3001"),[w,k]=h.useState(0),[S,_]=h.useState(0),[N,C]=h.useState(!1),[z,U]=h.useState(!1),M=h.useRef(null),Y=h.useRef(!1),ae=h.useRef(!1),Q=()=>{ae.current=!0},F=h.useRef(r),K=h.useRef(a);h.useEffect(()=>{F.current=r,K.current=a},[r,a]),h.useEffect(()=>{N||s(t)},[t,N]),h.useEffect(()=>{N||(u(o.acronym),f(o.logo_image))},[o,N]),h.useEffect(()=>{if(Y.current)return;Y.current=!0,(async()=>{try{await L.init();const te=await L.get("app_settings","default"),J=ea(te),ye=(te==null?void 0:te.kds_url)||"http://192.168.1.100:3001",P=(te==null?void 0:te.delivery_charge)||0,B=(te==null?void 0:te.free_delivery_threshold)||0;y(J),b(ye),k(P),_(B),setTimeout(()=>{C(!0)},150)}catch(te){console.error("Error loading settings:",te),setTimeout(()=>C(!0),150)}})()},[]),h.useEffect(()=>{if(!(!N||!ae.current))return M.current&&clearTimeout(M.current),M.current=setTimeout(async()=>{m(!0);try{await F.current(i),await K.current({acronym:c,logo_image:d}),await L.init();const te={...await L.get("app_settings","default")||{id:"default",pos_layout_locked:!1,updated_at:new Date().toISOString()},kds_mode:g,kds_enabled:g==="server",kds_url:x,delivery_charge:w,free_delivery_threshold:S,updated_at:new Date().toISOString()};await L.put("app_settings",te),g==="server"&&x&&await n(i,e),ae.current=!1,de.success(Ne.settings.successSaving)}catch(ee){console.error("Error saving settings:",ee),de.error(Ne.settings.errorSaving)}finally{m(!1)}},500),()=>{M.current&&clearTimeout(M.current)}},[N,i,c,d,g,x,w,S,n,e]);const V=(ee,te,J)=>{Q(),s({...i,[ee]:{...i[ee],[te]:J}})},T=ee=>{var ye;const te=(ye=ee.target.files)==null?void 0:ye[0];if(!te)return;if(!te.type.match(/^image\/(png|jpg|jpeg|svg\+xml)$/)){de.error("Por favor selecciona una imagen PNG, JPG o SVG");return}if(te.size>2*1024*1024){de.error("La imagen no debe superar 2MB");return}const J=new FileReader;J.onload=P=>{var E;const B=(E=P.target)==null?void 0:E.result;Q(),f(B)},J.readAsDataURL(te)},W=()=>{Q(),f(void 0),v.current&&(v.current.value="")},se=()=>{Q(),s({light:{primary:"#ef4444",accent:"#f59e0b",text:"#1f2937",background:"#f9fafb",backgroundSecondary:"#ffffff",backgroundAccent:"#f3f4f6"},dark:{primary:"#dc2626",accent:"#f59e0b",text:"#f9fafb",background:"#111827",backgroundSecondary:"#1f2937",backgroundAccent:"#374151"}}),u("SSB"),f(void 0),v.current&&(v.current.value="")},ge=async()=>{U(!0),de.info(Ne.settings.checkingUpdates);try{const J=(await(await fetch(`${x}/health`)).json()).ssb_version;if(!J){de.error(Ne.settings.updateError),U(!1);return}if(J!=="1.2.1"){if(de.success(`${Ne.settings.updateFound}: v${J}`),"serviceWorker"in navigator){const ye=await caches.keys();await Promise.all(ye.map(B=>caches.delete(B)));const P=await navigator.serviceWorker.getRegistration();P&&await P.unregister()}setTimeout(()=>{window.location.reload()},1e3)}else de.info(Ne.settings.noUpdateAvailable),U(!1)}catch(ee){console.error("Error checking for updates:",ee),de.error(Ne.settings.updateError),U(!1)}};return l.jsxs("div",{className:"p-6 relative",children:[p&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center gap-3 rounded-xl px-6 py-4 shadow-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(jI,{className:"animate-spin",size:24,style:{color:"var(--color-primary)"}}),l.jsx("span",{className:"text-lg font-semibold",style:{color:"var(--color-text)"},children:Ne.settings.saving})]})}),l.jsxs("div",{className:"mb-6 relative",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(zS,{style:{color:"var(--color-primary)"}}),Ne.settings.title]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Personaliz la apariencia y configuracin de tu sistema de punto de venta"}),l.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-2",children:[l.jsxs("button",{onClick:ge,disabled:z||p,className:"flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium transition-colors hover:opacity-80 disabled:opacity-50",style:{backgroundColor:"var(--color-primary)",color:"#fff"},title:Ne.settings.checkForUpdates,children:[l.jsx(RS,{size:14,className:z?"animate-spin":""}),z?Ne.settings.checkingUpdates:Ne.settings.checkForUpdates]}),l.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-semibold",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:["v","1.2.1"]})]})]}),l.jsxs(ul,{className:"mb-6",children:[l.jsxs(dl,{children:[l.jsxs(fl,{className:"flex items-center gap-2",children:[l.jsx(II,{size:24}),Ne.settings.logoSettings]}),l.jsx(id,{children:Ne.settings.logoSettingsDesc})]}),l.jsxs(pl,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"logo-image",children:"Logo (PNG, JPG, SVG)"}),l.jsx("div",{className:"mt-2 space-y-4",children:d?l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-24 h-24 border-2 border-gray-300 dark:border-gray-600 rounded-lg flex items-center justify-center overflow-hidden bg-white",children:l.jsx("img",{src:d,alt:"Logo preview",className:"max-w-full max-h-full object-contain"})}),l.jsxs(Dl,{variant:"secondary",size:"sm",onClick:W,disabled:p,children:[l.jsx(wr,{size:16,className:"mr-2"}),"Eliminar Logo"]})]}):l.jsxs("div",{children:[l.jsx("input",{ref:v,type:"file",id:"logo-image",accept:"image/png,image/jpeg,image/jpg,image/svg+xml",onChange:T,className:"hidden",disabled:p}),l.jsxs(Dl,{variant:"secondary",onClick:()=>{var ee;return(ee=v.current)==null?void 0:ee.click()},disabled:p,children:[l.jsx(LS,{size:16,className:"mr-2"}),"Subir Logo"]}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"El logo tendr prioridad sobre las letras cuando la barra lateral est colapsada"})]})})]}),l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"acronym",children:Ne.settings.acronym}),l.jsx(La,{id:"acronym",value:c,onChange:ee=>{Q(),u(ee.target.value.toUpperCase())},placeholder:Ne.settings.acronymPlaceholder,maxLength:5,className:"mt-2",disabled:p}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Se mostrar cuando no haya logo o la barra est expandida"})]})]})]}),l.jsxs(ul,{className:"my-6",children:[l.jsxs(dl,{children:[l.jsxs(fl,{className:"flex items-center gap-2",children:[l.jsx(IS,{size:24}),"Kitchen Display System (KDS)"]}),l.jsx(id,{children:"Configur la conexin al sistema de visualizacin de pedidos para cocina"})]}),l.jsxs(pl,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(lo,{className:"mb-2 block",children:"Modo KDS"}),l.jsx("div",{className:"flex gap-2",children:[{value:"off",label:"Desactivado"},{value:"local",label:"Local"},{value:"server",label:"Servidor"}].map(ee=>l.jsx("button",{type:"button",onClick:()=>{Q(),y(ee.value)},disabled:p,className:"px-4 py-2 rounded-lg font-semibold text-sm transition-all disabled:opacity-50",style:{backgroundColor:g===ee.value?"var(--color-accent)":"var(--color-background-secondary)",color:g===ee.value?"var(--color-on-accent)":"var(--color-text)"},children:ee.label},ee.value))}),l.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:[g==="off"&&"KDS desactivado. Los pedidos no se enviarn al sistema de cocina.",g==="local"&&"Los pedidos se guardan localmente en este dispositivo.",g==="server"&&"Los pedidos se envan a un servidor KDS remoto."]})]}),g==="server"&&l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"kds-url",children:"URL del servidor KDS"}),l.jsx(La,{id:"kds-url",type:"url",value:x,onChange:ee=>{Q(),b(ee.target.value)},placeholder:"http://192.168.1.100:3001",className:"mt-2",disabled:p}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Ingres la direccin IP y puerto del servidor KDS (ejemplo: http://192.168.1.100:3001)"})]})]})]}),l.jsxs(ul,{className:"my-6",children:[l.jsxs(dl,{children:[l.jsxs(fl,{className:"flex items-center gap-2",children:[l.jsx(xr,{size:24}),"Configuracin de Delivery"]}),l.jsx(id,{children:"Configur el costo de envo y el monto mnimo para envo gratis"})]}),l.jsxs(pl,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"delivery-charge",children:"Cargo por Delivery"}),l.jsx(La,{id:"delivery-charge",type:"number",min:"0",value:w,onChange:ee=>{Q(),k(Number(ee.target.value)||0)},placeholder:"500",className:"mt-2",disabled:p}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Monto fijo que se agrega al total cuando el pedido es delivery"})]}),l.jsxs("div",{children:[l.jsx(lo,{htmlFor:"free-delivery-threshold",children:"Monto mnimo para Delivery Gratis"}),l.jsx(La,{id:"free-delivery-threshold",type:"number",min:"0",value:S,onChange:ee=>{Q(),_(Number(ee.target.value)||0)},placeholder:"10000",className:"mt-2",disabled:p}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Si el subtotal del carrito supera este monto, el delivery es gratis. Dej en 0 para desactivar."})]})]})]}),l.jsxs(ul,{children:[l.jsx(dl,{children:l.jsxs(fl,{className:"flex items-center gap-2",children:[l.jsx(EI,{size:24}),Ne.settings.themeColors]})}),l.jsxs(pl,{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:Ne.settings.lightModeColors}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-3",children:[["primary",Ne.settings.primaryColor],["accent",Ne.settings.accentColor],["text",Ne.settings.textColor],["background",Ne.settings.backgroundColor],["backgroundSecondary","Color Fondo Secundario"],["backgroundAccent","Color Fondo Acento"]].map(([ee,te])=>l.jsxs("div",{children:[l.jsx(lo,{children:te}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:i.light[ee],onChange:J=>V("light",ee,J.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:p}),l.jsx(La,{type:"text",value:i.light[ee],onChange:J=>V("light",ee,J.target.value),className:"flex-1",disabled:p})]})]},ee))}),l.jsxs("div",{className:"rounded-lg border border-gray-200 dark:border-gray-700 shadow-sm overflow-hidden flex flex-col text-xs",style:{backgroundColor:i.light.background,color:i.light.text},children:[l.jsxs("div",{className:"px-3 py-2 font-semibold flex justify-between items-center",style:{backgroundColor:i.light.backgroundSecondary},children:[l.jsx("span",{children:"Encabezado"}),l.jsx("span",{className:"rounded-full px-2 py-1 text-[10px]",style:{backgroundColor:i.light.primary,color:Kn(i.light.primary)},children:"Badge"})]}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.light.primary,color:Kn(i.light.primary)},children:"Botn Primario"}),l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.light.accent,color:Kn(i.light.accent)},children:"Botn Acento"}),l.jsxs("div",{className:"rounded-md p-2 mt-2 flex gap-2",style:{backgroundColor:i.light.backgroundSecondary},children:[l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.light.primary,color:Kn(i.light.primary)},children:"Primario"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.light.accent,color:Kn(i.light.accent)},children:"Acento"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px]",style:{color:i.light.primary,border:`1px solid ${i.light.primary}`},children:"Outline"})]}),l.jsxs("div",{className:"rounded-md p-2 mt-2",style:{backgroundColor:i.light.backgroundAccent},children:[l.jsx("div",{className:"font-semibold text-[11px] mb-1",children:"Tarjeta de Ejemplo"}),l.jsx("div",{className:"text-[10px] opacity-80",children:"Texto con color principal configurado."}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.light.primary},children:"Texto Primario"}),l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.light.accent},children:"Texto Acento"})]})]})]})]})]})]}),l.jsxs("div",{className:"border-t pt-6 dark:border-gray-700",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4 dark:text-white",children:Ne.settings.darkModeColors}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx("div",{className:"space-y-3",children:[["primary",Ne.settings.primaryColor],["accent",Ne.settings.accentColor],["text",Ne.settings.textColor],["background",Ne.settings.backgroundColor],["backgroundSecondary","Color Fondo Secundario"],["backgroundAccent","Color Fondo Acento"]].map(([ee,te])=>l.jsxs("div",{children:[l.jsx(lo,{children:te}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"color",value:i.dark[ee],onChange:J=>V("dark",ee,J.target.value),className:"w-10 h-10 rounded cursor-pointer border border-gray-300 dark:border-gray-600 disabled:opacity-50 disabled:cursor-not-allowed",disabled:p}),l.jsx(La,{type:"text",value:i.dark[ee],onChange:J=>V("dark",ee,J.target.value),className:"flex-1",disabled:p})]})]},ee))}),l.jsxs("div",{className:"rounded-lg border border-gray-700 shadow-sm overflow-hidden flex flex-col text-xs",style:{backgroundColor:i.dark.background,color:i.dark.text},children:[l.jsxs("div",{className:"px-3 py-2 font-semibold flex justify-between items-center",style:{backgroundColor:i.dark.backgroundSecondary},children:[l.jsx("span",{children:"Encabezado"}),l.jsx("span",{className:"rounded-full px-2 py-1 text-[10px]",style:{backgroundColor:i.dark.primary,color:Kn(i.dark.primary)},children:"Badge"})]}),l.jsxs("div",{className:"p-3 space-y-2",children:[l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.dark.primary,color:Kn(i.dark.primary)},children:"Botn Primario"}),l.jsx("button",{className:"w-full rounded-md py-2 text-xs font-semibold",style:{backgroundColor:i.dark.accent,color:Kn(i.dark.accent)},children:"Botn Acento"}),l.jsxs("div",{className:"rounded-md p-2 mt-2 flex gap-2",style:{backgroundColor:i.dark.backgroundSecondary},children:[l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.dark.primary,color:Kn(i.dark.primary)},children:"Primario"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px] font-semibold",style:{backgroundColor:i.dark.accent,color:Kn(i.dark.accent)},children:"Acento"}),l.jsx("span",{className:"rounded px-2 py-1 text-[10px]",style:{color:i.dark.primary,border:`1px solid ${i.dark.primary}`},children:"Outline"})]}),l.jsxs("div",{className:"rounded-md p-2 mt-2",style:{backgroundColor:i.dark.backgroundAccent},children:[l.jsx("div",{className:"font-semibold text-[11px] mb-1",children:"Tarjeta de Ejemplo"}),l.jsx("div",{className:"text-[10px] opacity-80",children:"Texto con color principal configurado."}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.dark.primary},children:"Texto Primario"}),l.jsx("span",{className:"text-[10px] font-semibold",style:{color:i.dark.accent},children:"Texto Acento"})]})]})]})]})]})]}),l.jsx("div",{className:"flex gap-3 pt-4 items-center",children:l.jsx(Dl,{onClick:se,variant:"secondary",disabled:p,children:Ne.settings.resetToDefault})})]})]}),l.jsx("div",{className:"mt-6",children:l.jsx(FV,{})})]})}function UV(e){const t=e.replace("#","");if(t.length!==6)return"#FFFFFF";const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,[a,i,s]=[r,n,o].map(u=>u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4));return .2126*a+.7152*i+.0722*s>.5?"#000000":"#FFFFFF"}function qV(e){const t=e.replace("#","");if(t.length!==6)return e;const r=parseInt(t.slice(0,2),16)/255,n=parseInt(t.slice(2,4),16)/255,o=parseInt(t.slice(4,6),16)/255,a=Math.max(r,n,o),i=Math.min(r,n,o),s=(a+i)/2;let c=0,u=0;if(a!==i){const y=a-i;switch(u=s>.5?y/(2-a-i):y/(a+i),a){case r:c=((n-o)/y+(n<o?6:0))/6;break;case n:c=((o-r)/y+2)/6;break;case o:c=((r-n)/y+4)/6;break}}c=(c+.5)%1;const d=(y,x,b)=>(b<0&&(b+=1),b>1&&(b-=1),b<1/6?y+(x-y)*6*b:b<1/2?x:b<2/3?y+(x-y)*(2/3-b)*6:y),f=s<.5?s*(1+u):s+u-s*u,p=2*s-f,m=Math.round(d(p,f,c+1/3)*255),v=Math.round(d(p,f,c)*255),g=Math.round(d(p,f,c-1/3)*255);return`#${m.toString(16).padStart(2,"0")}${v.toString(16).padStart(2,"0")}${g.toString(16).padStart(2,"0")}`}function WV(){const{bills:e,updateBillQuantity:t,getTotalCash:r,getCashMovements:n,resetCashDrawer:o,loading:a}=mC(),{theme:i,themeConfig:s}=bc(),{getSaleById:c,getSaleItems:u}=rp(),{complementaryColor:d,complementaryTextColor:f}=h.useMemo(()=>{const E=s[i].primary,A=qV(E);return{complementaryColor:A,complementaryTextColor:UV(A)}},[i,s]),[p,m]=h.useState(null),[v,g]=h.useState(""),[y,x]=h.useState(!1),[b,w]=h.useState([]),[k,S]=h.useState(!1),[_,N]=h.useState(null),[C,z]=h.useState([]),[U,M]=h.useState(!1),[Y,ae]=h.useState("all"),[Q,F]=h.useState("all"),[K,V]=h.useState({}),T=h.useCallback(async()=>{S(!0);const E=await n();w(E);const A=E.filter(O=>O.sale_id).map(O=>O.sale_id),H=[...new Set(A)],q={};for(const O of H){const ie=await c(O);ie&&(q[O]=ie.sale_number)}V(q),S(!1)},[n]);h.useEffect(()=>{y&&T()},[T,y]);const W=async(E,A)=>{try{const H=e.find(re=>re.denomination===E),q=H&&A>H.quantity;await t(E,A,q?"manual_add":"manual_remove",q?"Ajuste manual (agregado)":"Ajuste manual (retiro)"),m(null),g(""),y&&T()}catch(H){de.error(Ne.cashDrawer.errorUpdating),console.error(H)}},se=async(E,A)=>{const H=e.find(q=>q.denomination===E);if(H){const q=Math.max(0,H.quantity+A);await W(E,q)}},ge=E=>new Date(E).toLocaleString("es-AR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),ee=E=>{switch(E){case"sale":return Ne.cashDrawer.movementSale;case"manual_add":return Ne.cashDrawer.movementManualAdd;case"manual_remove":return Ne.cashDrawer.movementManualRemove;case"change_given":return Ne.cashDrawer.movementChangeGiven;case"cash_closing":return Ne.cashDrawer.movementCashClosing}},te=E=>{switch(E){case"sale":case"manual_add":return"text-green-600 dark:text-green-400";case"manual_remove":case"change_given":return"text-red-600 dark:text-red-400";case"cash_closing":return"text-blue-600 dark:text-blue-400"}},J=b.filter(E=>{if(Y!=="all"&&E.movement_type!==Y)return!1;if(Q!=="all"){const A=E.bills_in&&Object.keys(E.bills_in).includes(Q),H=E.bills_out&&Object.keys(E.bills_out).includes(Q);if(!A&&!H)return!1}return!0}),ye=()=>{const E=r();if(E===0){de.error("La caja ya est vaca");return}de("Cierre de Caja",{description:`Ests seguro de que deseas cerrar la caja? Se registrar el estado actual (${pe(E)}) y todos los billetes se establecern a 0.`,action:{label:"Cerrar",onClick:async()=>{try{await o(),de.success("Caja cerrada correctamente"),y&&T()}catch(A){de.error("Error al cerrar la caja"),console.error(A)}}},cancel:{label:"Cancelar",onClick:()=>{}}})},P=async E=>{try{const A=await c(E);if(A){N(A);const H=await u(E);z(H),M(!0)}else de.error("No se pudo cargar la venta")}catch(A){de.error("Error al cargar los detalles de la venta"),console.error(A)}};if(a)return l.jsx("div",{className:"p-6 dark:text-white",children:Ne.cashDrawer.loading});const B=r();return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(lv,{style:{color:"var(--color-primary)"}}),Ne.cashDrawer.title]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:Ne.cashDrawer.subtitle})]}),l.jsxs("div",{className:"rounded-lg shadow-lg p-6 mb-6",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-60 mb-1",style:{color:"var(--color-text)"},children:Ne.cashDrawer.totalCash}),l.jsx("div",{className:"text-4xl font-bold",style:{color:"var(--color-primary)"},children:pe(B)})]}),l.jsx(lv,{size:64,className:"text-gray-300 dark:text-gray-600"})]}),l.jsxs(Dl,{onClick:ye,disabled:B===0,className:"w-full py-2 px-4 rounded-lg bg-red-500 text-white hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 font-semibold transition-colors",variant:"secondary",children:[l.jsx(kI,{size:18}),"Cierre de Caja"]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:e.map(E=>l.jsxs("div",{className:"rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Ne.cashDrawer.billValue}),l.jsx("div",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:pe(E.denomination)})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Ne.cashDrawer.quantity}),p===E.denomination?l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx("input",{type:"number",min:"0",value:v,onChange:A=>g(A.target.value),className:"w-20 px-2 py-1 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",autoFocus:!0}),l.jsx("button",{onClick:()=>W(E.denomination,parseInt(v)||0),className:"px-2 py-1 rounded text-white text-sm",style:{backgroundColor:"var(--color-primary)"},children:Ne.cashDrawer.save})]}):l.jsx("button",{onClick:()=>{m(E.denomination),g(E.quantity.toString())},className:"text-3xl font-bold hover:opacity-70",style:{color:"var(--color-text)"},children:it(E.quantity)})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:Ne.cashDrawer.totalValue}),l.jsx("span",{className:"font-bold text-lg",style:{color:"var(--color-text)"},children:pe(E.denomination*E.quantity)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>se(E.denomination,-1),disabled:E.quantity===0,className:"flex-1 py-2 px-3 rounded hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1",style:{backgroundColor:d,color:f},children:[l.jsx(NI,{size:16}),Ne.cashDrawer.remove]}),l.jsxs("button",{onClick:()=>se(E.denomination,1),className:"flex-1 py-2 px-3 rounded text-white hover:opacity-90 flex items-center justify-center gap-1",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ns,{size:16}),Ne.cashDrawer.add]})]})]},E.denomination))}),l.jsx("div",{className:"mt-6 rounded-lg p-4 mb-6 border transition-colors",style:{backgroundColor:"var(--color-background-accent)",borderColor:"var(--color-accent)"},children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(RS,{size:20,className:"mt-0.5",style:{color:"var(--color-accent)"}}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)"},children:[l.jsx("div",{className:"font-semibold mb-1",style:{color:"var(--color-accent)"},children:Ne.cashDrawer.automaticUpdates}),l.jsx("div",{style:{opacity:.9},children:Ne.cashDrawer.automaticUpdatesDesc})]})]})}),l.jsxs("div",{className:"rounded-lg shadow-md",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("button",{onClick:()=>x(!y),className:"w-full p-6 flex items-center justify-between hover:opacity-80 transition-opacity",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(sy,{size:24,style:{color:"var(--color-primary)"}}),l.jsxs("div",{className:"text-left",children:[l.jsx("h2",{className:"text-xl font-bold",style:{color:"var(--color-text)"},children:Ne.cashDrawer.movementsLog}),l.jsx("p",{className:"text-sm",style:{color:"var(--color-text)",opacity:.7},children:Ne.cashDrawer.movementsLogDesc})]})]}),y?l.jsx(wI,{size:24,style:{color:"var(--color-text)"}}):l.jsx(yI,{size:24,style:{color:"var(--color-text)"}})]}),y&&l.jsx("div",{className:"border-t p-6",style:{borderColor:"var(--color-background-accent)"},children:k?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:Ne.cashDrawer.loading}):b.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:Ne.cashDrawer.noMovements}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Filtrar por Tipo"}),l.jsxs("select",{value:Y,onChange:E=>ae(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("option",{value:"all",children:"Todos"}),l.jsx("option",{value:"sale",children:"Venta"}),l.jsx("option",{value:"change_given",children:"Cambio Dado"}),l.jsx("option",{value:"cash_closing",children:"Cierre de Caja"}),l.jsx("option",{value:"manual_add",children:"Agregado Manual"}),l.jsx("option",{value:"manual_remove",children:"Retiro Manual"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",style:{color:"var(--color-text)"},children:"Filtrar por Billete"}),l.jsxs("select",{value:Q,onChange:E=>F(E.target.value),className:"w-full px-3 py-2 rounded-lg border",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)",borderColor:"var(--color-background-accent)"},children:[l.jsx("option",{value:"all",children:"Todos"}),e.map(E=>l.jsx("option",{value:E.denomination.toString(),children:pe(E.denomination)},E.denomination))]})]})]}),J.length===0?l.jsx("div",{className:"text-center py-8",style:{color:"var(--color-text)",opacity:.6},children:"No hay movimientos que coincidan con los filtros"}):l.jsx("div",{className:"space-y-3 max-h-96 overflow-auto scrollbar-hide",children:J.map(E=>l.jsx("div",{className:"p-4 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`font-semibold ${te(E.movement_type)}`,children:ee(E.movement_type)}),E.sale_id&&l.jsxs("button",{onClick:()=>P(E.sale_id),className:"text-xs px-2 py-0 rounded border transition-colors cursor-pointer",style:{borderColor:"var(--color-accent)",backgroundColor:"var(--color-background-secondary)",color:"var(--color-accent)"},children:["Venta #",K[E.sale_id]||E.sale_id.slice(0,8)]})]}),l.jsxs("div",{className:"text-sm",style:{color:"var(--color-text)",opacity:.9},children:[E.bills_in&&Object.keys(E.bills_in).length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries(E.bills_in).sort(([A],[H])=>Number(H)-Number(A)).map(([A,H])=>l.jsxs("span",{className:`
    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
    ${i==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}
  `,children:[it(H),"x"," ",pe(Number(A))]},A))}),E.bills_out&&Object.keys(E.bills_out).length>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:Object.entries(E.bills_out).sort(([A],[H])=>Number(H)-Number(A)).map(([A,H])=>l.jsxs("span",{className:`
    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
    ${i==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}
  `,children:[it(H),"x"," ",pe(Number(A))]},A))})]}),E.notes&&l.jsx("div",{className:"text-xs mt-1",style:{color:"var(--color-text)",opacity:.6},children:E.notes})]}),l.jsx("div",{className:"text-right text-xs",style:{color:"var(--color-text)",opacity:.6},children:ge(E.created_at)})]})},E.id))})]})})]}),U&&_&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-auto",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-6 border-b",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-background-accent)"},children:[l.jsx("h2",{className:"text-2xl font-bold",style:{color:"var(--color-text)"},children:"Detalles de Venta"}),l.jsx("button",{onClick:()=>M(!1),className:"flex justify-center p-2 rounded-lg transition-colors",style:{color:"var(--color-text)"},onMouseEnter:E=>{E.currentTarget.style.backgroundColor="var(--color-background-accent)"},onMouseLeave:E=>{E.currentTarget.style.backgroundColor="transparent"},children:l.jsx(wr,{size:24})})]}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-6 p-4 rounded-lg",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx("div",{className:"text-sm opacity-90 mb-1",children:"Venta"}),l.jsxs("div",{className:"text-2xl font-bold mb-3",children:["#",parseInt(_.sale_number.replace(/^S-/,""),10).toLocaleString("es-AR")]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Fecha"}),l.jsx("div",{className:"font-semibold",children:ge(_.completed_at)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"opacity-90",children:"Pago"}),l.jsx("div",{className:"font-semibold capitalize",children:_.payment_method})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",style:{color:"var(--color-text)"},children:[l.jsx(wo,{size:18}),"Artculos"]}),l.jsx("div",{className:"space-y-2",children:C.map(E=>l.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg",style:{backgroundColor:"var(--color-background-accent)"},children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold",style:{color:"var(--color-text)"},children:E.product_name}),l.jsxs("div",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:[pe(E.product_price)," "," ",it(E.quantity)]})]}),l.jsx("div",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(E.subtotal)})]},E.id))})]}),l.jsxs("div",{className:"border-t pt-4 space-y-2",style:{borderColor:"var(--color-background-accent)"},children:[l.jsxs("div",{className:"flex justify-between text-lg",style:{color:"var(--color-text)"},children:[l.jsx("span",{children:"Total:"}),l.jsx("span",{className:"font-bold",children:pe(_.total_amount)})]}),_.cash_received&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Efectivo Recibido:"}),l.jsx("span",{className:"font-bold",children:pe(_.cash_received)})]}),_.bills_received&&Object.keys(_.bills_received).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(_.bills_received).sort(([E],[A])=>Number(A)-Number(E)).map(([E,A])=>l.jsxs("span",{className:`
                            inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
                            ${i==="light"?"bg-emerald-800 text-emerald-100 ring-1 ring-emerald-900":"bg-emerald-100 text-emerald-800 ring-1 ring-emerald-200"}
  `,children:[it(A),"x"," ",pe(Number(E))]},E))})]}),l.jsxs("div",{className:"pt-2",children:[l.jsxs("div",{className:"flex justify-between text-sm mb-2",style:{color:"var(--color-text)"},children:[l.jsx("span",{className:"font-semibold",children:"Cambio Entregado:"}),l.jsx("span",{className:"font-bold",children:pe(_.change_given||0)})]}),_.bills_change&&Object.keys(_.bills_change).length>0&&l.jsx("div",{className:"ml-4 mt-1 flex flex-wrap gap-1",children:Object.entries(_.bills_change).sort(([E],[A])=>Number(A)-Number(E)).map(([E,A])=>l.jsxs("span",{className:`
                                    inline-flex items-center text-xs font-semibold px-2 py-1 rounded-full
                                    ${i==="light"?"bg-rose-800 text-rose-100 ring-1 ring-rose-900":"bg-rose-100 text-rose-800 ring-1 ring-rose-200"}`,children:[it(A),"x"," ",pe(Number(E))]},E))})]})]})]})]})]})})]})}function KV(){const{materiaPrima:e,addMateriaPrima:t,updateMateriaPrima:r,deleteMateriaPrima:n,loading:o}=Sc(),[a,i]=h.useState(!1),[s,c]=h.useState(null),[u,d]=h.useState({name:"",unit:"units",stock:"",cost_per_unit:""}),f=async y=>{y.preventDefault();try{s?await r(s,{name:u.name,unit:u.unit,stock:parseFloat(u.stock),cost_per_unit:parseFloat(u.cost_per_unit)}):await t({name:u.name,unit:u.unit,stock:parseFloat(u.stock),cost_per_unit:parseFloat(u.cost_per_unit)}),d({name:"",unit:"units",stock:"",cost_per_unit:""}),i(!1),c(null),de.success(s?"Materia prima actualizada exitosamente":"Materia prima agregada exitosamente")}catch(x){de.error("Error al guardar la materia prima"),console.error(x)}},p=y=>{d({name:y.name,unit:y.unit,stock:y.stock.toString(),cost_per_unit:y.cost_per_unit.toString()}),c(y.id),i(!0)},m=async y=>{de("Eliminar Materia Prima",{description:"Ests seguro de que deseas eliminar esta materia prima?",action:{label:"Eliminar",onClick:async()=>{try{await n(y),de.success("Materia prima eliminada exitosamente")}catch(x){de.error(x instanceof Error?x.message:"Error al eliminar la materia prima")}}},cancel:{label:"Cancelar",onClick:()=>{}}})},v=async(y,x)=>{try{await r(y.id,{stock:y.stock+x});const b=y.unit==="kg"?`${x}kg`:`${x} un.`;de.success(`+${b} agregado a ${y.name}`)}catch{de.error("Error al agregar stock")}},g=()=>{d({name:"",unit:"units",stock:"",cost_per_unit:""}),i(!1),c(null)};return o?l.jsx(np,{}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",style:{color:"var(--color-text)"},children:[l.jsx(fa,{style:{color:"var(--color-primary)"}}),"Materia Prima"]}),l.jsx("p",{className:"opacity-60 mt-2",style:{color:"var(--color-text)"},children:"Gestion los ingredientes y materiales necesarios para tus productos"})]}),!a&&l.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(ns,{size:20}),"Aadir Materia Prima"]})]}),a&&l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:l.jsxs("div",{className:"w-full max-w-md max-h-[90vh] overflow-auto rounded-xl shadow-2xl p-6 mx-4",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-xl font-bold mb-4",style:{color:"var(--color-text)"},children:s?"Editar Materia Prima":"Nueva Materia Prima"}),l.jsxs("form",{onSubmit:f,className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Nombre"}),l.jsx("input",{type:"text",required:!0,value:u.name,onChange:y=>d({...u,name:y.target.value}),placeholder:"Ej: Pan, Carne, Queso",className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Unidad de Medida"}),l.jsxs("select",{value:u.unit,onChange:y=>d({...u,unit:y.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"},children:[l.jsx("option",{value:"units",children:"Unidades"}),l.jsx("option",{value:"kg",children:"Kilogramos"})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Stock Disponible"}),l.jsx("input",{type:"number",step:"0.001",required:!0,value:u.stock,onChange:y=>d({...u,stock:y.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",style:{color:"var(--color-text)"},children:"Costo por Unidad ($)"}),l.jsx("input",{type:"number",step:"0.01",required:!0,value:u.cost_per_unit,onChange:y=>d({...u,cost_per_unit:y.target.value}),className:"w-full px-3 py-2 border rounded-lg",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)",borderColor:"var(--color-text)"}})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:[l.jsx(cy,{size:18}),s?"Actualizar":"Guardar"]}),l.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gray-300 dark:bg-gray-600 dark:text-white font-semibold",children:[l.jsx(wr,{size:18}),"Cancelar"]})]})]})]})}),e.length===0?l.jsxs("div",{className:"text-center py-12 rounded-lg",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx(fa,{size:48,className:"mx-auto mb-4 opacity-40",style:{color:"var(--color-text)"}}),l.jsx("p",{className:"text-lg opacity-60",style:{color:"var(--color-text)"},children:"No hay materia prima registrada"}),l.jsx("p",{className:"text-sm opacity-40 mt-2",style:{color:"var(--color-text)"},children:"Agreg ingredientes para vincularlos a tus productos"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map(y=>l.jsxs("div",{className:"rounded-lg shadow-md p-4 hover:shadow-lg transition-shadow border-2",style:{backgroundColor:"var(--color-background-secondary)",borderColor:"var(--color-primary)"},children:[l.jsxs("div",{className:"mb-3",children:[l.jsx("h3",{className:"text-lg font-bold",style:{color:"var(--color-text)"},children:y.name}),l.jsx("p",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:y.unit==="units"?"Unidades":"Kilogramos"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Stock:"}),l.jsxs("span",{className:"font-bold",style:{color:y.stock<10?"#ef4444":"var(--color-text)"},children:[it(y.stock)," ",y.unit==="units"?"un.":"kg"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Costo por Unidad:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-text)"},children:pe(y.cost_per_unit)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-sm opacity-60",style:{color:"var(--color-text)"},children:"Valor Total:"}),l.jsx("span",{className:"font-bold",style:{color:"var(--color-primary)"},children:pe(y.stock*y.cost_per_unit)})]})]}),l.jsx("div",{className:"flex gap-2 mt-3",children:(y.unit==="kg"?[.5,2.5,10]:[1,5,10]).map(x=>l.jsxs("button",{onClick:()=>v(y,x),className:"flex-1 py-1.5 rounded-lg text-xs font-semibold transition-all hover:opacity-80",style:{backgroundColor:"var(--color-primary)",color:"var(--color-on-primary)"},children:["+",x,y.unit==="kg"?"kg":" un."]},x))}),l.jsxs("div",{className:"flex gap-2 mt-2",children:[l.jsxs("button",{onClick:()=>p(y),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ly,{size:14}),"Editar"]}),l.jsxs("button",{onClick:()=>m(y.id),className:"flex-1 flex items-center justify-center gap-2 py-2 px-3 rounded-lg transition-all font-medium text-sm hover:opacity-80",style:{backgroundColor:"var(--color-background-accent)",color:"var(--color-text)"},children:[l.jsx(ri,{size:14}),"Eliminar"]})]})]},y.id))})]})}function HV(){const[e,t]=h.useState("pos"),[r,n]=h.useState(!0),[o,a]=h.useState(""),[i,s]=h.useState(!1),{logoConfig:c,loading:u}=uy(),{theme:d,toggleTheme:f,isLoading:p}=bc();if(h.useEffect(()=>{(async()=>{try{await L.init(),(!L.hasStore("materia_prima")||!L.hasStore("product_materia_prima"))&&s(!0)}catch(b){console.error("Database check error:",b)}})();const y=()=>{const b=new Date,w=String(b.getHours()).padStart(2,"0"),k=String(b.getMinutes()).padStart(2,"0");a(`${w}:${k}`)};y();const x=setInterval(y,1e3);return()=>clearInterval(x)},[]),u||p)return l.jsx(X4,{});const m=[{id:"pos",label:Ne.nav.pos,icon:DI},{id:"cashdrawer",label:Ne.nav.cashDrawer,icon:lv},{id:"sales",label:Ne.nav.sales,icon:sy},{id:"products",label:Ne.nav.products,icon:wo},{id:"materiaprima",label:"Materia Prima",icon:fa},{id:"metrics",label:Ne.nav.metrics,icon:AS},{id:"settings",label:Ne.nav.settings,icon:zS}],v=()=>{switch(e){case"pos":return l.jsx(yw,{});case"products":return l.jsx(Z4,{});case"materiaprima":return l.jsx(KV,{});case"sales":return l.jsx(J4,{});case"metrics":return l.jsx(RV,{});case"cashdrawer":return l.jsx(WV,{});case"settings":return l.jsx(BV,{});default:return l.jsx(yw,{})}};return l.jsxs("div",{className:"flex h-screen",style:{backgroundColor:"var(--color-background)",color:"var(--color-text)"},children:[i&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",style:{zIndex:9999},children:l.jsxs("div",{className:"rounded-lg shadow-lg p-8 max-w-md",style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",style:{color:"var(--color-primary)"},children:"Actualizacin Requerida"}),l.jsx("p",{className:"mb-6",style:{color:"var(--color-text)"},children:"La base de datos necesita actualizarse para soportar las nuevas funciones de Materia Prima. Por favor, recarg la pgina para continuar."}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-3 rounded-lg text-white font-semibold",style:{backgroundColor:"var(--color-primary)"},children:"Recargar Pgina"})]})}),l.jsxs("nav",{className:`${r?"w-20":"w-72"} shadow-lg flex flex-col transition-all duration-300`,style:{backgroundColor:"var(--color-background-secondary)"},children:[l.jsxs("div",{className:"p-4 border-b dark:border-gray-700",children:[r?l.jsx("div",{className:"flex justify-center",children:c.logo_image?l.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:l.jsx("img",{src:c.logo_image,alt:"Logo",className:"max-w-full max-h-full object-contain"})}):l.jsx("div",{className:"text-2xl font-bold px-2 py-1 rounded",style:{color:"var(--color-primary)"},children:c.acronym||"SSB"})}):l.jsx(l.Fragment,{children:l.jsx("h1",{className:"text-2xl font-bold",style:{color:"var(--color-primary)"},children:"Sper Smash Burger"})}),l.jsx("div",{className:`mt-3 ${r?"text-xl flex justify-center":"text-3xl text-center"} font-mono font-bold`,style:{color:"var(--color-text)"},children:o})]}),l.jsx("div",{className:"flex-1 p-3 space-y-2",children:m.map(g=>{const y=g.icon,x=e===g.id;return l.jsxs("button",{onClick:()=>t(g.id),className:`w-full flex items-center ${r?"justify-center px-2 py-1":"gap-4 px-5 py-4"} rounded-lg transition-all ${x?"text-white shadow-lg":"hover:opacity-80"}`,style:x?{backgroundColor:"var(--color-primary)",minHeight:"56px",color:"var(--color-on-primary)"}:{color:"var(--color-text)",minHeight:"56px"},title:r?g.label:void 0,children:[l.jsx(y,{size:24}),!r&&l.jsx("span",{className:"font-semibold text-base",children:g.label})]},g.id)})}),l.jsxs("div",{className:"p-3 border-t dark:border-gray-700 space-y-2",children:[l.jsx("button",{onClick:f,className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg hover:opacity-80 transition-all",style:{color:"var(--color-text)",minHeight:"52px"},title:d==="light"?"Cambiar a modo oscuro":"Cambiar a modo claro",children:d==="light"?l.jsx(PI,{size:24}):l.jsx(MI,{size:24})}),l.jsxs("button",{onClick:()=>n(!r),className:"w-full flex items-center justify-center gap-2 py-3 rounded-lg hover:opacity-80 transition-all",style:{color:"var(--color-text)",minHeight:"52px"},title:r?"Expandir barra lateral":"Contraer barra lateral",children:[r?l.jsx(bI,{size:24}):l.jsx(xI,{size:24}),!r&&l.jsx("span",{className:"text-base font-medium",children:Ne.nav.collapse})]})]})]}),l.jsx("main",{className:"flex-1 overflow-y-auto scrollbar-hide",children:v()})]})}function VV(){return l.jsx(pT,{children:l.jsxs(mT,{children:[l.jsx(HV,{}),l.jsx(cT,{position:"top-center",richColors:!0,duration:1e3})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/ssb/sw.js").then(t=>{console.log("ServiceWorker registered:",t.scope)},t=>{console.log("ServiceWorker registration failed:",t)})});const g_=document.getElementById("root");g_?OS(g_).render(l.jsx(h.StrictMode,{children:l.jsx(VV,{})})):console.error('Root element with id="root" was not found in the document.');
